"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_ssr_components_tabs_InsightsTab_tsx";
exports.ids = ["_ssr_components_tabs_InsightsTab_tsx"];
exports.modules = {

/***/ "(ssr)/./components/KPICard.tsx":
/*!********************************!*\
  !*** ./components/KPICard.tsx ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   KPICard: () => (/* binding */ KPICard)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/utils */ \"(ssr)/./lib/utils.ts\");\n/* __next_internal_client_entry_do_not_use__ KPICard auto */ \n\nfunction KPICard({ title, value, subtitle, trend, variant = \"default\" }) {\n    const variantStyles = {\n        default: \"border-border\",\n        success: \"border-success/50 bg-success/5\",\n        error: \"border-error/50 bg-error/5\",\n        warning: \"border-warning/50 bg-warning/5\"\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_1__.cn)(\"p-6 rounded-lg border bg-card\", variantStyles[variant]),\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center justify-between mb-2\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                        className: \"text-sm font-medium text-muted-foreground\",\n                        children: title\n                    }, void 0, false, {\n                        fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/KPICard.tsx\",\n                        lineNumber: 39,\n                        columnNumber: 9\n                    }, this),\n                    trend && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_1__.cn)(\"text-xs font-medium\", trend.isPositive ? \"text-success\" : \"text-error\"),\n                        children: [\n                            trend.isPositive ? \"+\" : \"\",\n                            trend.value.toFixed(1),\n                            \"%\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/KPICard.tsx\",\n                        lineNumber: 41,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/KPICard.tsx\",\n                lineNumber: 38,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-baseline gap-2\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-2xl font-bold\",\n                        children: value\n                    }, void 0, false, {\n                        fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/KPICard.tsx\",\n                        lineNumber: 53,\n                        columnNumber: 9\n                    }, this),\n                    subtitle && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-sm text-muted-foreground\",\n                        children: subtitle\n                    }, void 0, false, {\n                        fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/KPICard.tsx\",\n                        lineNumber: 55,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/KPICard.tsx\",\n                lineNumber: 52,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/KPICard.tsx\",\n        lineNumber: 32,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL0tQSUNhcmQudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBRWlDO0FBYzFCLFNBQVNDLFFBQVEsRUFDdEJDLEtBQUssRUFDTEMsS0FBSyxFQUNMQyxRQUFRLEVBQ1JDLEtBQUssRUFDTEMsVUFBVSxTQUFTLEVBQ047SUFDYixNQUFNQyxnQkFBZ0I7UUFDcEJDLFNBQVM7UUFDVEMsU0FBUztRQUNUQyxPQUFPO1FBQ1BDLFNBQVM7SUFDWDtJQUVBLHFCQUNFLDhEQUFDQztRQUNDQyxXQUFXYiw4Q0FBRUEsQ0FDWCxpQ0FDQU8sYUFBYSxDQUFDRCxRQUFROzswQkFHeEIsOERBQUNNO2dCQUFJQyxXQUFVOztrQ0FDYiw4REFBQ0M7d0JBQUdELFdBQVU7a0NBQTZDWDs7Ozs7O29CQUMxREcsdUJBQ0MsOERBQUNVO3dCQUNDRixXQUFXYiw4Q0FBRUEsQ0FDWCx1QkFDQUssTUFBTVcsVUFBVSxHQUFHLGlCQUFpQjs7NEJBR3JDWCxNQUFNVyxVQUFVLEdBQUcsTUFBTTs0QkFDekJYLE1BQU1GLEtBQUssQ0FBQ2MsT0FBTyxDQUFDOzRCQUFHOzs7Ozs7Ozs7Ozs7OzBCQUk5Qiw4REFBQ0w7Z0JBQUlDLFdBQVU7O2tDQUNiLDhEQUFDSzt3QkFBRUwsV0FBVTtrQ0FBc0JWOzs7Ozs7b0JBQ2xDQywwQkFDQyw4REFBQ2M7d0JBQUVMLFdBQVU7a0NBQWlDVDs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBS3hEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3ItYW5hbHl0aWNzLWRhc2hib2FyZC8uL2NvbXBvbmVudHMvS1BJQ2FyZC50c3g/OGMwYSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5cbmltcG9ydCB7IGNuIH0gZnJvbSAnQC9saWIvdXRpbHMnO1xuaW1wb3J0IHsgZm9ybWF0TnVtYmVyLCBmb3JtYXRDdXJyZW5jeSB9IGZyb20gJ0AvbGliL3V0aWxzJztcblxuaW50ZXJmYWNlIEtQSUNhcmRQcm9wcyB7XG4gIHRpdGxlOiBzdHJpbmc7XG4gIHZhbHVlOiBzdHJpbmcgfCBudW1iZXI7XG4gIHN1YnRpdGxlPzogc3RyaW5nO1xuICB0cmVuZD86IHtcbiAgICB2YWx1ZTogbnVtYmVyO1xuICAgIGlzUG9zaXRpdmU6IGJvb2xlYW47XG4gIH07XG4gIHZhcmlhbnQ/OiAnZGVmYXVsdCcgfCAnc3VjY2VzcycgfCAnZXJyb3InIHwgJ3dhcm5pbmcnO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gS1BJQ2FyZCh7XG4gIHRpdGxlLFxuICB2YWx1ZSxcbiAgc3VidGl0bGUsXG4gIHRyZW5kLFxuICB2YXJpYW50ID0gJ2RlZmF1bHQnLFxufTogS1BJQ2FyZFByb3BzKSB7XG4gIGNvbnN0IHZhcmlhbnRTdHlsZXMgPSB7XG4gICAgZGVmYXVsdDogJ2JvcmRlci1ib3JkZXInLFxuICAgIHN1Y2Nlc3M6ICdib3JkZXItc3VjY2Vzcy81MCBiZy1zdWNjZXNzLzUnLFxuICAgIGVycm9yOiAnYm9yZGVyLWVycm9yLzUwIGJnLWVycm9yLzUnLFxuICAgIHdhcm5pbmc6ICdib3JkZXItd2FybmluZy81MCBiZy13YXJuaW5nLzUnLFxuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdlxuICAgICAgY2xhc3NOYW1lPXtjbihcbiAgICAgICAgJ3AtNiByb3VuZGVkLWxnIGJvcmRlciBiZy1jYXJkJyxcbiAgICAgICAgdmFyaWFudFN0eWxlc1t2YXJpYW50XVxuICAgICAgKX1cbiAgICA+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBtYi0yXCI+XG4gICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiPnt0aXRsZX08L2gzPlxuICAgICAgICB7dHJlbmQgJiYgKFxuICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICBjbGFzc05hbWU9e2NuKFxuICAgICAgICAgICAgICAndGV4dC14cyBmb250LW1lZGl1bScsXG4gICAgICAgICAgICAgIHRyZW5kLmlzUG9zaXRpdmUgPyAndGV4dC1zdWNjZXNzJyA6ICd0ZXh0LWVycm9yJ1xuICAgICAgICAgICAgKX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7dHJlbmQuaXNQb3NpdGl2ZSA/ICcrJyA6ICcnfVxuICAgICAgICAgICAge3RyZW5kLnZhbHVlLnRvRml4ZWQoMSl9JVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWJhc2VsaW5lIGdhcC0yXCI+XG4gICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZFwiPnt2YWx1ZX08L3A+XG4gICAgICAgIHtzdWJ0aXRsZSAmJiAoXG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LW11dGVkLWZvcmVncm91bmRcIj57c3VidGl0bGV9PC9wPlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cblxuXG5cblxuXG5cblxuIl0sIm5hbWVzIjpbImNuIiwiS1BJQ2FyZCIsInRpdGxlIiwidmFsdWUiLCJzdWJ0aXRsZSIsInRyZW5kIiwidmFyaWFudCIsInZhcmlhbnRTdHlsZXMiLCJkZWZhdWx0Iiwic3VjY2VzcyIsImVycm9yIiwid2FybmluZyIsImRpdiIsImNsYXNzTmFtZSIsImgzIiwic3BhbiIsImlzUG9zaXRpdmUiLCJ0b0ZpeGVkIiwicCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./components/KPICard.tsx\n");

/***/ }),

/***/ "(ssr)/./components/tabs/InsightsTab.tsx":
/*!*****************************************!*\
  !*** ./components/tabs/InsightsTab.tsx ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   InsightsTab: () => (/* binding */ InsightsTab)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _store_useStore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/store/useStore */ \"(ssr)/./store/useStore.ts\");\n/* harmony import */ var _lib_insights__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/insights */ \"(ssr)/./lib/insights.ts\");\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/utils */ \"(ssr)/./lib/utils.ts\");\n/* harmony import */ var _components_KPICard__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/KPICard */ \"(ssr)/./components/KPICard.tsx\");\n/* __next_internal_client_entry_do_not_use__ InsightsTab auto */ \n\n\n\n\n\n\nfunction InsightsTab() {\n    const filteredTransactions = (0,_store_useStore__WEBPACK_IMPORTED_MODULE_2__.useStore)((state)=>state.filteredTransactions);\n    const useIndexedDB = (0,_store_useStore__WEBPACK_IMPORTED_MODULE_2__.useStore)((state)=>state._useIndexedDB);\n    const filteredTransactionCount = (0,_store_useStore__WEBPACK_IMPORTED_MODULE_2__.useStore)((state)=>state.filteredTransactionCount);\n    const streamFilteredTransactions = (0,_store_useStore__WEBPACK_IMPORTED_MODULE_2__.useStore)((state)=>state.streamFilteredTransactions);\n    const [sortColumn, setSortColumn] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"impactScore\");\n    const [sortDirection, setSortDirection] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"desc\");\n    const [filterPaymentMode, setFilterPaymentMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"ALL\");\n    const [insights, setInsights] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [isGeneratingInsights, setIsGeneratingInsights] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [currentPage, setCurrentPage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);\n    const itemsPerPage = 50;\n    // Generate insights asynchronously with debouncing\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const hasData = useIndexedDB ? filteredTransactionCount > 0 : filteredTransactions.length > 0;\n        if (!hasData) {\n            setInsights([]);\n            return;\n        }\n        setIsGeneratingInsights(true);\n        const timeoutId = setTimeout(async ()=>{\n            try {\n                if (useIndexedDB) {\n                    // For large datasets (5GB+), stream and process in batches - DON'T accumulate all\n                    console.log(`Streaming ${filteredTransactionCount} transactions from IndexedDB for insights...`);\n                    // Process insights in TINY batches - NEVER accumulate more than 2k at a time\n                    let tempInsights = [];\n                    const batchSize = 2000; // Very small batches - 2k max to prevent crashes\n                    let currentBatch = [];\n                    await streamFilteredTransactions(async (chunk)=>{\n                        // Process chunk immediately - don't accumulate\n                        for (const tx of chunk){\n                            currentBatch.push(tx);\n                            // Process immediately when batch is full\n                            if (currentBatch.length >= batchSize) {\n                                const batchToProcess = currentBatch.splice(0, batchSize);\n                                const batchInsights = await (0,_lib_insights__WEBPACK_IMPORTED_MODULE_3__.generateFailureInsights)(batchToProcess, 2500);\n                                // Merge insights but limit total size aggressively\n                                tempInsights = [\n                                    ...tempInsights,\n                                    ...batchInsights\n                                ];\n                                // Limit total insights aggressively to prevent memory issues\n                                if (tempInsights.length > 200) {\n                                    tempInsights.sort((a, b)=>b.impactScore - a.impactScore);\n                                    tempInsights = tempInsights.slice(0, 200);\n                                }\n                                // Yield frequently to keep UI responsive\n                                await new Promise((resolve)=>setTimeout(resolve, 30));\n                            }\n                        }\n                    }, 2500); // Very small chunks from IndexedDB\n                    // Process remaining batch\n                    if (currentBatch.length > 0) {\n                        const batchInsights = await (0,_lib_insights__WEBPACK_IMPORTED_MODULE_3__.generateFailureInsights)(currentBatch, 2500);\n                        tempInsights = [\n                            ...tempInsights,\n                            ...batchInsights\n                        ];\n                    }\n                    // Always limit insights to top 200 to prevent memory issues\n                    if (tempInsights.length > 200) {\n                        tempInsights.sort((a, b)=>b.impactScore - a.impactScore);\n                        tempInsights = tempInsights.slice(0, 200);\n                    }\n                    setInsights(tempInsights);\n                    setCurrentPage(1);\n                    setIsGeneratingInsights(false);\n                    return; // Exit early - we've already set insights\n                } else {\n                    // Small dataset - use in-memory transactions\n                    const transactions = filteredTransactions;\n                    if (transactions.length > 0) {\n                        console.log(`Generating insights from ${transactions.length} transactions...`);\n                        const generatedInsights = await (0,_lib_insights__WEBPACK_IMPORTED_MODULE_3__.generateFailureInsights)(transactions, 25000);\n                        setInsights(generatedInsights);\n                        setCurrentPage(1);\n                    } else {\n                        setInsights([]);\n                    }\n                }\n            } catch (error) {\n                console.error(\"Error generating insights:\", error);\n                setInsights([]);\n            } finally{\n                setIsGeneratingInsights(false);\n            }\n        }, 500); // Longer debounce for large files (5GB+)\n        return ()=>clearTimeout(timeoutId);\n    }, [\n        filteredTransactions,\n        useIndexedDB,\n        filteredTransactionCount,\n        streamFilteredTransactions\n    ]);\n    // Get unique payment modes for filter\n    const paymentModes = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        const modes = new Set(insights.map((i)=>i.paymentMode));\n        return [\n            \"ALL\",\n            ...Array.from(modes).sort()\n        ];\n    }, [\n        insights\n    ]);\n    // Filter insights by payment mode\n    const filteredInsights = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        let filtered = insights;\n        if (filterPaymentMode !== \"ALL\") {\n            filtered = filtered.filter((i)=>i.paymentMode === filterPaymentMode);\n        }\n        return filtered;\n    }, [\n        insights,\n        filterPaymentMode\n    ]);\n    // Sort insights\n    const sortedInsights = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        const sorted = [\n            ...filteredInsights\n        ];\n        sorted.sort((a, b)=>{\n            const aVal = a[sortColumn];\n            const bVal = b[sortColumn];\n            if (typeof aVal === \"number\" && typeof bVal === \"number\") {\n                return sortDirection === \"asc\" ? aVal - bVal : bVal - aVal;\n            }\n            if (typeof aVal === \"string\" && typeof bVal === \"string\") {\n                return sortDirection === \"asc\" ? aVal.localeCompare(bVal) : bVal.localeCompare(aVal);\n            }\n            return 0;\n        });\n        return sorted;\n    }, [\n        filteredInsights,\n        sortColumn,\n        sortDirection\n    ]);\n    // Pagination\n    const totalPages = Math.ceil(sortedInsights.length / itemsPerPage);\n    const paginatedInsights = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        const startIndex = (currentPage - 1) * itemsPerPage;\n        return sortedInsights.slice(startIndex, startIndex + itemsPerPage);\n    }, [\n        sortedInsights,\n        currentPage\n    ]);\n    // Compute summary stats\n    const summaryStats = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        if (insights.length === 0) {\n            return {\n                totalInsights: 0,\n                criticalInsights: 0,\n                increasingTrends: 0,\n                highImpact: 0\n            };\n        }\n        return {\n            totalInsights: insights.length,\n            criticalInsights: insights.filter((i)=>i.isAnomaly).length,\n            increasingTrends: insights.filter((i)=>i.trendDirection === \"INCREASING\").length,\n            highImpact: insights.filter((i)=>i.failureShare > 10).length\n        };\n    }, [\n        insights\n    ]);\n    const handleSort = (column)=>{\n        if (sortColumn === column) {\n            setSortDirection(sortDirection === \"asc\" ? \"desc\" : \"asc\");\n        } else {\n            setSortColumn(column);\n            setSortDirection(\"desc\");\n        }\n    };\n    const getTrendIcon = (trend)=>{\n        switch(trend){\n            case \"INCREASING\":\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                    className: \"w-4 h-4 text-error\",\n                    fill: \"none\",\n                    stroke: \"currentColor\",\n                    viewBox: \"0 0 24 24\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                        strokeLinecap: \"round\",\n                        strokeLinejoin: \"round\",\n                        strokeWidth: 2,\n                        d: \"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6\"\n                    }, void 0, false, {\n                        fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                        lineNumber: 191,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                    lineNumber: 190,\n                    columnNumber: 11\n                }, this);\n            case \"DECREASING\":\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                    className: \"w-4 h-4 text-success\",\n                    fill: \"none\",\n                    stroke: \"currentColor\",\n                    viewBox: \"0 0 24 24\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                        strokeLinecap: \"round\",\n                        strokeLinejoin: \"round\",\n                        strokeWidth: 2,\n                        d: \"M13 17h8m0 0V9m0 8l-8-8-4 4-6-6\"\n                    }, void 0, false, {\n                        fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                        lineNumber: 197,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                    lineNumber: 196,\n                    columnNumber: 11\n                }, this);\n            case \"STABLE\":\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                    className: \"w-4 h-4 text-muted-foreground\",\n                    fill: \"none\",\n                    stroke: \"currentColor\",\n                    viewBox: \"0 0 24 24\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                        strokeLinecap: \"round\",\n                        strokeLinejoin: \"round\",\n                        strokeWidth: 2,\n                        d: \"M5 12h14\"\n                    }, void 0, false, {\n                        fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                        lineNumber: 203,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                    lineNumber: 202,\n                    columnNumber: 11\n                }, this);\n        }\n    };\n    const getTrendColor = (trend)=>{\n        switch(trend){\n            case \"INCREASING\":\n                return \"text-error\";\n            case \"DECREASING\":\n                return \"text-success\";\n            case \"STABLE\":\n                return \"text-muted-foreground\";\n        }\n    };\n    const hasData = useIndexedDB ? filteredTransactionCount > 0 : filteredTransactions.length > 0;\n    if (!hasData) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex items-center justify-center p-12\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                className: \"text-muted-foreground\",\n                children: \"No data available. Please upload a file to see insights.\"\n            }, void 0, false, {\n                fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                lineNumber: 225,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n            lineNumber: 224,\n            columnNumber: 7\n        }, this);\n    }\n    if (isGeneratingInsights) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex items-center justify-center p-12\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4\"\n                    }, void 0, false, {\n                        fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                        lineNumber: 234,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-muted-foreground\",\n                        children: [\n                            \"Generating insights from \",\n                            (useIndexedDB ? filteredTransactionCount : filteredTransactions.length).toLocaleString(),\n                            \" transactions...\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                        lineNumber: 235,\n                        columnNumber: 11\n                    }, this),\n                    useIndexedDB && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-xs text-muted-foreground mt-2\",\n                        children: \"Streaming from IndexedDB (this may take a few minutes for large files)\"\n                    }, void 0, false, {\n                        fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                        lineNumber: 239,\n                        columnNumber: 13\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                lineNumber: 233,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n            lineNumber: 232,\n            columnNumber: 7\n        }, this);\n    }\n    if (insights.length === 0) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex items-center justify-center p-12\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-6xl mb-4\",\n                        children: \"\\uD83C\\uDF89\"\n                    }, void 0, false, {\n                        fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                        lineNumber: 250,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-lg font-semibold\",\n                        children: \"No Significant Issues Detected!\"\n                    }, void 0, false, {\n                        fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                        lineNumber: 251,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-muted-foreground mt-2\",\n                        children: \"Your failure patterns are stable and no anomalies were found.\"\n                    }, void 0, false, {\n                        fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                        lineNumber: 252,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                lineNumber: 249,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n            lineNumber: 248,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"space-y-6\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-card border border-border rounded-lg p-6\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-start justify-between mb-4\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                        className: \"text-xl font-semibold\",\n                                        children: \"Automated Failure Insights\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                                        lineNumber: 266,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-sm text-muted-foreground mt-1\",\n                                        children: \"AI-powered analysis of failed transactions with actionable recommendations\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                                        lineNumber: 267,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                                lineNumber: 265,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center gap-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"w-3 h-3 rounded-full bg-green-500 animate-pulse\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                                        lineNumber: 272,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-sm text-muted-foreground\",\n                                        children: \"Auto-Generated\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                                        lineNumber: 273,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                                lineNumber: 271,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                        lineNumber: 264,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_KPICard__WEBPACK_IMPORTED_MODULE_5__.KPICard, {\n                                title: \"Total Insights\",\n                                value: summaryStats.totalInsights.toString(),\n                                variant: \"default\"\n                            }, void 0, false, {\n                                fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                                lineNumber: 279,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_KPICard__WEBPACK_IMPORTED_MODULE_5__.KPICard, {\n                                title: \"Critical Anomalies\",\n                                value: summaryStats.criticalInsights.toString(),\n                                variant: summaryStats.criticalInsights > 0 ? \"error\" : \"success\"\n                            }, void 0, false, {\n                                fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                                lineNumber: 284,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_KPICard__WEBPACK_IMPORTED_MODULE_5__.KPICard, {\n                                title: \"Increasing Trends\",\n                                value: summaryStats.increasingTrends.toString(),\n                                variant: summaryStats.increasingTrends > 5 ? \"warning\" : \"default\"\n                            }, void 0, false, {\n                                fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                                lineNumber: 289,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_KPICard__WEBPACK_IMPORTED_MODULE_5__.KPICard, {\n                                title: \"High Impact Issues\",\n                                value: summaryStats.highImpact.toString(),\n                                variant: summaryStats.highImpact > 0 ? \"error\" : \"success\"\n                            }, void 0, false, {\n                                fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                                lineNumber: 294,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                        lineNumber: 278,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                lineNumber: 263,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-card border border-border rounded-lg p-4\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex flex-wrap items-center gap-4\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex-1 min-w-[250px]\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    className: \"block text-sm font-medium mb-2\",\n                                    children: \"Filter by Payment Mode\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                                    lineNumber: 306,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(PaymentModeDropdown, {\n                                    value: filterPaymentMode,\n                                    options: paymentModes,\n                                    onChange: setFilterPaymentMode\n                                }, void 0, false, {\n                                    fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                                    lineNumber: 307,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                            lineNumber: 305,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center gap-2 text-sm text-muted-foreground\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                children: [\n                                    \"Showing \",\n                                    paginatedInsights.length > 0 ? (currentPage - 1) * itemsPerPage + 1 : 0,\n                                    \"-\",\n                                    Math.min(currentPage * itemsPerPage, sortedInsights.length),\n                                    \" of \",\n                                    sortedInsights.length,\n                                    \" insights\",\n                                    sortedInsights.length !== insights.length && ` (${insights.length} total)`\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                                lineNumber: 314,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                            lineNumber: 313,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                    lineNumber: 304,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                lineNumber: 303,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-card border border-border rounded-lg overflow-hidden\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"overflow-x-auto\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"table\", {\n                            className: \"w-full text-sm\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"thead\", {\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tr\", {\n                                        className: \"border-b border-border bg-muted/30\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                className: \"text-left py-3 px-4 font-semibold text-muted-foreground cursor-pointer hover:text-foreground transition-colors\",\n                                                onClick: ()=>handleSort(\"paymentMode\"),\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-center gap-1\",\n                                                    children: [\n                                                        \"Payment Mode\",\n                                                        sortColumn === \"paymentMode\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"text-primary\",\n                                                            children: sortDirection === \"asc\" ? \"↑\" : \"↓\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                                                            lineNumber: 336,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                                                    lineNumber: 333,\n                                                    columnNumber: 19\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                                                lineNumber: 329,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                className: \"text-left py-3 px-4 font-semibold text-muted-foreground cursor-pointer hover:text-foreground transition-colors\",\n                                                onClick: ()=>handleSort(\"cfErrorDescription\"),\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-center gap-1\",\n                                                    children: [\n                                                        \"CF Error Description\",\n                                                        sortColumn === \"cfErrorDescription\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"text-primary\",\n                                                            children: sortDirection === \"asc\" ? \"↑\" : \"↓\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                                                            lineNumber: 347,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                                                    lineNumber: 344,\n                                                    columnNumber: 19\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                                                lineNumber: 340,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                className: \"text-right py-3 px-4 font-semibold text-muted-foreground cursor-pointer hover:text-foreground transition-colors\",\n                                                onClick: ()=>handleSort(\"failureShare\"),\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-center justify-end gap-1\",\n                                                    children: [\n                                                        \"Failure Share (%)\",\n                                                        sortColumn === \"failureShare\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"text-primary\",\n                                                            children: sortDirection === \"asc\" ? \"↑\" : \"↓\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                                                            lineNumber: 358,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                                                    lineNumber: 355,\n                                                    columnNumber: 19\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                                                lineNumber: 351,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                className: \"text-left py-3 px-4 font-semibold text-muted-foreground cursor-pointer hover:text-foreground transition-colors\",\n                                                onClick: ()=>handleSort(\"primarySpikePeriod\"),\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-center gap-1\",\n                                                    children: [\n                                                        \"Primary Spike Period\",\n                                                        sortColumn === \"primarySpikePeriod\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"text-primary\",\n                                                            children: sortDirection === \"asc\" ? \"↑\" : \"↓\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                                                            lineNumber: 369,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                                                    lineNumber: 366,\n                                                    columnNumber: 19\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                                                lineNumber: 362,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                className: \"text-center py-3 px-4 font-semibold text-muted-foreground cursor-pointer hover:text-foreground transition-colors\",\n                                                onClick: ()=>handleSort(\"trendDirection\"),\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-center justify-center gap-1\",\n                                                    children: [\n                                                        \"Trend\",\n                                                        sortColumn === \"trendDirection\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"text-primary\",\n                                                            children: sortDirection === \"asc\" ? \"↑\" : \"↓\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                                                            lineNumber: 380,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                                                    lineNumber: 377,\n                                                    columnNumber: 19\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                                                lineNumber: 373,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                className: \"text-right py-3 px-4 font-semibold text-muted-foreground cursor-pointer hover:text-foreground transition-colors\",\n                                                onClick: ()=>handleSort(\"volumeDelta\"),\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-center justify-end gap-1\",\n                                                    children: [\n                                                        \"Volume Δ\",\n                                                        sortColumn === \"volumeDelta\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"text-primary\",\n                                                            children: sortDirection === \"asc\" ? \"↑\" : \"↓\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                                                            lineNumber: 391,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                                                    lineNumber: 388,\n                                                    columnNumber: 19\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                                                lineNumber: 384,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                className: \"text-left py-3 px-4 font-semibold text-muted-foreground\",\n                                                children: \"Insight Summary\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                                                lineNumber: 395,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                className: \"text-left py-3 px-4 font-semibold text-muted-foreground\",\n                                                children: \"Actionable Recommendation\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                                                lineNumber: 398,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                                        lineNumber: 328,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                                    lineNumber: 327,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tbody\", {\n                                    children: paginatedInsights.map((insight, idx)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tr\", {\n                                            className: `border-b border-border hover:bg-muted/20 transition-colors ${insight.isAnomaly ? \"bg-red-500/5\" : \"\"}`,\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                    className: \"py-3 px-4\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex items-center gap-2\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"font-medium\",\n                                                                children: insight.paymentMode\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                                                                lineNumber: 413,\n                                                                columnNumber: 23\n                                                            }, this),\n                                                            insight.isAnomaly && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"px-2 py-0.5 rounded text-xs bg-red-500/20 text-red-300 border border-red-500/50\",\n                                                                children: \"ANOMALY\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                                                                lineNumber: 415,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                                                        lineNumber: 412,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                                                    lineNumber: 411,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                    className: \"py-3 px-4\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"max-w-xs\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"text-foreground\",\n                                                                children: insight.cfErrorDescription\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                                                                lineNumber: 423,\n                                                                columnNumber: 23\n                                                            }, this),\n                                                            insight.spikeType && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"text-xs text-muted-foreground mt-1\",\n                                                                children: insight.spikeType.replace(\"_\", \" \")\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                                                                lineNumber: 425,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                                                        lineNumber: 422,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                                                    lineNumber: 421,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                    className: \"text-right py-3 px-4\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: `font-medium ${insight.failureShare > 10 ? \"text-error\" : insight.failureShare > 5 ? \"text-warning\" : \"text-foreground\"}`,\n                                                            children: [\n                                                                insight.failureShare.toFixed(1),\n                                                                \"%\"\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                                                            lineNumber: 432,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"text-xs text-muted-foreground mt-1\",\n                                                            children: [\n                                                                (0,_lib_utils__WEBPACK_IMPORTED_MODULE_4__.formatNumber)(insight.currentVolume),\n                                                                \" failures\"\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                                                            lineNumber: 443,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                                                    lineNumber: 431,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                    className: \"py-3 px-4\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-foreground\",\n                                                        children: insight.primarySpikePeriod\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                                                        lineNumber: 448,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                                                    lineNumber: 447,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                    className: \"text-center py-3 px-4\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex items-center justify-center gap-2\",\n                                                        children: [\n                                                            getTrendIcon(insight.trendDirection),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: `text-sm font-medium ${getTrendColor(insight.trendDirection)}`,\n                                                                children: insight.trendDirection\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                                                                lineNumber: 453,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                                                        lineNumber: 451,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                                                    lineNumber: 450,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                    className: \"text-right py-3 px-4\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex flex-col items-end gap-1\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: `font-medium ${insight.volumeDelta > 50 ? \"text-error\" : insight.volumeDelta > 20 ? \"text-warning\" : insight.volumeDelta < -20 ? \"text-success\" : \"text-muted-foreground\"}`,\n                                                                children: [\n                                                                    insight.volumeDelta >= 0 ? \"+\" : \"\",\n                                                                    (0,_lib_utils__WEBPACK_IMPORTED_MODULE_4__.formatNumber)(insight.volumeDelta)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                                                                lineNumber: 460,\n                                                                columnNumber: 23\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"text-sm font-semibold text-foreground\",\n                                                                children: [\n                                                                    \"Total: \",\n                                                                    (0,_lib_utils__WEBPACK_IMPORTED_MODULE_4__.formatNumber)(insight.currentVolume)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                                                                lineNumber: 474,\n                                                                columnNumber: 23\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"text-xs text-muted-foreground\",\n                                                                children: [\n                                                                    (0,_lib_utils__WEBPACK_IMPORTED_MODULE_4__.formatNumber)(insight.previousVolume),\n                                                                    \" → \",\n                                                                    (0,_lib_utils__WEBPACK_IMPORTED_MODULE_4__.formatNumber)(insight.currentVolume)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                                                                lineNumber: 477,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                                                        lineNumber: 459,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                                                    lineNumber: 458,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                    className: \"py-3 px-4\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"max-w-md text-sm text-foreground\",\n                                                        children: insight.insightSummary\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                                                        lineNumber: 483,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                                                    lineNumber: 482,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                    className: \"py-3 px-4\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: `max-w-md text-sm p-3 rounded-lg border ${insight.actionableRecommendation.startsWith(\"URGENT\") || insight.actionableRecommendation.startsWith(\"Critical\") ? \"bg-red-500/10 border-red-500/50 text-red-200\" : insight.failureShare > 10 ? \"bg-orange-500/10 border-orange-500/50 text-orange-200\" : \"bg-blue-500/10 border-blue-500/50 text-blue-200\"}`,\n                                                        children: insight.actionableRecommendation\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                                                        lineNumber: 486,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                                                    lineNumber: 485,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, idx, true, {\n                                            fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                                            lineNumber: 405,\n                                            columnNumber: 17\n                                        }, this))\n                                }, void 0, false, {\n                                    fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                                    lineNumber: 403,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                            lineNumber: 326,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                        lineNumber: 325,\n                        columnNumber: 9\n                    }, this),\n                    totalPages > 1 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center justify-between p-4 border-t border-border\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-sm text-muted-foreground\",\n                                children: [\n                                    \"Page \",\n                                    currentPage,\n                                    \" of \",\n                                    totalPages\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                                lineNumber: 508,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center gap-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>setCurrentPage((prev)=>Math.max(1, prev - 1)),\n                                        disabled: currentPage === 1,\n                                        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_4__.cn)(\"px-3 py-1.5 rounded-lg border border-border text-sm font-medium transition-colors\", currentPage === 1 ? \"opacity-50 cursor-not-allowed text-muted-foreground\" : \"hover:bg-muted text-foreground cursor-pointer\"),\n                                        children: \"Previous\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                                        lineNumber: 512,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center gap-1\",\n                                        children: Array.from({\n                                            length: Math.min(5, totalPages)\n                                        }, (_, i)=>{\n                                            let pageNum;\n                                            if (totalPages <= 5) {\n                                                pageNum = i + 1;\n                                            } else if (currentPage <= 3) {\n                                                pageNum = i + 1;\n                                            } else if (currentPage >= totalPages - 2) {\n                                                pageNum = totalPages - 4 + i;\n                                            } else {\n                                                pageNum = currentPage - 2 + i;\n                                            }\n                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>setCurrentPage(pageNum),\n                                                className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_4__.cn)(\"px-3 py-1.5 rounded-lg border text-sm font-medium transition-colors\", currentPage === pageNum ? \"bg-primary text-primary-foreground border-primary\" : \"border-border text-foreground hover:bg-muted\"),\n                                                children: pageNum\n                                            }, pageNum, false, {\n                                                fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                                                lineNumber: 538,\n                                                columnNumber: 21\n                                            }, this);\n                                        })\n                                    }, void 0, false, {\n                                        fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                                        lineNumber: 524,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>setCurrentPage((prev)=>Math.min(totalPages, prev + 1)),\n                                        disabled: currentPage === totalPages,\n                                        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_4__.cn)(\"px-3 py-1.5 rounded-lg border border-border text-sm font-medium transition-colors\", currentPage === totalPages ? \"opacity-50 cursor-not-allowed text-muted-foreground\" : \"hover:bg-muted text-foreground cursor-pointer\"),\n                                        children: \"Next\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                                        lineNumber: 553,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                                lineNumber: 511,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                        lineNumber: 507,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                lineNumber: 324,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-muted/30 border border-border rounded-lg p-4\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"text-sm text-muted-foreground\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"mb-2\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"font-medium text-foreground\",\n                                    children: \"How Insights Work:\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                                    lineNumber: 574,\n                                    columnNumber: 13\n                                }, this),\n                                \" This analysis automatically detects spikes, trends, and anomalies in failed transactions by comparing recent periods and identifying patterns across payment modes and error types.\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                            lineNumber: 573,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"font-medium text-foreground\",\n                                    children: \"Actions:\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                                    lineNumber: 579,\n                                    columnNumber: 13\n                                }, this),\n                                \" Each recommendation is tailored based on the error type, spike pattern, and impact. Priority is given to sudden spikes, high-impact failures, and persistent issues.\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                            lineNumber: 578,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                    lineNumber: 572,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                lineNumber: 571,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n        lineNumber: 261,\n        columnNumber: 5\n    }, this);\n}\nfunction PaymentModeDropdown({ value, options, onChange }) {\n    const [isOpen, setIsOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const dropdownRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleClickOutside = (event)=>{\n            if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\n                setIsOpen(false);\n            }\n        };\n        document.addEventListener(\"mousedown\", handleClickOutside);\n        return ()=>document.removeEventListener(\"mousedown\", handleClickOutside);\n    }, []);\n    const selectedOption = options.find((opt)=>opt === value) || value;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"relative\",\n        ref: dropdownRef,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"w-full px-3 py-2 bg-background border border-border rounded-lg text-foreground cursor-pointer focus:outline-none focus:ring-2 focus:ring-primary min-h-[42px] flex items-center justify-between\",\n                onClick: ()=>setIsOpen(!isOpen),\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"flex-1 text-left\",\n                        children: selectedOption\n                    }, void 0, false, {\n                        fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                        lineNumber: 623,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_4__.cn)(\"w-4 h-4 transition-transform flex-shrink-0 ml-2\", isOpen && \"transform rotate-180\"),\n                        fill: \"none\",\n                        stroke: \"currentColor\",\n                        viewBox: \"0 0 24 24\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                            strokeLinecap: \"round\",\n                            strokeLinejoin: \"round\",\n                            strokeWidth: 2,\n                            d: \"M19 9l-7 7-7-7\"\n                        }, void 0, false, {\n                            fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                            lineNumber: 633,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                        lineNumber: 624,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                lineNumber: 619,\n                columnNumber: 7\n            }, this),\n            isOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute z-50 w-full mt-1 bg-card border border-border rounded-lg shadow-lg max-h-60 overflow-auto min-w-full\",\n                children: options.map((option)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_4__.cn)(\"px-3 py-2 text-sm cursor-pointer hover:bg-muted transition-colors flex items-center justify-between\", value === option && \"bg-primary/10\"),\n                        onClick: ()=>{\n                            onChange(option);\n                            setIsOpen(false);\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"flex-1 break-words\",\n                                children: option\n                            }, void 0, false, {\n                                fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                                lineNumber: 655,\n                                columnNumber: 15\n                            }, this),\n                            value === option && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                className: \"w-4 h-4 text-primary flex-shrink-0 ml-2\",\n                                fill: \"none\",\n                                stroke: \"currentColor\",\n                                viewBox: \"0 0 24 24\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                    strokeLinecap: \"round\",\n                                    strokeLinejoin: \"round\",\n                                    strokeWidth: 2,\n                                    d: \"M5 13l4 4L19 7\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                                    lineNumber: 663,\n                                    columnNumber: 19\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                                lineNumber: 657,\n                                columnNumber: 17\n                            }, this)\n                        ]\n                    }, option, true, {\n                        fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                        lineNumber: 644,\n                        columnNumber: 13\n                    }, this))\n            }, void 0, false, {\n                fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n                lineNumber: 642,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/InsightsTab.tsx\",\n        lineNumber: 618,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3RhYnMvSW5zaWdodHNUYWIudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFFb0U7QUFDeEI7QUFDYTtBQUVkO0FBQ0k7QUFDZDtBQUcxQixTQUFTVTtJQUNkLE1BQU1DLHVCQUF1Qk4seURBQVFBLENBQUMsQ0FBQ08sUUFBVUEsTUFBTUQsb0JBQW9CO0lBQzNFLE1BQU1FLGVBQWVSLHlEQUFRQSxDQUFDLENBQUNPLFFBQVVBLE1BQU1FLGFBQWE7SUFDNUQsTUFBTUMsMkJBQTJCVix5REFBUUEsQ0FBQyxDQUFDTyxRQUFVQSxNQUFNRyx3QkFBd0I7SUFDbkYsTUFBTUMsNkJBQTZCWCx5REFBUUEsQ0FBQyxDQUFDTyxRQUFVQSxNQUFNSSwwQkFBMEI7SUFDdkYsTUFBTSxDQUFDQyxZQUFZQyxjQUFjLEdBQUdoQiwrQ0FBUUEsQ0FBdUI7SUFDbkUsTUFBTSxDQUFDaUIsZUFBZUMsaUJBQWlCLEdBQUdsQiwrQ0FBUUEsQ0FBaUI7SUFDbkUsTUFBTSxDQUFDbUIsbUJBQW1CQyxxQkFBcUIsR0FBR3BCLCtDQUFRQSxDQUFTO0lBQ25FLE1BQU0sQ0FBQ3FCLFVBQVVDLFlBQVksR0FBR3RCLCtDQUFRQSxDQUFtQixFQUFFO0lBQzdELE1BQU0sQ0FBQ3VCLHNCQUFzQkMsd0JBQXdCLEdBQUd4QiwrQ0FBUUEsQ0FBQztJQUNqRSxNQUFNLENBQUN5QixhQUFhQyxlQUFlLEdBQUcxQiwrQ0FBUUEsQ0FBQztJQUMvQyxNQUFNMkIsZUFBZTtJQUVyQixtREFBbUQ7SUFDbkR6QixnREFBU0EsQ0FBQztRQUNSLE1BQU0wQixVQUFVakIsZUFBZUUsMkJBQTJCLElBQUlKLHFCQUFxQm9CLE1BQU0sR0FBRztRQUU1RixJQUFJLENBQUNELFNBQVM7WUFDWk4sWUFBWSxFQUFFO1lBQ2Q7UUFDRjtRQUVBRSx3QkFBd0I7UUFDeEIsTUFBTU0sWUFBWUMsV0FBVztZQUMzQixJQUFJO2dCQUNGLElBQUlwQixjQUFjO29CQUNoQixrRkFBa0Y7b0JBQ2xGcUIsUUFBUUMsR0FBRyxDQUFDLENBQUMsVUFBVSxFQUFFcEIseUJBQXlCLDRDQUE0QyxDQUFDO29CQUUvRiw2RUFBNkU7b0JBQzdFLElBQUlxQixlQUFpQyxFQUFFO29CQUN2QyxNQUFNQyxZQUFZLE1BQU0saURBQWlEO29CQUN6RSxJQUFJQyxlQUE4QixFQUFFO29CQUVwQyxNQUFNdEIsMkJBQTJCLE9BQU91Qjt3QkFDdEMsK0NBQStDO3dCQUMvQyxLQUFLLE1BQU1DLE1BQU1ELE1BQU87NEJBQ3RCRCxhQUFhRyxJQUFJLENBQUNEOzRCQUVsQix5Q0FBeUM7NEJBQ3pDLElBQUlGLGFBQWFQLE1BQU0sSUFBSU0sV0FBVztnQ0FDcEMsTUFBTUssaUJBQWlCSixhQUFhSyxNQUFNLENBQUMsR0FBR047Z0NBQzlDLE1BQU1PLGdCQUFnQixNQUFNdEMsc0VBQXVCQSxDQUFDb0MsZ0JBQWdCO2dDQUVwRSxtREFBbUQ7Z0NBQ25ETixlQUFlO3VDQUFJQTt1Q0FBaUJRO2lDQUFjO2dDQUVsRCw2REFBNkQ7Z0NBQzdELElBQUlSLGFBQWFMLE1BQU0sR0FBRyxLQUFLO29DQUM3QkssYUFBYVMsSUFBSSxDQUFDLENBQUNDLEdBQUdDLElBQU1BLEVBQUVDLFdBQVcsR0FBR0YsRUFBRUUsV0FBVztvQ0FDekRaLGVBQWVBLGFBQWFhLEtBQUssQ0FBQyxHQUFHO2dDQUN2QztnQ0FFQSx5Q0FBeUM7Z0NBQ3pDLE1BQU0sSUFBSUMsUUFBUUMsQ0FBQUEsVUFBV2xCLFdBQVdrQixTQUFTOzRCQUNuRDt3QkFDRjtvQkFDRixHQUFHLE9BQU8sbUNBQW1DO29CQUU3QywwQkFBMEI7b0JBQzFCLElBQUliLGFBQWFQLE1BQU0sR0FBRyxHQUFHO3dCQUMzQixNQUFNYSxnQkFBZ0IsTUFBTXRDLHNFQUF1QkEsQ0FBQ2dDLGNBQWM7d0JBQ2xFRixlQUFlOytCQUFJQTsrQkFBaUJRO3lCQUFjO29CQUNwRDtvQkFFQSw0REFBNEQ7b0JBQzVELElBQUlSLGFBQWFMLE1BQU0sR0FBRyxLQUFLO3dCQUM3QkssYUFBYVMsSUFBSSxDQUFDLENBQUNDLEdBQUdDLElBQU1BLEVBQUVDLFdBQVcsR0FBR0YsRUFBRUUsV0FBVzt3QkFDekRaLGVBQWVBLGFBQWFhLEtBQUssQ0FBQyxHQUFHO29CQUN2QztvQkFFQXpCLFlBQVlZO29CQUNaUixlQUFlO29CQUNmRix3QkFBd0I7b0JBQ3hCLFFBQVEsMENBQTBDO2dCQUNwRCxPQUFPO29CQUNMLDZDQUE2QztvQkFDN0MsTUFBTTBCLGVBQWV6QztvQkFDckIsSUFBSXlDLGFBQWFyQixNQUFNLEdBQUcsR0FBRzt3QkFDM0JHLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLHlCQUF5QixFQUFFaUIsYUFBYXJCLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQzt3QkFDN0UsTUFBTXNCLG9CQUFvQixNQUFNL0Msc0VBQXVCQSxDQUFDOEMsY0FBYzt3QkFDdEU1QixZQUFZNkI7d0JBQ1p6QixlQUFlO29CQUNqQixPQUFPO3dCQUNMSixZQUFZLEVBQUU7b0JBQ2hCO2dCQUNGO1lBQ0YsRUFBRSxPQUFPOEIsT0FBTztnQkFDZHBCLFFBQVFvQixLQUFLLENBQUMsOEJBQThCQTtnQkFDNUM5QixZQUFZLEVBQUU7WUFDaEIsU0FBVTtnQkFDUkUsd0JBQXdCO1lBQzFCO1FBQ0YsR0FBRyxNQUFNLHlDQUF5QztRQUVsRCxPQUFPLElBQU02QixhQUFhdkI7SUFDNUIsR0FBRztRQUFDckI7UUFBc0JFO1FBQWNFO1FBQTBCQztLQUEyQjtJQUU3RixzQ0FBc0M7SUFDdEMsTUFBTXdDLGVBQWV2RCw4Q0FBT0EsQ0FBQztRQUMzQixNQUFNd0QsUUFBUSxJQUFJQyxJQUFJbkMsU0FBU29DLEdBQUcsQ0FBQyxDQUFDQyxJQUFNQSxFQUFFQyxXQUFXO1FBQ3ZELE9BQU87WUFBQztlQUFVQyxNQUFNQyxJQUFJLENBQUNOLE9BQU9aLElBQUk7U0FBRztJQUM3QyxHQUFHO1FBQUN0QjtLQUFTO0lBRWIsa0NBQWtDO0lBQ2xDLE1BQU15QyxtQkFBbUIvRCw4Q0FBT0EsQ0FBQztRQUMvQixJQUFJZ0UsV0FBVzFDO1FBRWYsSUFBSUYsc0JBQXNCLE9BQU87WUFDL0I0QyxXQUFXQSxTQUFTQyxNQUFNLENBQUMsQ0FBQ04sSUFBTUEsRUFBRUMsV0FBVyxLQUFLeEM7UUFDdEQ7UUFFQSxPQUFPNEM7SUFDVCxHQUFHO1FBQUMxQztRQUFVRjtLQUFrQjtJQUVoQyxnQkFBZ0I7SUFDaEIsTUFBTThDLGlCQUFpQmxFLDhDQUFPQSxDQUFDO1FBQzdCLE1BQU1tRSxTQUFTO2VBQUlKO1NBQWlCO1FBRXBDSSxPQUFPdkIsSUFBSSxDQUFDLENBQUNDLEdBQUdDO1lBQ2QsTUFBTXNCLE9BQU92QixDQUFDLENBQUM3QixXQUFXO1lBQzFCLE1BQU1xRCxPQUFPdkIsQ0FBQyxDQUFDOUIsV0FBVztZQUUxQixJQUFJLE9BQU9vRCxTQUFTLFlBQVksT0FBT0MsU0FBUyxVQUFVO2dCQUN4RCxPQUFPbkQsa0JBQWtCLFFBQVFrRCxPQUFPQyxPQUFPQSxPQUFPRDtZQUN4RDtZQUVBLElBQUksT0FBT0EsU0FBUyxZQUFZLE9BQU9DLFNBQVMsVUFBVTtnQkFDeEQsT0FBT25ELGtCQUFrQixRQUNyQmtELEtBQUtFLGFBQWEsQ0FBQ0QsUUFDbkJBLEtBQUtDLGFBQWEsQ0FBQ0Y7WUFDekI7WUFFQSxPQUFPO1FBQ1Q7UUFFQSxPQUFPRDtJQUNULEdBQUc7UUFBQ0o7UUFBa0IvQztRQUFZRTtLQUFjO0lBRWhELGFBQWE7SUFDYixNQUFNcUQsYUFBYUMsS0FBS0MsSUFBSSxDQUFDUCxlQUFlcEMsTUFBTSxHQUFHRjtJQUNyRCxNQUFNOEMsb0JBQW9CMUUsOENBQU9BLENBQUM7UUFDaEMsTUFBTTJFLGFBQWEsQ0FBQ2pELGNBQWMsS0FBS0U7UUFDdkMsT0FBT3NDLGVBQWVsQixLQUFLLENBQUMyQixZQUFZQSxhQUFhL0M7SUFDdkQsR0FBRztRQUFDc0M7UUFBZ0J4QztLQUFZO0lBRWhDLHdCQUF3QjtJQUN4QixNQUFNa0QsZUFBZTVFLDhDQUFPQSxDQUFDO1FBQzNCLElBQUlzQixTQUFTUSxNQUFNLEtBQUssR0FBRztZQUN6QixPQUFPO2dCQUNMK0MsZUFBZTtnQkFDZkMsa0JBQWtCO2dCQUNsQkMsa0JBQWtCO2dCQUNsQkMsWUFBWTtZQUNkO1FBQ0Y7UUFFQSxPQUFPO1lBQ0xILGVBQWV2RCxTQUFTUSxNQUFNO1lBQzlCZ0Qsa0JBQWtCeEQsU0FBUzJDLE1BQU0sQ0FBQyxDQUFDTixJQUFNQSxFQUFFc0IsU0FBUyxFQUFFbkQsTUFBTTtZQUM1RGlELGtCQUFrQnpELFNBQVMyQyxNQUFNLENBQUMsQ0FBQ04sSUFBTUEsRUFBRXVCLGNBQWMsS0FBSyxjQUFjcEQsTUFBTTtZQUNsRmtELFlBQVkxRCxTQUFTMkMsTUFBTSxDQUFDLENBQUNOLElBQU1BLEVBQUV3QixZQUFZLEdBQUcsSUFBSXJELE1BQU07UUFDaEU7SUFDRixHQUFHO1FBQUNSO0tBQVM7SUFFYixNQUFNOEQsYUFBYSxDQUFDQztRQUNsQixJQUFJckUsZUFBZXFFLFFBQVE7WUFDekJsRSxpQkFBaUJELGtCQUFrQixRQUFRLFNBQVM7UUFDdEQsT0FBTztZQUNMRCxjQUFjb0U7WUFDZGxFLGlCQUFpQjtRQUNuQjtJQUNGO0lBRUEsTUFBTW1FLGVBQWUsQ0FBQ0M7UUFDcEIsT0FBUUE7WUFDTixLQUFLO2dCQUNILHFCQUNFLDhEQUFDQztvQkFBSUMsV0FBVTtvQkFBcUJDLE1BQUs7b0JBQU9DLFFBQU87b0JBQWVDLFNBQVE7OEJBQzVFLDRFQUFDQzt3QkFBS0MsZUFBYzt3QkFBUUMsZ0JBQWU7d0JBQVFDLGFBQWE7d0JBQUdDLEdBQUU7Ozs7Ozs7Ozs7O1lBRzNFLEtBQUs7Z0JBQ0gscUJBQ0UsOERBQUNUO29CQUFJQyxXQUFVO29CQUF1QkMsTUFBSztvQkFBT0MsUUFBTztvQkFBZUMsU0FBUTs4QkFDOUUsNEVBQUNDO3dCQUFLQyxlQUFjO3dCQUFRQyxnQkFBZTt3QkFBUUMsYUFBYTt3QkFBR0MsR0FBRTs7Ozs7Ozs7Ozs7WUFHM0UsS0FBSztnQkFDSCxxQkFDRSw4REFBQ1Q7b0JBQUlDLFdBQVU7b0JBQWdDQyxNQUFLO29CQUFPQyxRQUFPO29CQUFlQyxTQUFROzhCQUN2Riw0RUFBQ0M7d0JBQUtDLGVBQWM7d0JBQVFDLGdCQUFlO3dCQUFRQyxhQUFhO3dCQUFHQyxHQUFFOzs7Ozs7Ozs7OztRQUc3RTtJQUNGO0lBRUEsTUFBTUMsZ0JBQWdCLENBQUNYO1FBQ3JCLE9BQVFBO1lBQ04sS0FBSztnQkFDSCxPQUFPO1lBQ1QsS0FBSztnQkFDSCxPQUFPO1lBQ1QsS0FBSztnQkFDSCxPQUFPO1FBQ1g7SUFDRjtJQUVBLE1BQU0xRCxVQUFVakIsZUFBZUUsMkJBQTJCLElBQUlKLHFCQUFxQm9CLE1BQU0sR0FBRztJQUU1RixJQUFJLENBQUNELFNBQVM7UUFDWixxQkFDRSw4REFBQ3NFO1lBQUlWLFdBQVU7c0JBQ2IsNEVBQUNXO2dCQUFFWCxXQUFVOzBCQUF3Qjs7Ozs7Ozs7Ozs7SUFHM0M7SUFFQSxJQUFJakUsc0JBQXNCO1FBQ3hCLHFCQUNFLDhEQUFDMkU7WUFBSVYsV0FBVTtzQkFDYiw0RUFBQ1U7Z0JBQUlWLFdBQVU7O2tDQUNiLDhEQUFDVTt3QkFBSVYsV0FBVTs7Ozs7O2tDQUNmLDhEQUFDVzt3QkFBRVgsV0FBVTs7NEJBQXdCOzRCQUNSN0UsQ0FBQUEsZUFBZUUsMkJBQTJCSixxQkFBcUJvQixNQUFNLEVBQUV1RSxjQUFjOzRCQUFHOzs7Ozs7O29CQUVwSHpGLDhCQUNDLDhEQUFDd0Y7d0JBQUVYLFdBQVU7a0NBQXFDOzs7Ozs7Ozs7Ozs7Ozs7OztJQUs1RDtJQUVBLElBQUluRSxTQUFTUSxNQUFNLEtBQUssR0FBRztRQUN6QixxQkFDRSw4REFBQ3FFO1lBQUlWLFdBQVU7c0JBQ2IsNEVBQUNVO2dCQUFJVixXQUFVOztrQ0FDYiw4REFBQ1U7d0JBQUlWLFdBQVU7a0NBQWdCOzs7Ozs7a0NBQy9CLDhEQUFDVzt3QkFBRVgsV0FBVTtrQ0FBd0I7Ozs7OztrQ0FDckMsOERBQUNXO3dCQUFFWCxXQUFVO2tDQUE2Qjs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFNbEQ7SUFFQSxxQkFDRSw4REFBQ1U7UUFBSVYsV0FBVTs7MEJBRWIsOERBQUNVO2dCQUFJVixXQUFVOztrQ0FDYiw4REFBQ1U7d0JBQUlWLFdBQVU7OzBDQUNiLDhEQUFDVTs7a0RBQ0MsOERBQUNHO3dDQUFHYixXQUFVO2tEQUF3Qjs7Ozs7O2tEQUN0Qyw4REFBQ1c7d0NBQUVYLFdBQVU7a0RBQXFDOzs7Ozs7Ozs7Ozs7MENBSXBELDhEQUFDVTtnQ0FBSVYsV0FBVTs7a0RBQ2IsOERBQUNVO3dDQUFJVixXQUFVOzs7Ozs7a0RBQ2YsOERBQUNjO3dDQUFLZCxXQUFVO2tEQUFnQzs7Ozs7Ozs7Ozs7Ozs7Ozs7O2tDQUtwRCw4REFBQ1U7d0JBQUlWLFdBQVU7OzBDQUNiLDhEQUFDbEYsd0RBQU9BO2dDQUNOaUcsT0FBTTtnQ0FDTkMsT0FBTzdCLGFBQWFDLGFBQWEsQ0FBQzZCLFFBQVE7Z0NBQzFDQyxTQUFROzs7Ozs7MENBRVYsOERBQUNwRyx3REFBT0E7Z0NBQ05pRyxPQUFNO2dDQUNOQyxPQUFPN0IsYUFBYUUsZ0JBQWdCLENBQUM0QixRQUFRO2dDQUM3Q0MsU0FBUy9CLGFBQWFFLGdCQUFnQixHQUFHLElBQUksVUFBVTs7Ozs7OzBDQUV6RCw4REFBQ3ZFLHdEQUFPQTtnQ0FDTmlHLE9BQU07Z0NBQ05DLE9BQU83QixhQUFhRyxnQkFBZ0IsQ0FBQzJCLFFBQVE7Z0NBQzdDQyxTQUFTL0IsYUFBYUcsZ0JBQWdCLEdBQUcsSUFBSSxZQUFZOzs7Ozs7MENBRTNELDhEQUFDeEUsd0RBQU9BO2dDQUNOaUcsT0FBTTtnQ0FDTkMsT0FBTzdCLGFBQWFJLFVBQVUsQ0FBQzBCLFFBQVE7Z0NBQ3ZDQyxTQUFTL0IsYUFBYUksVUFBVSxHQUFHLElBQUksVUFBVTs7Ozs7Ozs7Ozs7Ozs7Ozs7OzBCQU12RCw4REFBQ21CO2dCQUFJVixXQUFVOzBCQUNiLDRFQUFDVTtvQkFBSVYsV0FBVTs7c0NBQ2IsOERBQUNVOzRCQUFJVixXQUFVOzs4Q0FDYiw4REFBQ21CO29DQUFNbkIsV0FBVTs4Q0FBaUM7Ozs7Ozs4Q0FDbEQsOERBQUNvQjtvQ0FDQ0osT0FBT3JGO29DQUNQMEYsU0FBU3ZEO29DQUNUd0QsVUFBVTFGOzs7Ozs7Ozs7Ozs7c0NBR2QsOERBQUM4RTs0QkFBSVYsV0FBVTtzQ0FDYiw0RUFBQ2M7O29DQUFLO29DQUNLN0Isa0JBQWtCNUMsTUFBTSxHQUFHLElBQUksQ0FBQ0osY0FBYyxLQUFLRSxlQUFlLElBQUk7b0NBQUU7b0NBQ2hGNEMsS0FBS3dDLEdBQUcsQ0FBQ3RGLGNBQWNFLGNBQWNzQyxlQUFlcEMsTUFBTTtvQ0FBRTtvQ0FBS29DLGVBQWVwQyxNQUFNO29DQUFDO29DQUN2Rm9DLGVBQWVwQyxNQUFNLEtBQUtSLFNBQVNRLE1BQU0sSUFBSSxDQUFDLEVBQUUsRUFBRVIsU0FBU1EsTUFBTSxDQUFDLE9BQU8sQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7MEJBT25GLDhEQUFDcUU7Z0JBQUlWLFdBQVU7O2tDQUNiLDhEQUFDVTt3QkFBSVYsV0FBVTtrQ0FDYiw0RUFBQ3dCOzRCQUFNeEIsV0FBVTs7OENBQ2YsOERBQUN5Qjs4Q0FDQyw0RUFBQ0M7d0NBQUcxQixXQUFVOzswREFDWiw4REFBQzJCO2dEQUNDM0IsV0FBVTtnREFDVjRCLFNBQVMsSUFBTWpDLFdBQVc7MERBRTFCLDRFQUFDZTtvREFBSVYsV0FBVTs7d0RBQTBCO3dEQUV0Q3pFLGVBQWUsK0JBQ2QsOERBQUN1Rjs0REFBS2QsV0FBVTtzRUFBZ0J2RSxrQkFBa0IsUUFBUSxNQUFNOzs7Ozs7Ozs7Ozs7Ozs7OzswREFJdEUsOERBQUNrRztnREFDQzNCLFdBQVU7Z0RBQ1Y0QixTQUFTLElBQU1qQyxXQUFXOzBEQUUxQiw0RUFBQ2U7b0RBQUlWLFdBQVU7O3dEQUEwQjt3REFFdEN6RSxlQUFlLHNDQUNkLDhEQUFDdUY7NERBQUtkLFdBQVU7c0VBQWdCdkUsa0JBQWtCLFFBQVEsTUFBTTs7Ozs7Ozs7Ozs7Ozs7Ozs7MERBSXRFLDhEQUFDa0c7Z0RBQ0MzQixXQUFVO2dEQUNWNEIsU0FBUyxJQUFNakMsV0FBVzswREFFMUIsNEVBQUNlO29EQUFJVixXQUFVOzt3REFBc0M7d0RBRWxEekUsZUFBZSxnQ0FDZCw4REFBQ3VGOzREQUFLZCxXQUFVO3NFQUFnQnZFLGtCQUFrQixRQUFRLE1BQU07Ozs7Ozs7Ozs7Ozs7Ozs7OzBEQUl0RSw4REFBQ2tHO2dEQUNDM0IsV0FBVTtnREFDVjRCLFNBQVMsSUFBTWpDLFdBQVc7MERBRTFCLDRFQUFDZTtvREFBSVYsV0FBVTs7d0RBQTBCO3dEQUV0Q3pFLGVBQWUsc0NBQ2QsOERBQUN1Rjs0REFBS2QsV0FBVTtzRUFBZ0J2RSxrQkFBa0IsUUFBUSxNQUFNOzs7Ozs7Ozs7Ozs7Ozs7OzswREFJdEUsOERBQUNrRztnREFDQzNCLFdBQVU7Z0RBQ1Y0QixTQUFTLElBQU1qQyxXQUFXOzBEQUUxQiw0RUFBQ2U7b0RBQUlWLFdBQVU7O3dEQUF5Qzt3REFFckR6RSxlQUFlLGtDQUNkLDhEQUFDdUY7NERBQUtkLFdBQVU7c0VBQWdCdkUsa0JBQWtCLFFBQVEsTUFBTTs7Ozs7Ozs7Ozs7Ozs7Ozs7MERBSXRFLDhEQUFDa0c7Z0RBQ0MzQixXQUFVO2dEQUNWNEIsU0FBUyxJQUFNakMsV0FBVzswREFFMUIsNEVBQUNlO29EQUFJVixXQUFVOzt3REFBc0M7d0RBRWxEekUsZUFBZSwrQkFDZCw4REFBQ3VGOzREQUFLZCxXQUFVO3NFQUFnQnZFLGtCQUFrQixRQUFRLE1BQU07Ozs7Ozs7Ozs7Ozs7Ozs7OzBEQUl0RSw4REFBQ2tHO2dEQUFHM0IsV0FBVTswREFBMEQ7Ozs7OzswREFHeEUsOERBQUMyQjtnREFBRzNCLFdBQVU7MERBQTBEOzs7Ozs7Ozs7Ozs7Ozs7Ozs4Q0FLNUUsOERBQUM2Qjs4Q0FDRTVDLGtCQUFrQmhCLEdBQUcsQ0FBQyxDQUFDNkQsU0FBU0Msb0JBQy9CLDhEQUFDTDs0Q0FFQzFCLFdBQVcsQ0FBQywyREFBMkQsRUFDckU4QixRQUFRdEMsU0FBUyxHQUFHLGlCQUFpQixHQUN0QyxDQUFDOzs4REFFRiw4REFBQ3dDO29EQUFHaEMsV0FBVTs4REFDWiw0RUFBQ1U7d0RBQUlWLFdBQVU7OzBFQUNiLDhEQUFDYztnRUFBS2QsV0FBVTswRUFBZThCLFFBQVEzRCxXQUFXOzs7Ozs7NERBQ2pEMkQsUUFBUXRDLFNBQVMsa0JBQ2hCLDhEQUFDc0I7Z0VBQUtkLFdBQVU7MEVBQWtGOzs7Ozs7Ozs7Ozs7Ozs7Ozs4REFNeEcsOERBQUNnQztvREFBR2hDLFdBQVU7OERBQ1osNEVBQUNVO3dEQUFJVixXQUFVOzswRUFDYiw4REFBQ2M7Z0VBQUtkLFdBQVU7MEVBQW1COEIsUUFBUUcsa0JBQWtCOzs7Ozs7NERBQzVESCxRQUFRSSxTQUFTLGtCQUNoQiw4REFBQ3hCO2dFQUFJVixXQUFVOzBFQUNaOEIsUUFBUUksU0FBUyxDQUFDQyxPQUFPLENBQUMsS0FBSzs7Ozs7Ozs7Ozs7Ozs7Ozs7OERBS3hDLDhEQUFDSDtvREFBR2hDLFdBQVU7O3NFQUNaLDhEQUFDYzs0REFDQ2QsV0FBVyxDQUFDLFlBQVksRUFDdEI4QixRQUFRcEMsWUFBWSxHQUFHLEtBQ25CLGVBQ0FvQyxRQUFRcEMsWUFBWSxHQUFHLElBQ3ZCLGlCQUNBLGtCQUNMLENBQUM7O2dFQUVEb0MsUUFBUXBDLFlBQVksQ0FBQzBDLE9BQU8sQ0FBQztnRUFBRzs7Ozs7OztzRUFFbkMsOERBQUMxQjs0REFBSVYsV0FBVTs7Z0VBQ1puRix3REFBWUEsQ0FBQ2lILFFBQVFPLGFBQWE7Z0VBQUU7Ozs7Ozs7Ozs7Ozs7OERBR3pDLDhEQUFDTDtvREFBR2hDLFdBQVU7OERBQ1osNEVBQUNjO3dEQUFLZCxXQUFVO2tFQUFtQjhCLFFBQVFRLGtCQUFrQjs7Ozs7Ozs7Ozs7OERBRS9ELDhEQUFDTjtvREFBR2hDLFdBQVU7OERBQ1osNEVBQUNVO3dEQUFJVixXQUFVOzs0REFDWkgsYUFBYWlDLFFBQVFyQyxjQUFjOzBFQUNwQyw4REFBQ3FCO2dFQUFLZCxXQUFXLENBQUMsb0JBQW9CLEVBQUVTLGNBQWNxQixRQUFRckMsY0FBYyxFQUFFLENBQUM7MEVBQzVFcUMsUUFBUXJDLGNBQWM7Ozs7Ozs7Ozs7Ozs7Ozs7OzhEQUk3Qiw4REFBQ3VDO29EQUFHaEMsV0FBVTs4REFDWiw0RUFBQ1U7d0RBQUlWLFdBQVU7OzBFQUNiLDhEQUFDYztnRUFDQ2QsV0FBVyxDQUFDLFlBQVksRUFDdEI4QixRQUFRUyxXQUFXLEdBQUcsS0FDbEIsZUFDQVQsUUFBUVMsV0FBVyxHQUFHLEtBQ3RCLGlCQUNBVCxRQUFRUyxXQUFXLEdBQUcsQ0FBQyxLQUN2QixpQkFDQSx3QkFDTCxDQUFDOztvRUFFRFQsUUFBUVMsV0FBVyxJQUFJLElBQUksTUFBTTtvRUFDakMxSCx3REFBWUEsQ0FBQ2lILFFBQVFTLFdBQVc7Ozs7Ozs7MEVBRW5DLDhEQUFDN0I7Z0VBQUlWLFdBQVU7O29FQUF3QztvRUFDN0NuRix3REFBWUEsQ0FBQ2lILFFBQVFPLGFBQWE7Ozs7Ozs7MEVBRTVDLDhEQUFDM0I7Z0VBQUlWLFdBQVU7O29FQUNabkYsd0RBQVlBLENBQUNpSCxRQUFRVSxjQUFjO29FQUFFO29FQUFJM0gsd0RBQVlBLENBQUNpSCxRQUFRTyxhQUFhOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OERBSWxGLDhEQUFDTDtvREFBR2hDLFdBQVU7OERBQ1osNEVBQUNVO3dEQUFJVixXQUFVO2tFQUFvQzhCLFFBQVFXLGNBQWM7Ozs7Ozs7Ozs7OzhEQUUzRSw4REFBQ1Q7b0RBQUdoQyxXQUFVOzhEQUNaLDRFQUFDVTt3REFDQ1YsV0FBVyxDQUFDLHVDQUF1QyxFQUNqRDhCLFFBQVFZLHdCQUF3QixDQUFDQyxVQUFVLENBQUMsYUFDNUNiLFFBQVFZLHdCQUF3QixDQUFDQyxVQUFVLENBQUMsY0FDeEMsaURBQ0FiLFFBQVFwQyxZQUFZLEdBQUcsS0FDdkIsMERBQ0Esa0RBQ0wsQ0FBQztrRUFFRG9DLFFBQVFZLHdCQUF3Qjs7Ozs7Ozs7Ozs7OzJDQTFGaENYOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7b0JBb0dkakQsYUFBYSxtQkFDWiw4REFBQzRCO3dCQUFJVixXQUFVOzswQ0FDYiw4REFBQ1U7Z0NBQUlWLFdBQVU7O29DQUFnQztvQ0FDdkMvRDtvQ0FBWTtvQ0FBSzZDOzs7Ozs7OzBDQUV6Qiw4REFBQzRCO2dDQUFJVixXQUFVOztrREFDYiw4REFBQzRDO3dDQUNDaEIsU0FBUyxJQUFNMUYsZUFBZSxDQUFDMkcsT0FBUzlELEtBQUsrRCxHQUFHLENBQUMsR0FBR0QsT0FBTzt3Q0FDM0RFLFVBQVU5RyxnQkFBZ0I7d0NBQzFCK0QsV0FBV2pGLDhDQUFFQSxDQUNYLHFGQUNBa0IsZ0JBQWdCLElBQ1osd0RBQ0E7a0RBRVA7Ozs7OztrREFHRCw4REFBQ3lFO3dDQUFJVixXQUFVO2tEQUNaNUIsTUFBTUMsSUFBSSxDQUFDOzRDQUFFaEMsUUFBUTBDLEtBQUt3QyxHQUFHLENBQUMsR0FBR3pDO3dDQUFZLEdBQUcsQ0FBQ2tFLEdBQUc5RTs0Q0FDbkQsSUFBSStFOzRDQUNKLElBQUluRSxjQUFjLEdBQUc7Z0RBQ25CbUUsVUFBVS9FLElBQUk7NENBQ2hCLE9BQU8sSUFBSWpDLGVBQWUsR0FBRztnREFDM0JnSCxVQUFVL0UsSUFBSTs0Q0FDaEIsT0FBTyxJQUFJakMsZUFBZTZDLGFBQWEsR0FBRztnREFDeENtRSxVQUFVbkUsYUFBYSxJQUFJWjs0Q0FDN0IsT0FBTztnREFDTCtFLFVBQVVoSCxjQUFjLElBQUlpQzs0Q0FDOUI7NENBRUEscUJBQ0UsOERBQUMwRTtnREFFQ2hCLFNBQVMsSUFBTTFGLGVBQWUrRztnREFDOUJqRCxXQUFXakYsOENBQUVBLENBQ1gsdUVBQ0FrQixnQkFBZ0JnSCxVQUNaLHNEQUNBOzBEQUdMQTsrQ0FUSUE7Ozs7O3dDQVlYOzs7Ozs7a0RBRUYsOERBQUNMO3dDQUNDaEIsU0FBUyxJQUFNMUYsZUFBZSxDQUFDMkcsT0FBUzlELEtBQUt3QyxHQUFHLENBQUN6QyxZQUFZK0QsT0FBTzt3Q0FDcEVFLFVBQVU5RyxnQkFBZ0I2Qzt3Q0FDMUJrQixXQUFXakYsOENBQUVBLENBQ1gscUZBQ0FrQixnQkFBZ0I2QyxhQUNaLHdEQUNBO2tEQUVQOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7MEJBU1QsOERBQUM0QjtnQkFBSVYsV0FBVTswQkFDYiw0RUFBQ1U7b0JBQUlWLFdBQVU7O3NDQUNiLDhEQUFDVzs0QkFBRVgsV0FBVTs7OENBQ1gsOERBQUNjO29DQUFLZCxXQUFVOzhDQUE4Qjs7Ozs7O2dDQUF5Qjs7Ozs7OztzQ0FJekUsOERBQUNXOzs4Q0FDQyw4REFBQ0c7b0NBQUtkLFdBQVU7OENBQThCOzs7Ozs7Z0NBQWU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVF6RTtBQUVBLFNBQVNvQixvQkFBb0IsRUFDM0JKLEtBQUssRUFDTEssT0FBTyxFQUNQQyxRQUFRLEVBS1Q7SUFDQyxNQUFNLENBQUM0QixRQUFRQyxVQUFVLEdBQUczSSwrQ0FBUUEsQ0FBQztJQUNyQyxNQUFNNEksY0FBYzNJLDZDQUFNQSxDQUFpQjtJQUUzQ0MsZ0RBQVNBLENBQUM7UUFDUixNQUFNMkkscUJBQXFCLENBQUNDO1lBQzFCLElBQ0VGLFlBQVlHLE9BQU8sSUFDbkIsQ0FBQ0gsWUFBWUcsT0FBTyxDQUFDQyxRQUFRLENBQUNGLE1BQU1HLE1BQU0sR0FDMUM7Z0JBQ0FOLFVBQVU7WUFDWjtRQUNGO1FBRUFPLFNBQVNDLGdCQUFnQixDQUFDLGFBQWFOO1FBQ3ZDLE9BQU8sSUFBTUssU0FBU0UsbUJBQW1CLENBQUMsYUFBYVA7SUFDekQsR0FBRyxFQUFFO0lBRUwsTUFBTVEsaUJBQWlCeEMsUUFBUXlDLElBQUksQ0FBQyxDQUFDQyxNQUFRQSxRQUFRL0MsVUFBVUE7SUFFL0QscUJBQ0UsOERBQUNOO1FBQUlWLFdBQVU7UUFBV2dFLEtBQUtaOzswQkFDN0IsOERBQUMxQztnQkFDQ1YsV0FBVTtnQkFDVjRCLFNBQVMsSUFBTXVCLFVBQVUsQ0FBQ0Q7O2tDQUUxQiw4REFBQ3BDO3dCQUFLZCxXQUFVO2tDQUFvQjZEOzs7Ozs7a0NBQ3BDLDhEQUFDOUQ7d0JBQ0NDLFdBQVdqRiw4Q0FBRUEsQ0FDWCxtREFDQW1JLFVBQVU7d0JBRVpqRCxNQUFLO3dCQUNMQyxRQUFPO3dCQUNQQyxTQUFRO2tDQUVSLDRFQUFDQzs0QkFDQ0MsZUFBYzs0QkFDZEMsZ0JBQWU7NEJBQ2ZDLGFBQWE7NEJBQ2JDLEdBQUU7Ozs7Ozs7Ozs7Ozs7Ozs7O1lBSVAwQyx3QkFDQyw4REFBQ3hDO2dCQUFJVixXQUFVOzBCQUNacUIsUUFBUXBELEdBQUcsQ0FBQyxDQUFDZ0csdUJBQ1osOERBQUN2RDt3QkFFQ1YsV0FBV2pGLDhDQUFFQSxDQUNYLHVHQUNBaUcsVUFBVWlELFVBQVU7d0JBRXRCckMsU0FBUzs0QkFDUE4sU0FBUzJDOzRCQUNUZCxVQUFVO3dCQUNaOzswQ0FFQSw4REFBQ3JDO2dDQUFLZCxXQUFVOzBDQUFzQmlFOzs7Ozs7NEJBQ3JDakQsVUFBVWlELHdCQUNULDhEQUFDbEU7Z0NBQ0NDLFdBQVU7Z0NBQ1ZDLE1BQUs7Z0NBQ0xDLFFBQU87Z0NBQ1BDLFNBQVE7MENBRVIsNEVBQUNDO29DQUNDQyxlQUFjO29DQUNkQyxnQkFBZTtvQ0FDZkMsYUFBYTtvQ0FDYkMsR0FBRTs7Ozs7Ozs7Ozs7O3VCQXRCSHlEOzs7Ozs7Ozs7Ozs7Ozs7O0FBZ0NuQiIsInNvdXJjZXMiOlsid2VicGFjazovL3NyLWFuYWx5dGljcy1kYXNoYm9hcmQvLi9jb21wb25lbnRzL3RhYnMvSW5zaWdodHNUYWIudHN4P2JjY2MiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgUmVhY3QsIHsgdXNlTWVtbywgdXNlU3RhdGUsIHVzZVJlZiwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlU3RvcmUgfSBmcm9tICdAL3N0b3JlL3VzZVN0b3JlJztcbmltcG9ydCB7IGdlbmVyYXRlRmFpbHVyZUluc2lnaHRzIH0gZnJvbSAnQC9saWIvaW5zaWdodHMnO1xuaW1wb3J0IHsgRmFpbHVyZUluc2lnaHQsIFRyZW5kRGlyZWN0aW9uLCBUcmFuc2FjdGlvbiB9IGZyb20gJ0AvdHlwZXMnO1xuaW1wb3J0IHsgZm9ybWF0TnVtYmVyIH0gZnJvbSAnQC9saWIvdXRpbHMnO1xuaW1wb3J0IHsgS1BJQ2FyZCB9IGZyb20gJ0AvY29tcG9uZW50cy9LUElDYXJkJztcbmltcG9ydCB7IGNuIH0gZnJvbSAnQC9saWIvdXRpbHMnO1xuaW1wb3J0IHsgdXNlVmlydHVhbGl6ZXIgfSBmcm9tICdAdGFuc3RhY2svcmVhY3QtdmlydHVhbCc7XG5cbmV4cG9ydCBmdW5jdGlvbiBJbnNpZ2h0c1RhYigpIHtcbiAgY29uc3QgZmlsdGVyZWRUcmFuc2FjdGlvbnMgPSB1c2VTdG9yZSgoc3RhdGUpID0+IHN0YXRlLmZpbHRlcmVkVHJhbnNhY3Rpb25zKTtcbiAgY29uc3QgdXNlSW5kZXhlZERCID0gdXNlU3RvcmUoKHN0YXRlKSA9PiBzdGF0ZS5fdXNlSW5kZXhlZERCKTtcbiAgY29uc3QgZmlsdGVyZWRUcmFuc2FjdGlvbkNvdW50ID0gdXNlU3RvcmUoKHN0YXRlKSA9PiBzdGF0ZS5maWx0ZXJlZFRyYW5zYWN0aW9uQ291bnQpO1xuICBjb25zdCBzdHJlYW1GaWx0ZXJlZFRyYW5zYWN0aW9ucyA9IHVzZVN0b3JlKChzdGF0ZSkgPT4gc3RhdGUuc3RyZWFtRmlsdGVyZWRUcmFuc2FjdGlvbnMpO1xuICBjb25zdCBbc29ydENvbHVtbiwgc2V0U29ydENvbHVtbl0gPSB1c2VTdGF0ZTxrZXlvZiBGYWlsdXJlSW5zaWdodD4oJ2ltcGFjdFNjb3JlJyk7XG4gIGNvbnN0IFtzb3J0RGlyZWN0aW9uLCBzZXRTb3J0RGlyZWN0aW9uXSA9IHVzZVN0YXRlPCdhc2MnIHwgJ2Rlc2MnPignZGVzYycpO1xuICBjb25zdCBbZmlsdGVyUGF5bWVudE1vZGUsIHNldEZpbHRlclBheW1lbnRNb2RlXSA9IHVzZVN0YXRlPHN0cmluZz4oJ0FMTCcpO1xuICBjb25zdCBbaW5zaWdodHMsIHNldEluc2lnaHRzXSA9IHVzZVN0YXRlPEZhaWx1cmVJbnNpZ2h0W10+KFtdKTtcbiAgY29uc3QgW2lzR2VuZXJhdGluZ0luc2lnaHRzLCBzZXRJc0dlbmVyYXRpbmdJbnNpZ2h0c10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjdXJyZW50UGFnZSwgc2V0Q3VycmVudFBhZ2VdID0gdXNlU3RhdGUoMSk7XG4gIGNvbnN0IGl0ZW1zUGVyUGFnZSA9IDUwO1xuXG4gIC8vIEdlbmVyYXRlIGluc2lnaHRzIGFzeW5jaHJvbm91c2x5IHdpdGggZGVib3VuY2luZ1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGhhc0RhdGEgPSB1c2VJbmRleGVkREIgPyBmaWx0ZXJlZFRyYW5zYWN0aW9uQ291bnQgPiAwIDogZmlsdGVyZWRUcmFuc2FjdGlvbnMubGVuZ3RoID4gMDtcbiAgICBcbiAgICBpZiAoIWhhc0RhdGEpIHtcbiAgICAgIHNldEluc2lnaHRzKFtdKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzZXRJc0dlbmVyYXRpbmdJbnNpZ2h0cyh0cnVlKTtcbiAgICBjb25zdCB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICh1c2VJbmRleGVkREIpIHtcbiAgICAgICAgICAvLyBGb3IgbGFyZ2UgZGF0YXNldHMgKDVHQispLCBzdHJlYW0gYW5kIHByb2Nlc3MgaW4gYmF0Y2hlcyAtIERPTidUIGFjY3VtdWxhdGUgYWxsXG4gICAgICAgICAgY29uc29sZS5sb2coYFN0cmVhbWluZyAke2ZpbHRlcmVkVHJhbnNhY3Rpb25Db3VudH0gdHJhbnNhY3Rpb25zIGZyb20gSW5kZXhlZERCIGZvciBpbnNpZ2h0cy4uLmApO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIFByb2Nlc3MgaW5zaWdodHMgaW4gVElOWSBiYXRjaGVzIC0gTkVWRVIgYWNjdW11bGF0ZSBtb3JlIHRoYW4gMmsgYXQgYSB0aW1lXG4gICAgICAgICAgbGV0IHRlbXBJbnNpZ2h0czogRmFpbHVyZUluc2lnaHRbXSA9IFtdO1xuICAgICAgICAgIGNvbnN0IGJhdGNoU2l6ZSA9IDIwMDA7IC8vIFZlcnkgc21hbGwgYmF0Y2hlcyAtIDJrIG1heCB0byBwcmV2ZW50IGNyYXNoZXNcbiAgICAgICAgICBsZXQgY3VycmVudEJhdGNoOiBUcmFuc2FjdGlvbltdID0gW107XG5cbiAgICAgICAgICBhd2FpdCBzdHJlYW1GaWx0ZXJlZFRyYW5zYWN0aW9ucyhhc3luYyAoY2h1bmspID0+IHtcbiAgICAgICAgICAgIC8vIFByb2Nlc3MgY2h1bmsgaW1tZWRpYXRlbHkgLSBkb24ndCBhY2N1bXVsYXRlXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHR4IG9mIGNodW5rKSB7XG4gICAgICAgICAgICAgIGN1cnJlbnRCYXRjaC5wdXNoKHR4KTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIC8vIFByb2Nlc3MgaW1tZWRpYXRlbHkgd2hlbiBiYXRjaCBpcyBmdWxsXG4gICAgICAgICAgICAgIGlmIChjdXJyZW50QmF0Y2gubGVuZ3RoID49IGJhdGNoU2l6ZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJhdGNoVG9Qcm9jZXNzID0gY3VycmVudEJhdGNoLnNwbGljZSgwLCBiYXRjaFNpemUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJhdGNoSW5zaWdodHMgPSBhd2FpdCBnZW5lcmF0ZUZhaWx1cmVJbnNpZ2h0cyhiYXRjaFRvUHJvY2VzcywgMjUwMCk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gTWVyZ2UgaW5zaWdodHMgYnV0IGxpbWl0IHRvdGFsIHNpemUgYWdncmVzc2l2ZWx5XG4gICAgICAgICAgICAgICAgdGVtcEluc2lnaHRzID0gWy4uLnRlbXBJbnNpZ2h0cywgLi4uYmF0Y2hJbnNpZ2h0c107XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gTGltaXQgdG90YWwgaW5zaWdodHMgYWdncmVzc2l2ZWx5IHRvIHByZXZlbnQgbWVtb3J5IGlzc3Vlc1xuICAgICAgICAgICAgICAgIGlmICh0ZW1wSW5zaWdodHMubGVuZ3RoID4gMjAwKSB7XG4gICAgICAgICAgICAgICAgICB0ZW1wSW5zaWdodHMuc29ydCgoYSwgYikgPT4gYi5pbXBhY3RTY29yZSAtIGEuaW1wYWN0U2NvcmUpO1xuICAgICAgICAgICAgICAgICAgdGVtcEluc2lnaHRzID0gdGVtcEluc2lnaHRzLnNsaWNlKDAsIDIwMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIFlpZWxkIGZyZXF1ZW50bHkgdG8ga2VlcCBVSSByZXNwb25zaXZlXG4gICAgICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDMwKSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCAyNTAwKTsgLy8gVmVyeSBzbWFsbCBjaHVua3MgZnJvbSBJbmRleGVkREJcblxuICAgICAgICAgIC8vIFByb2Nlc3MgcmVtYWluaW5nIGJhdGNoXG4gICAgICAgICAgaWYgKGN1cnJlbnRCYXRjaC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBiYXRjaEluc2lnaHRzID0gYXdhaXQgZ2VuZXJhdGVGYWlsdXJlSW5zaWdodHMoY3VycmVudEJhdGNoLCAyNTAwKTtcbiAgICAgICAgICAgIHRlbXBJbnNpZ2h0cyA9IFsuLi50ZW1wSW5zaWdodHMsIC4uLmJhdGNoSW5zaWdodHNdO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIEFsd2F5cyBsaW1pdCBpbnNpZ2h0cyB0byB0b3AgMjAwIHRvIHByZXZlbnQgbWVtb3J5IGlzc3Vlc1xuICAgICAgICAgIGlmICh0ZW1wSW5zaWdodHMubGVuZ3RoID4gMjAwKSB7XG4gICAgICAgICAgICB0ZW1wSW5zaWdodHMuc29ydCgoYSwgYikgPT4gYi5pbXBhY3RTY29yZSAtIGEuaW1wYWN0U2NvcmUpO1xuICAgICAgICAgICAgdGVtcEluc2lnaHRzID0gdGVtcEluc2lnaHRzLnNsaWNlKDAsIDIwMCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIHNldEluc2lnaHRzKHRlbXBJbnNpZ2h0cyk7XG4gICAgICAgICAgc2V0Q3VycmVudFBhZ2UoMSk7XG4gICAgICAgICAgc2V0SXNHZW5lcmF0aW5nSW5zaWdodHMoZmFsc2UpO1xuICAgICAgICAgIHJldHVybjsgLy8gRXhpdCBlYXJseSAtIHdlJ3ZlIGFscmVhZHkgc2V0IGluc2lnaHRzXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gU21hbGwgZGF0YXNldCAtIHVzZSBpbi1tZW1vcnkgdHJhbnNhY3Rpb25zXG4gICAgICAgICAgY29uc3QgdHJhbnNhY3Rpb25zID0gZmlsdGVyZWRUcmFuc2FjdGlvbnM7XG4gICAgICAgICAgaWYgKHRyYW5zYWN0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgR2VuZXJhdGluZyBpbnNpZ2h0cyBmcm9tICR7dHJhbnNhY3Rpb25zLmxlbmd0aH0gdHJhbnNhY3Rpb25zLi4uYCk7XG4gICAgICAgICAgICBjb25zdCBnZW5lcmF0ZWRJbnNpZ2h0cyA9IGF3YWl0IGdlbmVyYXRlRmFpbHVyZUluc2lnaHRzKHRyYW5zYWN0aW9ucywgMjUwMDApO1xuICAgICAgICAgICAgc2V0SW5zaWdodHMoZ2VuZXJhdGVkSW5zaWdodHMpO1xuICAgICAgICAgICAgc2V0Q3VycmVudFBhZ2UoMSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldEluc2lnaHRzKFtdKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdlbmVyYXRpbmcgaW5zaWdodHM6JywgZXJyb3IpO1xuICAgICAgICBzZXRJbnNpZ2h0cyhbXSk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBzZXRJc0dlbmVyYXRpbmdJbnNpZ2h0cyhmYWxzZSk7XG4gICAgICB9XG4gICAgfSwgNTAwKTsgLy8gTG9uZ2VyIGRlYm91bmNlIGZvciBsYXJnZSBmaWxlcyAoNUdCKylcblxuICAgIHJldHVybiAoKSA9PiBjbGVhclRpbWVvdXQodGltZW91dElkKTtcbiAgfSwgW2ZpbHRlcmVkVHJhbnNhY3Rpb25zLCB1c2VJbmRleGVkREIsIGZpbHRlcmVkVHJhbnNhY3Rpb25Db3VudCwgc3RyZWFtRmlsdGVyZWRUcmFuc2FjdGlvbnNdKTtcblxuICAvLyBHZXQgdW5pcXVlIHBheW1lbnQgbW9kZXMgZm9yIGZpbHRlclxuICBjb25zdCBwYXltZW50TW9kZXMgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCBtb2RlcyA9IG5ldyBTZXQoaW5zaWdodHMubWFwKChpKSA9PiBpLnBheW1lbnRNb2RlKSk7XG4gICAgcmV0dXJuIFsnQUxMJywgLi4uQXJyYXkuZnJvbShtb2Rlcykuc29ydCgpXTtcbiAgfSwgW2luc2lnaHRzXSk7XG5cbiAgLy8gRmlsdGVyIGluc2lnaHRzIGJ5IHBheW1lbnQgbW9kZVxuICBjb25zdCBmaWx0ZXJlZEluc2lnaHRzID0gdXNlTWVtbygoKSA9PiB7XG4gICAgbGV0IGZpbHRlcmVkID0gaW5zaWdodHM7XG5cbiAgICBpZiAoZmlsdGVyUGF5bWVudE1vZGUgIT09ICdBTEwnKSB7XG4gICAgICBmaWx0ZXJlZCA9IGZpbHRlcmVkLmZpbHRlcigoaSkgPT4gaS5wYXltZW50TW9kZSA9PT0gZmlsdGVyUGF5bWVudE1vZGUpO1xuICAgIH1cblxuICAgIHJldHVybiBmaWx0ZXJlZDtcbiAgfSwgW2luc2lnaHRzLCBmaWx0ZXJQYXltZW50TW9kZV0pO1xuXG4gIC8vIFNvcnQgaW5zaWdodHNcbiAgY29uc3Qgc29ydGVkSW5zaWdodHMgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCBzb3J0ZWQgPSBbLi4uZmlsdGVyZWRJbnNpZ2h0c107XG5cbiAgICBzb3J0ZWQuc29ydCgoYSwgYikgPT4ge1xuICAgICAgY29uc3QgYVZhbCA9IGFbc29ydENvbHVtbl07XG4gICAgICBjb25zdCBiVmFsID0gYltzb3J0Q29sdW1uXTtcblxuICAgICAgaWYgKHR5cGVvZiBhVmFsID09PSAnbnVtYmVyJyAmJiB0eXBlb2YgYlZhbCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgcmV0dXJuIHNvcnREaXJlY3Rpb24gPT09ICdhc2MnID8gYVZhbCAtIGJWYWwgOiBiVmFsIC0gYVZhbDtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBhVmFsID09PSAnc3RyaW5nJyAmJiB0eXBlb2YgYlZhbCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIHNvcnREaXJlY3Rpb24gPT09ICdhc2MnXG4gICAgICAgICAgPyBhVmFsLmxvY2FsZUNvbXBhcmUoYlZhbClcbiAgICAgICAgICA6IGJWYWwubG9jYWxlQ29tcGFyZShhVmFsKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIDA7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gc29ydGVkO1xuICB9LCBbZmlsdGVyZWRJbnNpZ2h0cywgc29ydENvbHVtbiwgc29ydERpcmVjdGlvbl0pO1xuXG4gIC8vIFBhZ2luYXRpb25cbiAgY29uc3QgdG90YWxQYWdlcyA9IE1hdGguY2VpbChzb3J0ZWRJbnNpZ2h0cy5sZW5ndGggLyBpdGVtc1BlclBhZ2UpO1xuICBjb25zdCBwYWdpbmF0ZWRJbnNpZ2h0cyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IHN0YXJ0SW5kZXggPSAoY3VycmVudFBhZ2UgLSAxKSAqIGl0ZW1zUGVyUGFnZTtcbiAgICByZXR1cm4gc29ydGVkSW5zaWdodHMuc2xpY2Uoc3RhcnRJbmRleCwgc3RhcnRJbmRleCArIGl0ZW1zUGVyUGFnZSk7XG4gIH0sIFtzb3J0ZWRJbnNpZ2h0cywgY3VycmVudFBhZ2VdKTtcblxuICAvLyBDb21wdXRlIHN1bW1hcnkgc3RhdHNcbiAgY29uc3Qgc3VtbWFyeVN0YXRzID0gdXNlTWVtbygoKSA9PiB7XG4gICAgaWYgKGluc2lnaHRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdG90YWxJbnNpZ2h0czogMCxcbiAgICAgICAgY3JpdGljYWxJbnNpZ2h0czogMCxcbiAgICAgICAgaW5jcmVhc2luZ1RyZW5kczogMCxcbiAgICAgICAgaGlnaEltcGFjdDogMCxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHRvdGFsSW5zaWdodHM6IGluc2lnaHRzLmxlbmd0aCxcbiAgICAgIGNyaXRpY2FsSW5zaWdodHM6IGluc2lnaHRzLmZpbHRlcigoaSkgPT4gaS5pc0Fub21hbHkpLmxlbmd0aCxcbiAgICAgIGluY3JlYXNpbmdUcmVuZHM6IGluc2lnaHRzLmZpbHRlcigoaSkgPT4gaS50cmVuZERpcmVjdGlvbiA9PT0gJ0lOQ1JFQVNJTkcnKS5sZW5ndGgsXG4gICAgICBoaWdoSW1wYWN0OiBpbnNpZ2h0cy5maWx0ZXIoKGkpID0+IGkuZmFpbHVyZVNoYXJlID4gMTApLmxlbmd0aCxcbiAgICB9O1xuICB9LCBbaW5zaWdodHNdKTtcblxuICBjb25zdCBoYW5kbGVTb3J0ID0gKGNvbHVtbjoga2V5b2YgRmFpbHVyZUluc2lnaHQpID0+IHtcbiAgICBpZiAoc29ydENvbHVtbiA9PT0gY29sdW1uKSB7XG4gICAgICBzZXRTb3J0RGlyZWN0aW9uKHNvcnREaXJlY3Rpb24gPT09ICdhc2MnID8gJ2Rlc2MnIDogJ2FzYycpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXRTb3J0Q29sdW1uKGNvbHVtbik7XG4gICAgICBzZXRTb3J0RGlyZWN0aW9uKCdkZXNjJyk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGdldFRyZW5kSWNvbiA9ICh0cmVuZDogVHJlbmREaXJlY3Rpb24pID0+IHtcbiAgICBzd2l0Y2ggKHRyZW5kKSB7XG4gICAgICBjYXNlICdJTkNSRUFTSU5HJzpcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8c3ZnIGNsYXNzTmFtZT1cInctNCBoLTQgdGV4dC1lcnJvclwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgPHBhdGggc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZVdpZHRoPXsyfSBkPVwiTTEzIDdoOG0wIDB2OG0wLThsLTggOC00LTQtNiA2XCIgLz5cbiAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgKTtcbiAgICAgIGNhc2UgJ0RFQ1JFQVNJTkcnOlxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxzdmcgY2xhc3NOYW1lPVwidy00IGgtNCB0ZXh0LXN1Y2Nlc3NcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICAgIDxwYXRoIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIiBzdHJva2VXaWR0aD17Mn0gZD1cIk0xMyAxN2g4bTAgMFY5bTAgOGwtOC04LTQgNC02LTZcIiAvPlxuICAgICAgICAgIDwvc3ZnPlxuICAgICAgICApO1xuICAgICAgY2FzZSAnU1RBQkxFJzpcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8c3ZnIGNsYXNzTmFtZT1cInctNCBoLTQgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kXCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICA8cGF0aCBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlV2lkdGg9ezJ9IGQ9XCJNNSAxMmgxNFwiIC8+XG4gICAgICAgICAgPC9zdmc+XG4gICAgICAgICk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGdldFRyZW5kQ29sb3IgPSAodHJlbmQ6IFRyZW5kRGlyZWN0aW9uKSA9PiB7XG4gICAgc3dpdGNoICh0cmVuZCkge1xuICAgICAgY2FzZSAnSU5DUkVBU0lORyc6XG4gICAgICAgIHJldHVybiAndGV4dC1lcnJvcic7XG4gICAgICBjYXNlICdERUNSRUFTSU5HJzpcbiAgICAgICAgcmV0dXJuICd0ZXh0LXN1Y2Nlc3MnO1xuICAgICAgY2FzZSAnU1RBQkxFJzpcbiAgICAgICAgcmV0dXJuICd0ZXh0LW11dGVkLWZvcmVncm91bmQnO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYXNEYXRhID0gdXNlSW5kZXhlZERCID8gZmlsdGVyZWRUcmFuc2FjdGlvbkNvdW50ID4gMCA6IGZpbHRlcmVkVHJhbnNhY3Rpb25zLmxlbmd0aCA+IDA7XG4gIFxuICBpZiAoIWhhc0RhdGEpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBwLTEyXCI+XG4gICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiPk5vIGRhdGEgYXZhaWxhYmxlLiBQbGVhc2UgdXBsb2FkIGEgZmlsZSB0byBzZWUgaW5zaWdodHMuPC9wPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIGlmIChpc0dlbmVyYXRpbmdJbnNpZ2h0cykge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHAtMTJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYW5pbWF0ZS1zcGluIHJvdW5kZWQtZnVsbCBoLTEyIHctMTIgYm9yZGVyLWItMiBib3JkZXItcHJpbWFyeSBteC1hdXRvIG1iLTRcIj48L2Rpdj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LW11dGVkLWZvcmVncm91bmRcIj5cbiAgICAgICAgICAgIEdlbmVyYXRpbmcgaW5zaWdodHMgZnJvbSB7KHVzZUluZGV4ZWREQiA/IGZpbHRlcmVkVHJhbnNhY3Rpb25Db3VudCA6IGZpbHRlcmVkVHJhbnNhY3Rpb25zLmxlbmd0aCkudG9Mb2NhbGVTdHJpbmcoKX0gdHJhbnNhY3Rpb25zLi4uXG4gICAgICAgICAgPC9wPlxuICAgICAgICAgIHt1c2VJbmRleGVkREIgJiYgKFxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LW11dGVkLWZvcmVncm91bmQgbXQtMlwiPlN0cmVhbWluZyBmcm9tIEluZGV4ZWREQiAodGhpcyBtYXkgdGFrZSBhIGZldyBtaW51dGVzIGZvciBsYXJnZSBmaWxlcyk8L3A+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgaWYgKGluc2lnaHRzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHAtMTJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC02eGwgbWItNFwiPvCfjok8L2Rpdj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGRcIj5ObyBTaWduaWZpY2FudCBJc3N1ZXMgRGV0ZWN0ZWQhPC9wPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtbXV0ZWQtZm9yZWdyb3VuZCBtdC0yXCI+XG4gICAgICAgICAgICBZb3VyIGZhaWx1cmUgcGF0dGVybnMgYXJlIHN0YWJsZSBhbmQgbm8gYW5vbWFsaWVzIHdlcmUgZm91bmQuXG4gICAgICAgICAgPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS02XCI+XG4gICAgICB7LyogSGVhZGVyICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1jYXJkIGJvcmRlciBib3JkZXItYm9yZGVyIHJvdW5kZWQtbGcgcC02XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1zdGFydCBqdXN0aWZ5LWJldHdlZW4gbWItNFwiPlxuICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC14bCBmb250LXNlbWlib2xkXCI+QXV0b21hdGVkIEZhaWx1cmUgSW5zaWdodHM8L2gyPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LW11dGVkLWZvcmVncm91bmQgbXQtMVwiPlxuICAgICAgICAgICAgICBBSS1wb3dlcmVkIGFuYWx5c2lzIG9mIGZhaWxlZCB0cmFuc2FjdGlvbnMgd2l0aCBhY3Rpb25hYmxlIHJlY29tbWVuZGF0aW9uc1xuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0zIGgtMyByb3VuZGVkLWZ1bGwgYmctZ3JlZW4tNTAwIGFuaW1hdGUtcHVsc2VcIj48L2Rpdj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1tdXRlZC1mb3JlZ3JvdW5kXCI+QXV0by1HZW5lcmF0ZWQ8L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHsvKiBTdW1tYXJ5IEtQSXMgKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBsZzpncmlkLWNvbHMtNCBnYXAtNFwiPlxuICAgICAgICAgIDxLUElDYXJkXG4gICAgICAgICAgICB0aXRsZT1cIlRvdGFsIEluc2lnaHRzXCJcbiAgICAgICAgICAgIHZhbHVlPXtzdW1tYXJ5U3RhdHMudG90YWxJbnNpZ2h0cy50b1N0cmluZygpfVxuICAgICAgICAgICAgdmFyaWFudD1cImRlZmF1bHRcIlxuICAgICAgICAgIC8+XG4gICAgICAgICAgPEtQSUNhcmRcbiAgICAgICAgICAgIHRpdGxlPVwiQ3JpdGljYWwgQW5vbWFsaWVzXCJcbiAgICAgICAgICAgIHZhbHVlPXtzdW1tYXJ5U3RhdHMuY3JpdGljYWxJbnNpZ2h0cy50b1N0cmluZygpfVxuICAgICAgICAgICAgdmFyaWFudD17c3VtbWFyeVN0YXRzLmNyaXRpY2FsSW5zaWdodHMgPiAwID8gJ2Vycm9yJyA6ICdzdWNjZXNzJ31cbiAgICAgICAgICAvPlxuICAgICAgICAgIDxLUElDYXJkXG4gICAgICAgICAgICB0aXRsZT1cIkluY3JlYXNpbmcgVHJlbmRzXCJcbiAgICAgICAgICAgIHZhbHVlPXtzdW1tYXJ5U3RhdHMuaW5jcmVhc2luZ1RyZW5kcy50b1N0cmluZygpfVxuICAgICAgICAgICAgdmFyaWFudD17c3VtbWFyeVN0YXRzLmluY3JlYXNpbmdUcmVuZHMgPiA1ID8gJ3dhcm5pbmcnIDogJ2RlZmF1bHQnfVxuICAgICAgICAgIC8+XG4gICAgICAgICAgPEtQSUNhcmRcbiAgICAgICAgICAgIHRpdGxlPVwiSGlnaCBJbXBhY3QgSXNzdWVzXCJcbiAgICAgICAgICAgIHZhbHVlPXtzdW1tYXJ5U3RhdHMuaGlnaEltcGFjdC50b1N0cmluZygpfVxuICAgICAgICAgICAgdmFyaWFudD17c3VtbWFyeVN0YXRzLmhpZ2hJbXBhY3QgPiAwID8gJ2Vycm9yJyA6ICdzdWNjZXNzJ31cbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7LyogRmlsdGVyIENvbnRyb2xzICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1jYXJkIGJvcmRlciBib3JkZXItYm9yZGVyIHJvdW5kZWQtbGcgcC00XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LXdyYXAgaXRlbXMtY2VudGVyIGdhcC00XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgbWluLXctWzI1MHB4XVwiPlxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtc20gZm9udC1tZWRpdW0gbWItMlwiPkZpbHRlciBieSBQYXltZW50IE1vZGU8L2xhYmVsPlxuICAgICAgICAgICAgPFBheW1lbnRNb2RlRHJvcGRvd25cbiAgICAgICAgICAgICAgdmFsdWU9e2ZpbHRlclBheW1lbnRNb2RlfVxuICAgICAgICAgICAgICBvcHRpb25zPXtwYXltZW50TW9kZXN9XG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXtzZXRGaWx0ZXJQYXltZW50TW9kZX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiB0ZXh0LXNtIHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiPlxuICAgICAgICAgICAgPHNwYW4+XG4gICAgICAgICAgICAgIFNob3dpbmcge3BhZ2luYXRlZEluc2lnaHRzLmxlbmd0aCA+IDAgPyAoY3VycmVudFBhZ2UgLSAxKSAqIGl0ZW1zUGVyUGFnZSArIDEgOiAwfS1cbiAgICAgICAgICAgICAge01hdGgubWluKGN1cnJlbnRQYWdlICogaXRlbXNQZXJQYWdlLCBzb3J0ZWRJbnNpZ2h0cy5sZW5ndGgpfSBvZiB7c29ydGVkSW5zaWdodHMubGVuZ3RofSBpbnNpZ2h0c1xuICAgICAgICAgICAgICB7c29ydGVkSW5zaWdodHMubGVuZ3RoICE9PSBpbnNpZ2h0cy5sZW5ndGggJiYgYCAoJHtpbnNpZ2h0cy5sZW5ndGh9IHRvdGFsKWB9XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIHsvKiBJbnNpZ2h0cyBUYWJsZSAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctY2FyZCBib3JkZXIgYm9yZGVyLWJvcmRlciByb3VuZGVkLWxnIG92ZXJmbG93LWhpZGRlblwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm92ZXJmbG93LXgtYXV0b1wiPlxuICAgICAgICAgIDx0YWJsZSBjbGFzc05hbWU9XCJ3LWZ1bGwgdGV4dC1zbVwiPlxuICAgICAgICAgICAgPHRoZWFkPlxuICAgICAgICAgICAgICA8dHIgY2xhc3NOYW1lPVwiYm9yZGVyLWIgYm9yZGVyLWJvcmRlciBiZy1tdXRlZC8zMFwiPlxuICAgICAgICAgICAgICAgIDx0aFxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC1sZWZ0IHB5LTMgcHgtNCBmb250LXNlbWlib2xkIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCBjdXJzb3ItcG9pbnRlciBob3Zlcjp0ZXh0LWZvcmVncm91bmQgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlU29ydCgncGF5bWVudE1vZGUnKX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0xXCI+XG4gICAgICAgICAgICAgICAgICAgIFBheW1lbnQgTW9kZVxuICAgICAgICAgICAgICAgICAgICB7c29ydENvbHVtbiA9PT0gJ3BheW1lbnRNb2RlJyAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1wcmltYXJ5XCI+e3NvcnREaXJlY3Rpb24gPT09ICdhc2MnID8gJ+KGkScgOiAn4oaTJ308L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICAgICAgIDx0aFxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC1sZWZ0IHB5LTMgcHgtNCBmb250LXNlbWlib2xkIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCBjdXJzb3ItcG9pbnRlciBob3Zlcjp0ZXh0LWZvcmVncm91bmQgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlU29ydCgnY2ZFcnJvckRlc2NyaXB0aW9uJyl9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMVwiPlxuICAgICAgICAgICAgICAgICAgICBDRiBFcnJvciBEZXNjcmlwdGlvblxuICAgICAgICAgICAgICAgICAgICB7c29ydENvbHVtbiA9PT0gJ2NmRXJyb3JEZXNjcmlwdGlvbicgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtcHJpbWFyeVwiPntzb3J0RGlyZWN0aW9uID09PSAnYXNjJyA/ICfihpEnIDogJ+KGkyd9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC90aD5cbiAgICAgICAgICAgICAgICA8dGhcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtcmlnaHQgcHktMyBweC00IGZvbnQtc2VtaWJvbGQgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIGN1cnNvci1wb2ludGVyIGhvdmVyOnRleHQtZm9yZWdyb3VuZCB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVTb3J0KCdmYWlsdXJlU2hhcmUnKX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktZW5kIGdhcC0xXCI+XG4gICAgICAgICAgICAgICAgICAgIEZhaWx1cmUgU2hhcmUgKCUpXG4gICAgICAgICAgICAgICAgICAgIHtzb3J0Q29sdW1uID09PSAnZmFpbHVyZVNoYXJlJyAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1wcmltYXJ5XCI+e3NvcnREaXJlY3Rpb24gPT09ICdhc2MnID8gJ+KGkScgOiAn4oaTJ308L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICAgICAgIDx0aFxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC1sZWZ0IHB5LTMgcHgtNCBmb250LXNlbWlib2xkIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCBjdXJzb3ItcG9pbnRlciBob3Zlcjp0ZXh0LWZvcmVncm91bmQgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlU29ydCgncHJpbWFyeVNwaWtlUGVyaW9kJyl9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMVwiPlxuICAgICAgICAgICAgICAgICAgICBQcmltYXJ5IFNwaWtlIFBlcmlvZFxuICAgICAgICAgICAgICAgICAgICB7c29ydENvbHVtbiA9PT0gJ3ByaW1hcnlTcGlrZVBlcmlvZCcgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtcHJpbWFyeVwiPntzb3J0RGlyZWN0aW9uID09PSAnYXNjJyA/ICfihpEnIDogJ+KGkyd9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC90aD5cbiAgICAgICAgICAgICAgICA8dGhcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHB5LTMgcHgtNCBmb250LXNlbWlib2xkIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCBjdXJzb3ItcG9pbnRlciBob3Zlcjp0ZXh0LWZvcmVncm91bmQgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlU29ydCgndHJlbmREaXJlY3Rpb24nKX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGdhcC0xXCI+XG4gICAgICAgICAgICAgICAgICAgIFRyZW5kXG4gICAgICAgICAgICAgICAgICAgIHtzb3J0Q29sdW1uID09PSAndHJlbmREaXJlY3Rpb24nICYmIChcbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXByaW1hcnlcIj57c29ydERpcmVjdGlvbiA9PT0gJ2FzYycgPyAn4oaRJyA6ICfihpMnfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgICAgICAgPHRoXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LXJpZ2h0IHB5LTMgcHgtNCBmb250LXNlbWlib2xkIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCBjdXJzb3ItcG9pbnRlciBob3Zlcjp0ZXh0LWZvcmVncm91bmQgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlU29ydCgndm9sdW1lRGVsdGEnKX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktZW5kIGdhcC0xXCI+XG4gICAgICAgICAgICAgICAgICAgIFZvbHVtZSDOlFxuICAgICAgICAgICAgICAgICAgICB7c29ydENvbHVtbiA9PT0gJ3ZvbHVtZURlbHRhJyAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1wcmltYXJ5XCI+e3NvcnREaXJlY3Rpb24gPT09ICdhc2MnID8gJ+KGkScgOiAn4oaTJ308L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICAgICAgIDx0aCBjbGFzc05hbWU9XCJ0ZXh0LWxlZnQgcHktMyBweC00IGZvbnQtc2VtaWJvbGQgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kXCI+XG4gICAgICAgICAgICAgICAgICBJbnNpZ2h0IFN1bW1hcnlcbiAgICAgICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICAgICAgIDx0aCBjbGFzc05hbWU9XCJ0ZXh0LWxlZnQgcHktMyBweC00IGZvbnQtc2VtaWJvbGQgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kXCI+XG4gICAgICAgICAgICAgICAgICBBY3Rpb25hYmxlIFJlY29tbWVuZGF0aW9uXG4gICAgICAgICAgICAgICAgPC90aD5cbiAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgIDwvdGhlYWQ+XG4gICAgICAgICAgICA8dGJvZHk+XG4gICAgICAgICAgICAgIHtwYWdpbmF0ZWRJbnNpZ2h0cy5tYXAoKGluc2lnaHQsIGlkeCkgPT4gKFxuICAgICAgICAgICAgICAgIDx0clxuICAgICAgICAgICAgICAgICAga2V5PXtpZHh9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Bib3JkZXItYiBib3JkZXItYm9yZGVyIGhvdmVyOmJnLW11dGVkLzIwIHRyYW5zaXRpb24tY29sb3JzICR7XG4gICAgICAgICAgICAgICAgICAgIGluc2lnaHQuaXNBbm9tYWx5ID8gJ2JnLXJlZC01MDAvNScgOiAnJ1xuICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInB5LTMgcHgtNFwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1tZWRpdW1cIj57aW5zaWdodC5wYXltZW50TW9kZX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAge2luc2lnaHQuaXNBbm9tYWx5ICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInB4LTIgcHktMC41IHJvdW5kZWQgdGV4dC14cyBiZy1yZWQtNTAwLzIwIHRleHQtcmVkLTMwMCBib3JkZXIgYm9yZGVyLXJlZC01MDAvNTBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgQU5PTUFMWVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJweS0zIHB4LTRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXgtdy14c1wiPlxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZm9yZWdyb3VuZFwiPntpbnNpZ2h0LmNmRXJyb3JEZXNjcmlwdGlvbn08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAge2luc2lnaHQuc3Bpa2VUeXBlICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LW11dGVkLWZvcmVncm91bmQgbXQtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7aW5zaWdodC5zcGlrZVR5cGUucmVwbGFjZSgnXycsICcgJyl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwidGV4dC1yaWdodCBweS0zIHB4LTRcIj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Bmb250LW1lZGl1bSAke1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5zaWdodC5mYWlsdXJlU2hhcmUgPiAxMFxuICAgICAgICAgICAgICAgICAgICAgICAgICA/ICd0ZXh0LWVycm9yJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICA6IGluc2lnaHQuZmFpbHVyZVNoYXJlID4gNVxuICAgICAgICAgICAgICAgICAgICAgICAgICA/ICd0ZXh0LXdhcm5pbmcnXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogJ3RleHQtZm9yZWdyb3VuZCdcbiAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIHtpbnNpZ2h0LmZhaWx1cmVTaGFyZS50b0ZpeGVkKDEpfSVcbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIG10LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7Zm9ybWF0TnVtYmVyKGluc2lnaHQuY3VycmVudFZvbHVtZSl9IGZhaWx1cmVzXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJweS0zIHB4LTRcIj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1mb3JlZ3JvdW5kXCI+e2luc2lnaHQucHJpbWFyeVNwaWtlUGVyaW9kfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgcHktMyBweC00XCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7Z2V0VHJlbmRJY29uKGluc2lnaHQudHJlbmREaXJlY3Rpb24pfVxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17YHRleHQtc20gZm9udC1tZWRpdW0gJHtnZXRUcmVuZENvbG9yKGluc2lnaHQudHJlbmREaXJlY3Rpb24pfWB9PlxuICAgICAgICAgICAgICAgICAgICAgICAge2luc2lnaHQudHJlbmREaXJlY3Rpb259XG4gICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwidGV4dC1yaWdodCBweS0zIHB4LTRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGl0ZW1zLWVuZCBnYXAtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Bmb250LW1lZGl1bSAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpbnNpZ2h0LnZvbHVtZURlbHRhID4gNTBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICd0ZXh0LWVycm9yJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogaW5zaWdodC52b2x1bWVEZWx0YSA+IDIwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAndGV4dC13YXJuaW5nJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogaW5zaWdodC52b2x1bWVEZWx0YSA8IC0yMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ3RleHQtc3VjY2VzcydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ICd0ZXh0LW11dGVkLWZvcmVncm91bmQnXG4gICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICB7aW5zaWdodC52b2x1bWVEZWx0YSA+PSAwID8gJysnIDogJyd9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Zm9ybWF0TnVtYmVyKGluc2lnaHQudm9sdW1lRGVsdGEpfVxuICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1zZW1pYm9sZCB0ZXh0LWZvcmVncm91bmRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIFRvdGFsOiB7Zm9ybWF0TnVtYmVyKGluc2lnaHQuY3VycmVudFZvbHVtZSl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAge2Zvcm1hdE51bWJlcihpbnNpZ2h0LnByZXZpb3VzVm9sdW1lKX0g4oaSIHtmb3JtYXROdW1iZXIoaW5zaWdodC5jdXJyZW50Vm9sdW1lKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInB5LTMgcHgtNFwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LW1kIHRleHQtc20gdGV4dC1mb3JlZ3JvdW5kXCI+e2luc2lnaHQuaW5zaWdodFN1bW1hcnl9PC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInB5LTMgcHgtNFwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgbWF4LXctbWQgdGV4dC1zbSBwLTMgcm91bmRlZC1sZyBib3JkZXIgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc2lnaHQuYWN0aW9uYWJsZVJlY29tbWVuZGF0aW9uLnN0YXJ0c1dpdGgoJ1VSR0VOVCcpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnNpZ2h0LmFjdGlvbmFibGVSZWNvbW1lbmRhdGlvbi5zdGFydHNXaXRoKCdDcml0aWNhbCcpXG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gJ2JnLXJlZC01MDAvMTAgYm9yZGVyLXJlZC01MDAvNTAgdGV4dC1yZWQtMjAwJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICA6IGluc2lnaHQuZmFpbHVyZVNoYXJlID4gMTBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnYmctb3JhbmdlLTUwMC8xMCBib3JkZXItb3JhbmdlLTUwMC81MCB0ZXh0LW9yYW5nZS0yMDAnXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogJ2JnLWJsdWUtNTAwLzEwIGJvcmRlci1ibHVlLTUwMC81MCB0ZXh0LWJsdWUtMjAwJ1xuICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAge2luc2lnaHQuYWN0aW9uYWJsZVJlY29tbWVuZGF0aW9ufVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICA8L3Rib2R5PlxuICAgICAgICAgIDwvdGFibGU+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBcbiAgICAgICAgey8qIFBhZ2luYXRpb24gQ29udHJvbHMgKi99XG4gICAgICAgIHt0b3RhbFBhZ2VzID4gMSAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gcC00IGJvcmRlci10IGJvcmRlci1ib3JkZXJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LW11dGVkLWZvcmVncm91bmRcIj5cbiAgICAgICAgICAgICAgUGFnZSB7Y3VycmVudFBhZ2V9IG9mIHt0b3RhbFBhZ2VzfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRDdXJyZW50UGFnZSgocHJldikgPT4gTWF0aC5tYXgoMSwgcHJldiAtIDEpKX1cbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17Y3VycmVudFBhZ2UgPT09IDF9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbihcbiAgICAgICAgICAgICAgICAgICdweC0zIHB5LTEuNSByb3VuZGVkLWxnIGJvcmRlciBib3JkZXItYm9yZGVyIHRleHQtc20gZm9udC1tZWRpdW0gdHJhbnNpdGlvbi1jb2xvcnMnLFxuICAgICAgICAgICAgICAgICAgY3VycmVudFBhZ2UgPT09IDFcbiAgICAgICAgICAgICAgICAgICAgPyAnb3BhY2l0eS01MCBjdXJzb3Itbm90LWFsbG93ZWQgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kJ1xuICAgICAgICAgICAgICAgICAgICA6ICdob3ZlcjpiZy1tdXRlZCB0ZXh0LWZvcmVncm91bmQgY3Vyc29yLXBvaW50ZXInXG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIFByZXZpb3VzXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0xXCI+XG4gICAgICAgICAgICAgICAge0FycmF5LmZyb20oeyBsZW5ndGg6IE1hdGgubWluKDUsIHRvdGFsUGFnZXMpIH0sIChfLCBpKSA9PiB7XG4gICAgICAgICAgICAgICAgICBsZXQgcGFnZU51bTogbnVtYmVyO1xuICAgICAgICAgICAgICAgICAgaWYgKHRvdGFsUGFnZXMgPD0gNSkge1xuICAgICAgICAgICAgICAgICAgICBwYWdlTnVtID0gaSArIDE7XG4gICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGN1cnJlbnRQYWdlIDw9IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFnZU51bSA9IGkgKyAxO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjdXJyZW50UGFnZSA+PSB0b3RhbFBhZ2VzIC0gMikge1xuICAgICAgICAgICAgICAgICAgICBwYWdlTnVtID0gdG90YWxQYWdlcyAtIDQgKyBpO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcGFnZU51bSA9IGN1cnJlbnRQYWdlIC0gMiArIGk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICBrZXk9e3BhZ2VOdW19XG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0Q3VycmVudFBhZ2UocGFnZU51bSl9XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbihcbiAgICAgICAgICAgICAgICAgICAgICAgICdweC0zIHB5LTEuNSByb3VuZGVkLWxnIGJvcmRlciB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRyYW5zaXRpb24tY29sb3JzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQYWdlID09PSBwYWdlTnVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gJ2JnLXByaW1hcnkgdGV4dC1wcmltYXJ5LWZvcmVncm91bmQgYm9yZGVyLXByaW1hcnknXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogJ2JvcmRlci1ib3JkZXIgdGV4dC1mb3JlZ3JvdW5kIGhvdmVyOmJnLW11dGVkJ1xuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICB7cGFnZU51bX1cbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldEN1cnJlbnRQYWdlKChwcmV2KSA9PiBNYXRoLm1pbih0b3RhbFBhZ2VzLCBwcmV2ICsgMSkpfVxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXtjdXJyZW50UGFnZSA9PT0gdG90YWxQYWdlc31cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NuKFxuICAgICAgICAgICAgICAgICAgJ3B4LTMgcHktMS41IHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1ib3JkZXIgdGV4dC1zbSBmb250LW1lZGl1bSB0cmFuc2l0aW9uLWNvbG9ycycsXG4gICAgICAgICAgICAgICAgICBjdXJyZW50UGFnZSA9PT0gdG90YWxQYWdlc1xuICAgICAgICAgICAgICAgICAgICA/ICdvcGFjaXR5LTUwIGN1cnNvci1ub3QtYWxsb3dlZCB0ZXh0LW11dGVkLWZvcmVncm91bmQnXG4gICAgICAgICAgICAgICAgICAgIDogJ2hvdmVyOmJnLW11dGVkIHRleHQtZm9yZWdyb3VuZCBjdXJzb3ItcG9pbnRlcidcbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgTmV4dFxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG5cbiAgICAgIHsvKiBGb290ZXIgSW5mbyAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctbXV0ZWQvMzAgYm9yZGVyIGJvcmRlci1ib3JkZXIgcm91bmRlZC1sZyBwLTRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTJcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtIHRleHQtZm9yZWdyb3VuZFwiPkhvdyBJbnNpZ2h0cyBXb3JrOjwvc3Bhbj4gVGhpcyBhbmFseXNpcyBhdXRvbWF0aWNhbGx5XG4gICAgICAgICAgICBkZXRlY3RzIHNwaWtlcywgdHJlbmRzLCBhbmQgYW5vbWFsaWVzIGluIGZhaWxlZCB0cmFuc2FjdGlvbnMgYnkgY29tcGFyaW5nIHJlY2VudCBwZXJpb2RzIGFuZCBpZGVudGlmeWluZ1xuICAgICAgICAgICAgcGF0dGVybnMgYWNyb3NzIHBheW1lbnQgbW9kZXMgYW5kIGVycm9yIHR5cGVzLlxuICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8cD5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtIHRleHQtZm9yZWdyb3VuZFwiPkFjdGlvbnM6PC9zcGFuPiBFYWNoIHJlY29tbWVuZGF0aW9uIGlzIHRhaWxvcmVkIGJhc2VkIG9uXG4gICAgICAgICAgICB0aGUgZXJyb3IgdHlwZSwgc3Bpa2UgcGF0dGVybiwgYW5kIGltcGFjdC4gUHJpb3JpdHkgaXMgZ2l2ZW4gdG8gc3VkZGVuIHNwaWtlcywgaGlnaC1pbXBhY3QgZmFpbHVyZXMsXG4gICAgICAgICAgICBhbmQgcGVyc2lzdGVudCBpc3N1ZXMuXG4gICAgICAgICAgPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5mdW5jdGlvbiBQYXltZW50TW9kZURyb3Bkb3duKHtcbiAgdmFsdWUsXG4gIG9wdGlvbnMsXG4gIG9uQ2hhbmdlLFxufToge1xuICB2YWx1ZTogc3RyaW5nO1xuICBvcHRpb25zOiBzdHJpbmdbXTtcbiAgb25DaGFuZ2U6ICh2YWx1ZTogc3RyaW5nKSA9PiB2b2lkO1xufSkge1xuICBjb25zdCBbaXNPcGVuLCBzZXRJc09wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBkcm9wZG93blJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbCk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBoYW5kbGVDbGlja091dHNpZGUgPSAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHtcbiAgICAgIGlmIChcbiAgICAgICAgZHJvcGRvd25SZWYuY3VycmVudCAmJlxuICAgICAgICAhZHJvcGRvd25SZWYuY3VycmVudC5jb250YWlucyhldmVudC50YXJnZXQgYXMgTm9kZSlcbiAgICAgICkge1xuICAgICAgICBzZXRJc09wZW4oZmFsc2UpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBoYW5kbGVDbGlja091dHNpZGUpO1xuICAgIHJldHVybiAoKSA9PiBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBoYW5kbGVDbGlja091dHNpZGUpO1xuICB9LCBbXSk7XG5cbiAgY29uc3Qgc2VsZWN0ZWRPcHRpb24gPSBvcHRpb25zLmZpbmQoKG9wdCkgPT4gb3B0ID09PSB2YWx1ZSkgfHwgdmFsdWU7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlXCIgcmVmPXtkcm9wZG93blJlZn0+XG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweC0zIHB5LTIgYmctYmFja2dyb3VuZCBib3JkZXIgYm9yZGVyLWJvcmRlciByb3VuZGVkLWxnIHRleHQtZm9yZWdyb3VuZCBjdXJzb3ItcG9pbnRlciBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctcHJpbWFyeSBtaW4taC1bNDJweF0gZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCJcbiAgICAgICAgb25DbGljaz17KCkgPT4gc2V0SXNPcGVuKCFpc09wZW4pfVxuICAgICAgPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmbGV4LTEgdGV4dC1sZWZ0XCI+e3NlbGVjdGVkT3B0aW9ufTwvc3Bhbj5cbiAgICAgICAgPHN2Z1xuICAgICAgICAgIGNsYXNzTmFtZT17Y24oXG4gICAgICAgICAgICAndy00IGgtNCB0cmFuc2l0aW9uLXRyYW5zZm9ybSBmbGV4LXNocmluay0wIG1sLTInLFxuICAgICAgICAgICAgaXNPcGVuICYmICd0cmFuc2Zvcm0gcm90YXRlLTE4MCdcbiAgICAgICAgICApfVxuICAgICAgICAgIGZpbGw9XCJub25lXCJcbiAgICAgICAgICBzdHJva2U9XCJjdXJyZW50Q29sb3JcIlxuICAgICAgICAgIHZpZXdCb3g9XCIwIDAgMjQgMjRcIlxuICAgICAgICA+XG4gICAgICAgICAgPHBhdGhcbiAgICAgICAgICAgIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiXG4gICAgICAgICAgICBzdHJva2VMaW5lam9pbj1cInJvdW5kXCJcbiAgICAgICAgICAgIHN0cm9rZVdpZHRoPXsyfVxuICAgICAgICAgICAgZD1cIk0xOSA5bC03IDctNy03XCJcbiAgICAgICAgICAvPlxuICAgICAgICA8L3N2Zz5cbiAgICAgIDwvZGl2PlxuICAgICAge2lzT3BlbiAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgei01MCB3LWZ1bGwgbXQtMSBiZy1jYXJkIGJvcmRlciBib3JkZXItYm9yZGVyIHJvdW5kZWQtbGcgc2hhZG93LWxnIG1heC1oLTYwIG92ZXJmbG93LWF1dG8gbWluLXctZnVsbFwiPlxuICAgICAgICAgIHtvcHRpb25zLm1hcCgob3B0aW9uKSA9PiAoXG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgIGtleT17b3B0aW9ufVxuICAgICAgICAgICAgICBjbGFzc05hbWU9e2NuKFxuICAgICAgICAgICAgICAgICdweC0zIHB5LTIgdGV4dC1zbSBjdXJzb3ItcG9pbnRlciBob3ZlcjpiZy1tdXRlZCB0cmFuc2l0aW9uLWNvbG9ycyBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4nLFxuICAgICAgICAgICAgICAgIHZhbHVlID09PSBvcHRpb24gJiYgJ2JnLXByaW1hcnkvMTAnXG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICBvbkNoYW5nZShvcHRpb24pO1xuICAgICAgICAgICAgICAgIHNldElzT3BlbihmYWxzZSk7XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZsZXgtMSBicmVhay13b3Jkc1wiPntvcHRpb259PC9zcGFuPlxuICAgICAgICAgICAgICB7dmFsdWUgPT09IG9wdGlvbiAmJiAoXG4gICAgICAgICAgICAgICAgPHN2Z1xuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy00IGgtNCB0ZXh0LXByaW1hcnkgZmxleC1zaHJpbmstMCBtbC0yXCJcbiAgICAgICAgICAgICAgICAgIGZpbGw9XCJub25lXCJcbiAgICAgICAgICAgICAgICAgIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiXG4gICAgICAgICAgICAgICAgICB2aWV3Qm94PVwiMCAwIDI0IDI0XCJcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8cGF0aFxuICAgICAgICAgICAgICAgICAgICBzdHJva2VMaW5lY2FwPVwicm91bmRcIlxuICAgICAgICAgICAgICAgICAgICBzdHJva2VMaW5lam9pbj1cInJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg9ezJ9XG4gICAgICAgICAgICAgICAgICAgIGQ9XCJNNSAxM2w0IDRMMTkgN1wiXG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKSl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlTWVtbyIsInVzZVN0YXRlIiwidXNlUmVmIiwidXNlRWZmZWN0IiwidXNlU3RvcmUiLCJnZW5lcmF0ZUZhaWx1cmVJbnNpZ2h0cyIsImZvcm1hdE51bWJlciIsIktQSUNhcmQiLCJjbiIsIkluc2lnaHRzVGFiIiwiZmlsdGVyZWRUcmFuc2FjdGlvbnMiLCJzdGF0ZSIsInVzZUluZGV4ZWREQiIsIl91c2VJbmRleGVkREIiLCJmaWx0ZXJlZFRyYW5zYWN0aW9uQ291bnQiLCJzdHJlYW1GaWx0ZXJlZFRyYW5zYWN0aW9ucyIsInNvcnRDb2x1bW4iLCJzZXRTb3J0Q29sdW1uIiwic29ydERpcmVjdGlvbiIsInNldFNvcnREaXJlY3Rpb24iLCJmaWx0ZXJQYXltZW50TW9kZSIsInNldEZpbHRlclBheW1lbnRNb2RlIiwiaW5zaWdodHMiLCJzZXRJbnNpZ2h0cyIsImlzR2VuZXJhdGluZ0luc2lnaHRzIiwic2V0SXNHZW5lcmF0aW5nSW5zaWdodHMiLCJjdXJyZW50UGFnZSIsInNldEN1cnJlbnRQYWdlIiwiaXRlbXNQZXJQYWdlIiwiaGFzRGF0YSIsImxlbmd0aCIsInRpbWVvdXRJZCIsInNldFRpbWVvdXQiLCJjb25zb2xlIiwibG9nIiwidGVtcEluc2lnaHRzIiwiYmF0Y2hTaXplIiwiY3VycmVudEJhdGNoIiwiY2h1bmsiLCJ0eCIsInB1c2giLCJiYXRjaFRvUHJvY2VzcyIsInNwbGljZSIsImJhdGNoSW5zaWdodHMiLCJzb3J0IiwiYSIsImIiLCJpbXBhY3RTY29yZSIsInNsaWNlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJ0cmFuc2FjdGlvbnMiLCJnZW5lcmF0ZWRJbnNpZ2h0cyIsImVycm9yIiwiY2xlYXJUaW1lb3V0IiwicGF5bWVudE1vZGVzIiwibW9kZXMiLCJTZXQiLCJtYXAiLCJpIiwicGF5bWVudE1vZGUiLCJBcnJheSIsImZyb20iLCJmaWx0ZXJlZEluc2lnaHRzIiwiZmlsdGVyZWQiLCJmaWx0ZXIiLCJzb3J0ZWRJbnNpZ2h0cyIsInNvcnRlZCIsImFWYWwiLCJiVmFsIiwibG9jYWxlQ29tcGFyZSIsInRvdGFsUGFnZXMiLCJNYXRoIiwiY2VpbCIsInBhZ2luYXRlZEluc2lnaHRzIiwic3RhcnRJbmRleCIsInN1bW1hcnlTdGF0cyIsInRvdGFsSW5zaWdodHMiLCJjcml0aWNhbEluc2lnaHRzIiwiaW5jcmVhc2luZ1RyZW5kcyIsImhpZ2hJbXBhY3QiLCJpc0Fub21hbHkiLCJ0cmVuZERpcmVjdGlvbiIsImZhaWx1cmVTaGFyZSIsImhhbmRsZVNvcnQiLCJjb2x1bW4iLCJnZXRUcmVuZEljb24iLCJ0cmVuZCIsInN2ZyIsImNsYXNzTmFtZSIsImZpbGwiLCJzdHJva2UiLCJ2aWV3Qm94IiwicGF0aCIsInN0cm9rZUxpbmVjYXAiLCJzdHJva2VMaW5lam9pbiIsInN0cm9rZVdpZHRoIiwiZCIsImdldFRyZW5kQ29sb3IiLCJkaXYiLCJwIiwidG9Mb2NhbGVTdHJpbmciLCJoMiIsInNwYW4iLCJ0aXRsZSIsInZhbHVlIiwidG9TdHJpbmciLCJ2YXJpYW50IiwibGFiZWwiLCJQYXltZW50TW9kZURyb3Bkb3duIiwib3B0aW9ucyIsIm9uQ2hhbmdlIiwibWluIiwidGFibGUiLCJ0aGVhZCIsInRyIiwidGgiLCJvbkNsaWNrIiwidGJvZHkiLCJpbnNpZ2h0IiwiaWR4IiwidGQiLCJjZkVycm9yRGVzY3JpcHRpb24iLCJzcGlrZVR5cGUiLCJyZXBsYWNlIiwidG9GaXhlZCIsImN1cnJlbnRWb2x1bWUiLCJwcmltYXJ5U3Bpa2VQZXJpb2QiLCJ2b2x1bWVEZWx0YSIsInByZXZpb3VzVm9sdW1lIiwiaW5zaWdodFN1bW1hcnkiLCJhY3Rpb25hYmxlUmVjb21tZW5kYXRpb24iLCJzdGFydHNXaXRoIiwiYnV0dG9uIiwicHJldiIsIm1heCIsImRpc2FibGVkIiwiXyIsInBhZ2VOdW0iLCJpc09wZW4iLCJzZXRJc09wZW4iLCJkcm9wZG93blJlZiIsImhhbmRsZUNsaWNrT3V0c2lkZSIsImV2ZW50IiwiY3VycmVudCIsImNvbnRhaW5zIiwidGFyZ2V0IiwiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInNlbGVjdGVkT3B0aW9uIiwiZmluZCIsIm9wdCIsInJlZiIsIm9wdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./components/tabs/InsightsTab.tsx\n");

/***/ }),

/***/ "(ssr)/./lib/insights.ts":
/*!*************************!*\
  !*** ./lib/insights.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   generateFailureInsights: () => (/* binding */ generateFailureInsights)\n/* harmony export */ });\n/* harmony import */ var _barrel_optimize_names_differenceInDays_format_startOfDay_subDays_date_fns__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! __barrel_optimize__?names=differenceInDays,format,startOfDay,subDays!=!date-fns */ \"(ssr)/./node_modules/date-fns/differenceInDays.mjs\");\n/* harmony import */ var _barrel_optimize_names_differenceInDays_format_startOfDay_subDays_date_fns__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! __barrel_optimize__?names=differenceInDays,format,startOfDay,subDays!=!date-fns */ \"(ssr)/./node_modules/date-fns/subDays.mjs\");\n/* harmony import */ var _barrel_optimize_names_differenceInDays_format_startOfDay_subDays_date_fns__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! __barrel_optimize__?names=differenceInDays,format,startOfDay,subDays!=!date-fns */ \"(ssr)/./node_modules/date-fns/format.mjs\");\n/* harmony import */ var _barrel_optimize_names_differenceInDays_format_startOfDay_subDays_date_fns__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! __barrel_optimize__?names=differenceInDays,format,startOfDay,subDays!=!date-fns */ \"(ssr)/./node_modules/date-fns/startOfDay.mjs\");\n\n/**\n * Main function to generate automated insights from failed transactions\n * Now async with chunking for large datasets to prevent blocking\n */ async function generateFailureInsights(transactions, chunkSize = 50000) {\n    // Filter only failed transactions in chunks if dataset is large\n    // For 5GB files, this could be millions of transactions - must chunk\n    let failedTxs;\n    if (transactions.length > 50000) {\n        // For large datasets (including 5GB files), filter in chunks with yielding\n        failedTxs = [];\n        for(let i = 0; i < transactions.length; i += chunkSize){\n            const chunk = transactions.slice(i, i + chunkSize);\n            failedTxs.push(...chunk.filter((tx)=>tx.isFailed));\n            // Yield to browser every chunk - critical for 5GB files\n            if (i + chunkSize < transactions.length) {\n                await new Promise((resolve)=>setTimeout(resolve, 5));\n            }\n            // Log progress for very large datasets\n            if (i % (chunkSize * 10) === 0 && transactions.length > 500000) {\n                console.log(`Processing insights: ${(i / transactions.length * 100).toFixed(1)}%`);\n            }\n        }\n    } else {\n        failedTxs = transactions.filter((tx)=>tx.isFailed);\n    }\n    if (failedTxs.length === 0) {\n        return [];\n    }\n    // Determine the time range\n    const timeRange = getTimeRange(failedTxs);\n    if (!timeRange) {\n        return [];\n    }\n    // Group failures by payment mode and CF error description (with chunking for large datasets)\n    const failureGroups = await groupFailuresAsync(failedTxs, chunkSize);\n    // Compute time windows for comparison\n    const windows = computeTimeWindows(timeRange.startDate, timeRange.endDate);\n    // Generate insights for each group (yield periodically)\n    const insights = [];\n    const processGroups = async ()=>{\n        for(let i = 0; i < failureGroups.length; i++){\n            const group = failureGroups[i];\n            const insight = analyzeFailureGroup(group, windows, failedTxs.length);\n            if (insight) {\n                insights.push(insight);\n            }\n            // Yield every 10 groups to keep UI responsive\n            if (i % 10 === 0 && i > 0) {\n                await new Promise((resolve)=>setTimeout(resolve, 0));\n            }\n        }\n    };\n    await processGroups();\n    // Sort by impact score (descending)\n    insights.sort((a, b)=>b.impactScore - a.impactScore);\n    return insights;\n}\n/**\n * Get the time range from transactions\n */ function getTimeRange(transactions) {\n    if (transactions.length === 0) return null;\n    let minTime = Infinity;\n    let maxTime = -Infinity;\n    for (const tx of transactions){\n        const time = tx.txtime.getTime();\n        if (time < minTime) minTime = time;\n        if (time > maxTime) maxTime = time;\n    }\n    return {\n        startDate: new Date(minTime),\n        endDate: new Date(maxTime)\n    };\n}\n/**\n * Group failures by payment mode and CF error description\n */ function groupFailures(transactions) {\n    const groups = new Map();\n    for (const tx of transactions){\n        const paymentMode = tx.paymentmode || \"Unknown\";\n        const cfErrorDescription = tx.cf_errordescription || \"Unknown Error\";\n        const key = `${paymentMode}::${cfErrorDescription}`;\n        if (!groups.has(key)) {\n            groups.set(key, {\n                paymentMode,\n                cfErrorDescription,\n                transactions: [],\n                volume: 0\n            });\n        }\n        const group = groups.get(key);\n        group.transactions.push(tx);\n        group.volume++;\n    }\n    // Convert to array and filter out very small groups (< 5 transactions)\n    return Array.from(groups.values()).filter((g)=>g.volume >= 5);\n}\n/**\n * Group failures asynchronously with chunking for large datasets\n */ async function groupFailuresAsync(transactions, chunkSize = 50000) {\n    const groups = new Map();\n    // Process in chunks to prevent blocking\n    for(let i = 0; i < transactions.length; i += chunkSize){\n        const chunk = transactions.slice(i, i + chunkSize);\n        for (const tx of chunk){\n            const paymentMode = tx.paymentmode || \"Unknown\";\n            const cfErrorDescription = tx.cf_errordescription || \"Unknown Error\";\n            const key = `${paymentMode}::${cfErrorDescription}`;\n            if (!groups.has(key)) {\n                groups.set(key, {\n                    paymentMode,\n                    cfErrorDescription,\n                    transactions: [],\n                    volume: 0\n                });\n            }\n            const group = groups.get(key);\n            group.transactions.push(tx);\n            group.volume++;\n        }\n        // Yield to browser every chunk\n        if (i + chunkSize < transactions.length) {\n            await new Promise((resolve)=>setTimeout(resolve, 0));\n        }\n    }\n    // Convert to array and filter out very small groups (< 5 transactions)\n    return Array.from(groups.values()).filter((g)=>g.volume >= 5);\n}\n/**\n * Compute time windows for comparison (current vs previous)\n */ function computeTimeWindows(startDate, endDate) {\n    const totalDays = (0,_barrel_optimize_names_differenceInDays_format_startOfDay_subDays_date_fns__WEBPACK_IMPORTED_MODULE_0__.differenceInDays)(endDate, startDate) + 1;\n    // Determine window type based on data density\n    let windowType;\n    let windowDays;\n    if (totalDays <= 7) {\n        windowType = \"daily\";\n        windowDays = Math.max(1, Math.floor(totalDays / 2));\n    } else if (totalDays <= 30) {\n        windowType = \"weekly\";\n        windowDays = 7;\n    } else {\n        windowType = \"monthly\";\n        windowDays = 30;\n    }\n    // Current window: last N days\n    const currentEnd = endDate;\n    const currentStart = (0,_barrel_optimize_names_differenceInDays_format_startOfDay_subDays_date_fns__WEBPACK_IMPORTED_MODULE_1__.subDays)(currentEnd, windowDays - 1);\n    // Previous window: same duration before current window\n    const previousEnd = (0,_barrel_optimize_names_differenceInDays_format_startOfDay_subDays_date_fns__WEBPACK_IMPORTED_MODULE_1__.subDays)(currentStart, 1);\n    const previousStart = (0,_barrel_optimize_names_differenceInDays_format_startOfDay_subDays_date_fns__WEBPACK_IMPORTED_MODULE_1__.subDays)(previousEnd, windowDays - 1);\n    return {\n        current: {\n            startDate: currentStart,\n            endDate: currentEnd,\n            label: `${(0,_barrel_optimize_names_differenceInDays_format_startOfDay_subDays_date_fns__WEBPACK_IMPORTED_MODULE_2__.format)(currentStart, \"MMM d\")} - ${(0,_barrel_optimize_names_differenceInDays_format_startOfDay_subDays_date_fns__WEBPACK_IMPORTED_MODULE_2__.format)(currentEnd, \"MMM d\")}`\n        },\n        previous: {\n            startDate: previousStart,\n            endDate: previousEnd,\n            label: `${(0,_barrel_optimize_names_differenceInDays_format_startOfDay_subDays_date_fns__WEBPACK_IMPORTED_MODULE_2__.format)(previousStart, \"MMM d\")} - ${(0,_barrel_optimize_names_differenceInDays_format_startOfDay_subDays_date_fns__WEBPACK_IMPORTED_MODULE_2__.format)(previousEnd, \"MMM d\")}`\n        },\n        windowType\n    };\n}\n/**\n * Analyze a failure group and generate insight\n */ function analyzeFailureGroup(group, windows, totalFailures) {\n    // Split transactions into current and previous windows\n    const currentTxs = group.transactions.filter((tx)=>tx.txtime >= windows.current.startDate && tx.txtime <= windows.current.endDate);\n    const previousTxs = group.transactions.filter((tx)=>tx.txtime >= windows.previous.startDate && tx.txtime <= windows.previous.endDate);\n    const currentVolume = currentTxs.length;\n    const previousVolume = previousTxs.length;\n    // Skip if no current volume\n    if (currentVolume === 0) {\n        return null;\n    }\n    // Calculate failure share (% of total failures in current period)\n    const failureShare = currentVolume / totalFailures * 100;\n    // Calculate volume delta as absolute count change (not percentage)\n    const volumeDelta = currentVolume - previousVolume;\n    // Determine trend direction\n    const trendDirection = determineTrendDirection(group.transactions, windows);\n    // Detect spike type and anomaly period\n    const { isAnomaly, spikeType, spikePeriod } = detectSpike(group.transactions, windows, currentVolume, previousVolume);\n    // Calculate impact score (used for ranking)\n    // Use absolute count change, not percentage\n    const absoluteChange = currentVolume - previousVolume;\n    const impactScore = calculateImpactScore(failureShare, Math.abs(absoluteChange), isAnomaly, currentVolume);\n    // Generate human-readable summary\n    const insightSummary = generateInsightSummary(group.paymentMode, group.cfErrorDescription, currentVolume, previousVolume, volumeDelta, trendDirection, spikeType, failureShare);\n    // Generate actionable recommendation\n    const actionableRecommendation = generateRecommendation(group.paymentMode, group.cfErrorDescription, spikeType, trendDirection, failureShare, volumeDelta);\n    return {\n        paymentMode: group.paymentMode,\n        cfErrorDescription: group.cfErrorDescription,\n        failureShare: parseFloat(failureShare.toFixed(2)),\n        primarySpikePeriod: spikePeriod || windows.current.label,\n        trendDirection,\n        volumeDelta: volumeDelta,\n        insightSummary,\n        actionableRecommendation,\n        currentVolume,\n        previousVolume,\n        isAnomaly,\n        spikeType,\n        impactScore\n    };\n}\n/**\n * Determine trend direction over time\n */ function determineTrendDirection(transactions, windows) {\n    // Get transactions in both windows\n    const currentTxs = transactions.filter((tx)=>tx.txtime >= windows.current.startDate && tx.txtime <= windows.current.endDate);\n    const previousTxs = transactions.filter((tx)=>tx.txtime >= windows.previous.startDate && tx.txtime <= windows.previous.endDate);\n    const currentVolume = currentTxs.length;\n    const previousVolume = previousTxs.length;\n    if (previousVolume === 0) {\n        return currentVolume > 0 ? \"INCREASING\" : \"STABLE\";\n    }\n    const changePercent = (currentVolume - previousVolume) / previousVolume * 100;\n    // Use a threshold of 10% to determine if it's a significant change\n    if (changePercent > 10) return \"INCREASING\";\n    if (changePercent < -10) return \"DECREASING\";\n    return \"STABLE\";\n}\n/**\n * Detect if there's a spike or anomaly\n * Returns the actual date range where the spike occurred\n */ function detectSpike(transactions, windows, currentVolume, previousVolume) {\n    // Create daily time series for the entire data range\n    const timeSeries = createDailyTimeSeries(transactions, windows);\n    if (timeSeries.length === 0) {\n        return {\n            isAnomaly: false,\n            spikeType: null,\n            spikePeriod: null\n        };\n    }\n    // Calculate statistics based on counts (not percentages)\n    const counts = timeSeries.map((p)=>p.count);\n    const mean = counts.reduce((sum, c)=>sum + c, 0) / counts.length;\n    const stdDev = Math.sqrt(counts.reduce((sum, c)=>sum + Math.pow(c - mean, 2), 0) / counts.length);\n    // Detect anomaly: current volume > mean + 2*stdDev (using absolute counts)\n    const isAnomaly = currentVolume > mean + 2 * stdDev;\n    // Find the actual spike period by analyzing daily counts\n    const spikePeriod = findActualSpikePeriod(timeSeries, mean, stdDev);\n    // Determine spike type based on absolute counts, not ratios\n    let spikeType = null;\n    if (previousVolume === 0 && currentVolume > 0) {\n        // New error that didn't exist before\n        spikeType = currentVolume >= 10 ? \"SUDDEN\" : \"GRADUAL\";\n    } else if (previousVolume > 0) {\n        // Use absolute count difference instead of ratio\n        const absoluteIncrease = currentVolume - previousVolume;\n        if (absoluteIncrease >= previousVolume * 2) {\n            // Doubled or more = sudden spike\n            spikeType = \"SUDDEN\";\n        } else if (absoluteIncrease >= previousVolume * 0.5) {\n            // 50%+ increase = gradual spike\n            spikeType = \"GRADUAL\";\n        } else if (isRecurring(timeSeries)) {\n            spikeType = \"RECURRING\";\n        } else if (isPersistent(timeSeries, mean)) {\n            spikeType = \"PERSISTENT\";\n        }\n    }\n    return {\n        isAnomaly,\n        spikeType,\n        spikePeriod\n    };\n}\n/**\n * Find the actual date range where failures increased abnormally\n * Uses absolute counts to identify spike periods\n * Returns the period where the increase was most significant\n */ function findActualSpikePeriod(timeSeries, mean, stdDev) {\n    if (timeSeries.length === 0) return null;\n    // Calculate baseline (median or mean, whichever is more stable)\n    const sortedCounts = timeSeries.map((p)=>p.count).sort((a, b)=>a - b);\n    const median = sortedCounts[Math.floor(sortedCounts.length / 2)];\n    const baseline = Math.max(median, mean);\n    // Threshold: baseline + 1.5*stdDev (spike threshold)\n    const spikeThreshold = baseline + 1.5 * stdDev;\n    // Find days where count exceeds threshold\n    const spikeDays = [];\n    for (const point of timeSeries){\n        if (point.count > spikeThreshold) {\n            spikeDays.push({\n                date: point.date,\n                count: point.count\n            });\n        }\n    }\n    // If no clear spikes above threshold, find the period with highest increase\n    if (spikeDays.length === 0) {\n        // Find the day with highest count\n        const maxPoint = timeSeries.reduce((max, p)=>p.count > max.count ? p : max, timeSeries[0]);\n        // Check if this is part of a multi-day increase\n        const maxIndex = timeSeries.findIndex((p)=>p.date === maxPoint.date);\n        const spikePeriod = findIncreasePeriod(timeSeries, maxIndex, baseline);\n        if (spikePeriod.start === spikePeriod.end) {\n            return (0,_barrel_optimize_names_differenceInDays_format_startOfDay_subDays_date_fns__WEBPACK_IMPORTED_MODULE_2__.format)(new Date(spikePeriod.start), \"MMM d, yyyy\");\n        }\n        return `${(0,_barrel_optimize_names_differenceInDays_format_startOfDay_subDays_date_fns__WEBPACK_IMPORTED_MODULE_2__.format)(new Date(spikePeriod.start), \"MMM d, yyyy\")} - ${(0,_barrel_optimize_names_differenceInDays_format_startOfDay_subDays_date_fns__WEBPACK_IMPORTED_MODULE_2__.format)(new Date(spikePeriod.end), \"MMM d, yyyy\")}`;\n    }\n    if (spikeDays.length === 1) {\n        // Single day spike - but check if surrounding days also had increases\n        const spikeDate = spikeDays[0].date;\n        const spikeIndex = timeSeries.findIndex((p)=>p.date === spikeDate);\n        if (spikeIndex >= 0) {\n            const spikePeriod = findIncreasePeriod(timeSeries, spikeIndex, baseline);\n            if (spikePeriod.start === spikePeriod.end) {\n                return (0,_barrel_optimize_names_differenceInDays_format_startOfDay_subDays_date_fns__WEBPACK_IMPORTED_MODULE_2__.format)(new Date(spikePeriod.start), \"MMM d, yyyy\");\n            }\n            return `${(0,_barrel_optimize_names_differenceInDays_format_startOfDay_subDays_date_fns__WEBPACK_IMPORTED_MODULE_2__.format)(new Date(spikePeriod.start), \"MMM d, yyyy\")} - ${(0,_barrel_optimize_names_differenceInDays_format_startOfDay_subDays_date_fns__WEBPACK_IMPORTED_MODULE_2__.format)(new Date(spikePeriod.end), \"MMM d, yyyy\")}`;\n        }\n        return (0,_barrel_optimize_names_differenceInDays_format_startOfDay_subDays_date_fns__WEBPACK_IMPORTED_MODULE_2__.format)(new Date(spikeDays[0].date), \"MMM d, yyyy\");\n    }\n    // Multiple spike days - find continuous periods\n    spikeDays.sort((a, b)=>a.date.localeCompare(b.date));\n    // Group consecutive dates\n    const periods = [];\n    let currentPeriod = null;\n    for (const day of spikeDays){\n        if (!currentPeriod) {\n            currentPeriod = {\n                start: day.date,\n                end: day.date,\n                count: day.count\n            };\n        } else {\n            const prevDate = new Date(currentPeriod.end);\n            const currDate = new Date(day.date);\n            const daysDiff = (0,_barrel_optimize_names_differenceInDays_format_startOfDay_subDays_date_fns__WEBPACK_IMPORTED_MODULE_0__.differenceInDays)(currDate, prevDate);\n            if (daysDiff <= 3) {\n                // Consecutive or within 3 days - extend period\n                currentPeriod.end = day.date;\n                currentPeriod.count = Math.max(currentPeriod.count, day.count);\n            } else {\n                // Gap detected - save current period and start new one\n                periods.push(currentPeriod);\n                currentPeriod = {\n                    start: day.date,\n                    end: day.date,\n                    count: day.count\n                };\n            }\n        }\n    }\n    if (currentPeriod) {\n        periods.push(currentPeriod);\n    }\n    if (periods.length === 0) {\n        return null;\n    }\n    // Return the period with highest count, or longest period if tied\n    const bestPeriod = periods.reduce((best, p)=>{\n        if (p.count > best.count) return p;\n        if (p.count === best.count) {\n            const bestDays = (0,_barrel_optimize_names_differenceInDays_format_startOfDay_subDays_date_fns__WEBPACK_IMPORTED_MODULE_0__.differenceInDays)(new Date(best.end), new Date(best.start));\n            const pDays = (0,_barrel_optimize_names_differenceInDays_format_startOfDay_subDays_date_fns__WEBPACK_IMPORTED_MODULE_0__.differenceInDays)(new Date(p.end), new Date(p.start));\n            return pDays > bestDays ? p : best;\n        }\n        return best;\n    }, periods[0]);\n    const startDate = (0,_barrel_optimize_names_differenceInDays_format_startOfDay_subDays_date_fns__WEBPACK_IMPORTED_MODULE_2__.format)(new Date(bestPeriod.start), \"MMM d, yyyy\");\n    const endDate = (0,_barrel_optimize_names_differenceInDays_format_startOfDay_subDays_date_fns__WEBPACK_IMPORTED_MODULE_2__.format)(new Date(bestPeriod.end), \"MMM d, yyyy\");\n    if (bestPeriod.start === bestPeriod.end) {\n        return startDate;\n    }\n    return `${startDate} - ${endDate}`;\n}\n/**\n * Find the period where failures increased, starting from a spike day\n * Looks backward and forward to find the full increase period\n */ function findIncreasePeriod(timeSeries, spikeIndex, baseline) {\n    if (spikeIndex < 0 || spikeIndex >= timeSeries.length) {\n        return {\n            start: timeSeries[0]?.date || \"\",\n            end: timeSeries[0]?.date || \"\"\n        };\n    }\n    const spikeDate = timeSeries[spikeIndex].date;\n    let startIndex = spikeIndex;\n    let endIndex = spikeIndex;\n    // Look backward to find when the increase started\n    for(let i = spikeIndex - 1; i >= 0; i--){\n        const prevCount = timeSeries[i].count;\n        const currCount = timeSeries[i + 1].count;\n        // If previous day is significantly lower, we found the start\n        if (prevCount < baseline * 0.5 || prevCount < currCount * 0.5) {\n            break;\n        }\n        // If count is still elevated, extend period backward\n        if (prevCount > baseline) {\n            startIndex = i;\n        } else {\n            break;\n        }\n    }\n    // Look forward to find when the increase ended\n    for(let i = spikeIndex + 1; i < timeSeries.length; i++){\n        const prevCount = timeSeries[i - 1].count;\n        const currCount = timeSeries[i].count;\n        // If current day is significantly lower, we found the end\n        if (currCount < baseline * 0.5 || currCount < prevCount * 0.5) {\n            break;\n        }\n        // If count is still elevated, extend period forward\n        if (currCount > baseline) {\n            endIndex = i;\n        } else {\n            break;\n        }\n    }\n    return {\n        start: timeSeries[startIndex].date,\n        end: timeSeries[endIndex].date\n    };\n}\n/**\n * Create daily time series from transactions\n * Includes ALL transactions to find actual spike periods across entire dataset\n */ function createDailyTimeSeries(transactions, windows) {\n    const dateMap = new Map();\n    // Include ALL transactions to find actual spike periods in the data\n    // Don't limit to windows - we want to see the full picture\n    for (const tx of transactions){\n        const dateKey = (0,_barrel_optimize_names_differenceInDays_format_startOfDay_subDays_date_fns__WEBPACK_IMPORTED_MODULE_2__.format)((0,_barrel_optimize_names_differenceInDays_format_startOfDay_subDays_date_fns__WEBPACK_IMPORTED_MODULE_3__.startOfDay)(tx.txtime), \"yyyy-MM-dd\");\n        dateMap.set(dateKey, (dateMap.get(dateKey) || 0) + 1);\n    }\n    return Array.from(dateMap.entries()).map(([date, count])=>({\n            date,\n            count\n        })).sort((a, b)=>a.date.localeCompare(b.date));\n}\n/**\n * Check if pattern is recurring\n */ function isRecurring(timeSeries) {\n    if (timeSeries.length < 7) return false;\n    // Look for weekly pattern (peaks on similar days)\n    const counts = timeSeries.map((p)=>p.count);\n    const mean = counts.reduce((sum, c)=>sum + c, 0) / counts.length;\n    // Check if there are multiple peaks\n    const peaks = counts.filter((c)=>c > mean * 1.5);\n    return peaks.length >= 3;\n}\n/**\n * Detect recurring pattern period\n */ function detectRecurringPattern(timeSeries) {\n    const counts = timeSeries.map((p)=>p.count);\n    const mean = counts.reduce((sum, c)=>sum + c, 0) / counts.length;\n    const peakIndices = [];\n    counts.forEach((count, idx)=>{\n        if (count > mean * 1.5) {\n            peakIndices.push(idx);\n        }\n    });\n    if (peakIndices.length >= 2) {\n        const intervals = [];\n        for(let i = 1; i < peakIndices.length; i++){\n            intervals.push(peakIndices[i] - peakIndices[i - 1]);\n        }\n        const avgInterval = intervals.reduce((sum, i)=>sum + i, 0) / intervals.length;\n        if (avgInterval >= 6 && avgInterval <= 8) {\n            return \"Weekly pattern detected\";\n        } else if (avgInterval >= 1 && avgInterval <= 3) {\n            return \"Daily pattern detected\";\n        }\n    }\n    return \"Multiple spikes detected\";\n}\n/**\n * Check if error is persistent (consistently high)\n */ function isPersistent(timeSeries, mean) {\n    if (timeSeries.length < 5) return false;\n    const recentCounts = timeSeries.slice(-5).map((p)=>p.count);\n    const recentAvg = recentCounts.reduce((sum, c)=>sum + c, 0) / recentCounts.length;\n    // Persistent if recent average is consistently above overall mean\n    return recentAvg > mean * 1.2 && recentCounts.filter((c)=>c > mean).length >= 4;\n}\n/**\n * Calculate impact score for ranking\n * Uses absolute count changes, not percentages\n */ function calculateImpactScore(failureShare, absoluteChange, isAnomaly, currentVolume) {\n    let score = 0;\n    // Failure share contribution (0-50 points)\n    score += Math.min(failureShare * 5, 50);\n    // Volume delta contribution (0-30 points)\n    // Scale based on absolute count: 100+ failures = max points\n    score += Math.min(absoluteChange / 100 * 30, 30);\n    // Anomaly bonus (20 points)\n    if (isAnomaly) {\n        score += 20;\n    }\n    // Volume magnitude contribution (0-20 points)\n    score += Math.min(Math.log10(currentVolume + 1) * 5, 20);\n    return parseFloat(score.toFixed(2));\n}\n/**\n * Generate human-readable insight summary\n * volumeDelta is now absolute count change (not percentage)\n */ function generateInsightSummary(paymentMode, cfErrorDescription, currentVolume, previousVolume, volumeDelta, trendDirection, spikeType, failureShare) {\n    const parts = [];\n    // Start with the error type\n    parts.push(`\"${cfErrorDescription}\" failures`);\n    // Add spike information using absolute numbers\n    if (spikeType === \"SUDDEN\") {\n        if (previousVolume === 0) {\n            parts.push(`suddenly appeared with ${currentVolume} failures`);\n        } else {\n            parts.push(`suddenly increased by ${volumeDelta} failures`);\n        }\n    } else if (spikeType === \"GRADUAL\") {\n        if (previousVolume === 0) {\n            parts.push(`gradually increased to ${currentVolume} failures`);\n        } else {\n            parts.push(`gradually increased by ${volumeDelta} failures`);\n        }\n    } else if (spikeType === \"RECURRING\") {\n        parts.push(`show a recurring pattern`);\n    } else if (spikeType === \"PERSISTENT\") {\n        parts.push(`remain persistently high`);\n    } else if (previousVolume === 0 && currentVolume > 0) {\n        parts.push(`appeared with ${currentVolume} failures`);\n    } else if (volumeDelta > 0) {\n        parts.push(`increased by ${volumeDelta} failures`);\n    } else if (volumeDelta < 0) {\n        parts.push(`decreased by ${Math.abs(volumeDelta)} failures`);\n    } else {\n        parts.push(`remain stable`);\n    }\n    // Add current impact\n    parts.push(`and now account for ${failureShare.toFixed(1)}% of all ${paymentMode} failures`);\n    // Add volume context\n    if (previousVolume === 0) {\n        parts.push(`(${currentVolume} failures, previously 0)`);\n    } else {\n        parts.push(`(${currentVolume} failures vs ${previousVolume} previously)`);\n    }\n    return parts.join(\" \");\n}\n/**\n * Generate actionable recommendation based on failure analysis\n */ function generateRecommendation(paymentMode, cfErrorDescription, spikeType, trendDirection, failureShare, volumeDelta) {\n    const errorLower = cfErrorDescription.toLowerCase();\n    // Bank/Issuer related errors\n    if (errorLower.includes(\"bank\") || errorLower.includes(\"issuer\") || errorLower.includes(\"declined\") || errorLower.includes(\"insufficient\")) {\n        if (spikeType === \"SUDDEN\" || volumeDelta > 50) {\n            return `URGENT: Escalate to ${paymentMode} bank/issuer partner immediately. Check for service disruptions or policy changes.`;\n        }\n        return `Investigate with ${paymentMode} bank/issuer. Review recent changes in decline patterns and identify root cause.`;\n    }\n    // Network/Timeout errors\n    if (errorLower.includes(\"timeout\") || errorLower.includes(\"network\") || errorLower.includes(\"connection\")) {\n        if (failureShare > 10) {\n            return `Critical routing issue: Review ${paymentMode} gateway health and network connectivity. Consider failover routing.`;\n        }\n        return `Monitor ${paymentMode} gateway performance metrics. Set up alerts for timeout rate thresholds.`;\n    }\n    // Authentication/OTP errors\n    if (errorLower.includes(\"otp\") || errorLower.includes(\"authentication\") || errorLower.includes(\"3ds\") || errorLower.includes(\"verification\")) {\n        return `Optimize ${paymentMode} authentication flow. Consider implementing retry logic with better UX guidance for users.`;\n    }\n    // Limit/Risk errors\n    if (errorLower.includes(\"limit\") || errorLower.includes(\"risk\") || errorLower.includes(\"fraud\") || errorLower.includes(\"restricted\")) {\n        return `Review ${paymentMode} risk rules and transaction limits. Coordinate with fraud/risk team to adjust policies if needed.`;\n    }\n    // Routing errors\n    if (errorLower.includes(\"routing\") || errorLower.includes(\"gateway\") || errorLower.includes(\"unavailable\")) {\n        return `Optimize ${paymentMode} payment routing logic. Consider adding backup gateways or adjusting routing rules.`;\n    }\n    // Technical/System errors\n    if (errorLower.includes(\"error\") || errorLower.includes(\"failed\") || errorLower.includes(\"invalid\") || errorLower.includes(\"system\")) {\n        if (spikeType === \"SUDDEN\") {\n            return `Deploy immediate hotfix for ${paymentMode}. Rollback recent changes if applicable and notify engineering team.`;\n        }\n        if (spikeType === \"RECURRING\") {\n            return `Investigate recurring ${paymentMode} system issue. Set up monitoring and implement automated retry/fallback mechanisms.`;\n        }\n        return `Technical investigation needed for ${paymentMode}. Review logs, identify common patterns, and implement a fix.`;\n    }\n    // Default recommendation based on trend\n    if (trendDirection === \"INCREASING\" && failureShare > 5) {\n        return `High-priority ${paymentMode} issue. Perform root cause analysis and engage relevant stakeholders for resolution.`;\n    }\n    if (spikeType === \"PERSISTENT\") {\n        return `Long-standing ${paymentMode} issue detected. Schedule deep-dive analysis with product and engineering teams.`;\n    }\n    return `Monitor ${paymentMode} failure trends closely. Set up alerts and prepare escalation plan if volume continues to grow.`;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FBd0M7SUFDeEMsSUFBSWlDLG1CQUFtQixnQkFBZ0JGLGVBQWUsR0FBRztRQUN2RCxPQUFPLENBQUMsY0FBYyxFQUFFL0IsWUFBWSxvRkFBb0YsQ0FBQztJQUMzSDtJQUVBLElBQUlvQyxjQUFjLGNBQWM7UUFDOUIsT0FBTyxDQUFDLGNBQWMsRUFBRXBDLFlBQVksZ0ZBQWdGLENBQUM7SUFDdkg7SUFFQSxPQUFPLENBQUMsUUFBUSxFQUFFQSxZQUFZLCtGQUErRixDQUFDO0FBQ2hJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3ItYW5hbHl0aWNzLWRhc2hib2FyZC8uL2xpYi9pbnNpZ2h0cy50cz81MjdkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFRyYW5zYWN0aW9uLCBGYWlsdXJlSW5zaWdodCwgVHJlbmREaXJlY3Rpb24sIFNwaWtlVHlwZSB9IGZyb20gJ0AvdHlwZXMnO1xuaW1wb3J0IHsgZm9ybWF0LCBzdWJEYXlzLCBkaWZmZXJlbmNlSW5EYXlzLCBzdGFydE9mRGF5LCBlbmRPZkRheSB9IGZyb20gJ2RhdGUtZm5zJztcblxuaW50ZXJmYWNlIFRpbWVXaW5kb3cge1xuICBzdGFydERhdGU6IERhdGU7XG4gIGVuZERhdGU6IERhdGU7XG4gIGxhYmVsOiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBGYWlsdXJlR3JvdXAge1xuICBwYXltZW50TW9kZTogc3RyaW5nO1xuICBjZkVycm9yRGVzY3JpcHRpb246IHN0cmluZztcbiAgdHJhbnNhY3Rpb25zOiBUcmFuc2FjdGlvbltdO1xuICB2b2x1bWU6IG51bWJlcjtcbn1cblxuaW50ZXJmYWNlIFRpbWVTZXJpZXNQb2ludCB7XG4gIGRhdGU6IHN0cmluZztcbiAgY291bnQ6IG51bWJlcjtcbn1cblxuLyoqXG4gKiBNYWluIGZ1bmN0aW9uIHRvIGdlbmVyYXRlIGF1dG9tYXRlZCBpbnNpZ2h0cyBmcm9tIGZhaWxlZCB0cmFuc2FjdGlvbnNcbiAqIE5vdyBhc3luYyB3aXRoIGNodW5raW5nIGZvciBsYXJnZSBkYXRhc2V0cyB0byBwcmV2ZW50IGJsb2NraW5nXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZW5lcmF0ZUZhaWx1cmVJbnNpZ2h0cyhcbiAgdHJhbnNhY3Rpb25zOiBUcmFuc2FjdGlvbltdLFxuICBjaHVua1NpemU6IG51bWJlciA9IDUwMDAwXG4pOiBQcm9taXNlPEZhaWx1cmVJbnNpZ2h0W10+IHtcbiAgLy8gRmlsdGVyIG9ubHkgZmFpbGVkIHRyYW5zYWN0aW9ucyBpbiBjaHVua3MgaWYgZGF0YXNldCBpcyBsYXJnZVxuICAvLyBGb3IgNUdCIGZpbGVzLCB0aGlzIGNvdWxkIGJlIG1pbGxpb25zIG9mIHRyYW5zYWN0aW9ucyAtIG11c3QgY2h1bmtcbiAgbGV0IGZhaWxlZFR4czogVHJhbnNhY3Rpb25bXTtcbiAgXG4gIGlmICh0cmFuc2FjdGlvbnMubGVuZ3RoID4gNTAwMDApIHtcbiAgICAvLyBGb3IgbGFyZ2UgZGF0YXNldHMgKGluY2x1ZGluZyA1R0IgZmlsZXMpLCBmaWx0ZXIgaW4gY2h1bmtzIHdpdGggeWllbGRpbmdcbiAgICBmYWlsZWRUeHMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRyYW5zYWN0aW9ucy5sZW5ndGg7IGkgKz0gY2h1bmtTaXplKSB7XG4gICAgICBjb25zdCBjaHVuayA9IHRyYW5zYWN0aW9ucy5zbGljZShpLCBpICsgY2h1bmtTaXplKTtcbiAgICAgIGZhaWxlZFR4cy5wdXNoKC4uLmNodW5rLmZpbHRlcigodHgpID0+IHR4LmlzRmFpbGVkKSk7XG4gICAgICBcbiAgICAgIC8vIFlpZWxkIHRvIGJyb3dzZXIgZXZlcnkgY2h1bmsgLSBjcml0aWNhbCBmb3IgNUdCIGZpbGVzXG4gICAgICBpZiAoaSArIGNodW5rU2l6ZSA8IHRyYW5zYWN0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDUpKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gTG9nIHByb2dyZXNzIGZvciB2ZXJ5IGxhcmdlIGRhdGFzZXRzXG4gICAgICBpZiAoaSAlIChjaHVua1NpemUgKiAxMCkgPT09IDAgJiYgdHJhbnNhY3Rpb25zLmxlbmd0aCA+IDUwMDAwMCkge1xuICAgICAgICBjb25zb2xlLmxvZyhgUHJvY2Vzc2luZyBpbnNpZ2h0czogJHsoKGkgLyB0cmFuc2FjdGlvbnMubGVuZ3RoKSAqIDEwMCkudG9GaXhlZCgxKX0lYCk7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGZhaWxlZFR4cyA9IHRyYW5zYWN0aW9ucy5maWx0ZXIoKHR4KSA9PiB0eC5pc0ZhaWxlZCk7XG4gIH1cbiAgXG4gIGlmIChmYWlsZWRUeHMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG5cbiAgLy8gRGV0ZXJtaW5lIHRoZSB0aW1lIHJhbmdlXG4gIGNvbnN0IHRpbWVSYW5nZSA9IGdldFRpbWVSYW5nZShmYWlsZWRUeHMpO1xuICBpZiAoIXRpbWVSYW5nZSkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIC8vIEdyb3VwIGZhaWx1cmVzIGJ5IHBheW1lbnQgbW9kZSBhbmQgQ0YgZXJyb3IgZGVzY3JpcHRpb24gKHdpdGggY2h1bmtpbmcgZm9yIGxhcmdlIGRhdGFzZXRzKVxuICBjb25zdCBmYWlsdXJlR3JvdXBzID0gYXdhaXQgZ3JvdXBGYWlsdXJlc0FzeW5jKGZhaWxlZFR4cywgY2h1bmtTaXplKTtcblxuICAvLyBDb21wdXRlIHRpbWUgd2luZG93cyBmb3IgY29tcGFyaXNvblxuICBjb25zdCB3aW5kb3dzID0gY29tcHV0ZVRpbWVXaW5kb3dzKHRpbWVSYW5nZS5zdGFydERhdGUsIHRpbWVSYW5nZS5lbmREYXRlKTtcblxuICAvLyBHZW5lcmF0ZSBpbnNpZ2h0cyBmb3IgZWFjaCBncm91cCAoeWllbGQgcGVyaW9kaWNhbGx5KVxuICBjb25zdCBpbnNpZ2h0czogRmFpbHVyZUluc2lnaHRbXSA9IFtdO1xuICBcbiAgY29uc3QgcHJvY2Vzc0dyb3VwcyA9IGFzeW5jICgpID0+IHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZhaWx1cmVHcm91cHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGdyb3VwID0gZmFpbHVyZUdyb3Vwc1tpXTtcbiAgICAgIGNvbnN0IGluc2lnaHQgPSBhbmFseXplRmFpbHVyZUdyb3VwKGdyb3VwLCB3aW5kb3dzLCBmYWlsZWRUeHMubGVuZ3RoKTtcbiAgICAgIGlmIChpbnNpZ2h0KSB7XG4gICAgICAgIGluc2lnaHRzLnB1c2goaW5zaWdodCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFlpZWxkIGV2ZXJ5IDEwIGdyb3VwcyB0byBrZWVwIFVJIHJlc3BvbnNpdmVcbiAgICAgIGlmIChpICUgMTAgPT09IDAgJiYgaSA+IDApIHtcbiAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDApKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIFxuICBhd2FpdCBwcm9jZXNzR3JvdXBzKCk7XG5cbiAgLy8gU29ydCBieSBpbXBhY3Qgc2NvcmUgKGRlc2NlbmRpbmcpXG4gIGluc2lnaHRzLnNvcnQoKGEsIGIpID0+IGIuaW1wYWN0U2NvcmUgLSBhLmltcGFjdFNjb3JlKTtcblxuICByZXR1cm4gaW5zaWdodHM7XG59XG5cbi8qKlxuICogR2V0IHRoZSB0aW1lIHJhbmdlIGZyb20gdHJhbnNhY3Rpb25zXG4gKi9cbmZ1bmN0aW9uIGdldFRpbWVSYW5nZSh0cmFuc2FjdGlvbnM6IFRyYW5zYWN0aW9uW10pOiB7IHN0YXJ0RGF0ZTogRGF0ZTsgZW5kRGF0ZTogRGF0ZSB9IHwgbnVsbCB7XG4gIGlmICh0cmFuc2FjdGlvbnMubGVuZ3RoID09PSAwKSByZXR1cm4gbnVsbDtcblxuICBsZXQgbWluVGltZSA9IEluZmluaXR5O1xuICBsZXQgbWF4VGltZSA9IC1JbmZpbml0eTtcblxuICBmb3IgKGNvbnN0IHR4IG9mIHRyYW5zYWN0aW9ucykge1xuICAgIGNvbnN0IHRpbWUgPSB0eC50eHRpbWUuZ2V0VGltZSgpO1xuICAgIGlmICh0aW1lIDwgbWluVGltZSkgbWluVGltZSA9IHRpbWU7XG4gICAgaWYgKHRpbWUgPiBtYXhUaW1lKSBtYXhUaW1lID0gdGltZTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgc3RhcnREYXRlOiBuZXcgRGF0ZShtaW5UaW1lKSxcbiAgICBlbmREYXRlOiBuZXcgRGF0ZShtYXhUaW1lKSxcbiAgfTtcbn1cblxuLyoqXG4gKiBHcm91cCBmYWlsdXJlcyBieSBwYXltZW50IG1vZGUgYW5kIENGIGVycm9yIGRlc2NyaXB0aW9uXG4gKi9cbmZ1bmN0aW9uIGdyb3VwRmFpbHVyZXModHJhbnNhY3Rpb25zOiBUcmFuc2FjdGlvbltdKTogRmFpbHVyZUdyb3VwW10ge1xuICBjb25zdCBncm91cHMgPSBuZXcgTWFwPHN0cmluZywgRmFpbHVyZUdyb3VwPigpO1xuXG4gIGZvciAoY29uc3QgdHggb2YgdHJhbnNhY3Rpb25zKSB7XG4gICAgY29uc3QgcGF5bWVudE1vZGUgPSB0eC5wYXltZW50bW9kZSB8fCAnVW5rbm93bic7XG4gICAgY29uc3QgY2ZFcnJvckRlc2NyaXB0aW9uID0gdHguY2ZfZXJyb3JkZXNjcmlwdGlvbiB8fCAnVW5rbm93biBFcnJvcic7XG4gICAgY29uc3Qga2V5ID0gYCR7cGF5bWVudE1vZGV9Ojoke2NmRXJyb3JEZXNjcmlwdGlvbn1gO1xuXG4gICAgaWYgKCFncm91cHMuaGFzKGtleSkpIHtcbiAgICAgIGdyb3Vwcy5zZXQoa2V5LCB7XG4gICAgICAgIHBheW1lbnRNb2RlLFxuICAgICAgICBjZkVycm9yRGVzY3JpcHRpb24sXG4gICAgICAgIHRyYW5zYWN0aW9uczogW10sXG4gICAgICAgIHZvbHVtZTogMCxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGNvbnN0IGdyb3VwID0gZ3JvdXBzLmdldChrZXkpITtcbiAgICBncm91cC50cmFuc2FjdGlvbnMucHVzaCh0eCk7XG4gICAgZ3JvdXAudm9sdW1lKys7XG4gIH1cblxuICAvLyBDb252ZXJ0IHRvIGFycmF5IGFuZCBmaWx0ZXIgb3V0IHZlcnkgc21hbGwgZ3JvdXBzICg8IDUgdHJhbnNhY3Rpb25zKVxuICByZXR1cm4gQXJyYXkuZnJvbShncm91cHMudmFsdWVzKCkpLmZpbHRlcigoZykgPT4gZy52b2x1bWUgPj0gNSk7XG59XG5cbi8qKlxuICogR3JvdXAgZmFpbHVyZXMgYXN5bmNocm9ub3VzbHkgd2l0aCBjaHVua2luZyBmb3IgbGFyZ2UgZGF0YXNldHNcbiAqL1xuYXN5bmMgZnVuY3Rpb24gZ3JvdXBGYWlsdXJlc0FzeW5jKFxuICB0cmFuc2FjdGlvbnM6IFRyYW5zYWN0aW9uW10sXG4gIGNodW5rU2l6ZTogbnVtYmVyID0gNTAwMDBcbik6IFByb21pc2U8RmFpbHVyZUdyb3VwW10+IHtcbiAgY29uc3QgZ3JvdXBzID0gbmV3IE1hcDxzdHJpbmcsIEZhaWx1cmVHcm91cD4oKTtcblxuICAvLyBQcm9jZXNzIGluIGNodW5rcyB0byBwcmV2ZW50IGJsb2NraW5nXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdHJhbnNhY3Rpb25zLmxlbmd0aDsgaSArPSBjaHVua1NpemUpIHtcbiAgICBjb25zdCBjaHVuayA9IHRyYW5zYWN0aW9ucy5zbGljZShpLCBpICsgY2h1bmtTaXplKTtcbiAgICBcbiAgICBmb3IgKGNvbnN0IHR4IG9mIGNodW5rKSB7XG4gICAgICBjb25zdCBwYXltZW50TW9kZSA9IHR4LnBheW1lbnRtb2RlIHx8ICdVbmtub3duJztcbiAgICAgIGNvbnN0IGNmRXJyb3JEZXNjcmlwdGlvbiA9IHR4LmNmX2Vycm9yZGVzY3JpcHRpb24gfHwgJ1Vua25vd24gRXJyb3InO1xuICAgICAgY29uc3Qga2V5ID0gYCR7cGF5bWVudE1vZGV9Ojoke2NmRXJyb3JEZXNjcmlwdGlvbn1gO1xuXG4gICAgICBpZiAoIWdyb3Vwcy5oYXMoa2V5KSkge1xuICAgICAgICBncm91cHMuc2V0KGtleSwge1xuICAgICAgICAgIHBheW1lbnRNb2RlLFxuICAgICAgICAgIGNmRXJyb3JEZXNjcmlwdGlvbixcbiAgICAgICAgICB0cmFuc2FjdGlvbnM6IFtdLFxuICAgICAgICAgIHZvbHVtZTogMCxcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGdyb3VwID0gZ3JvdXBzLmdldChrZXkpITtcbiAgICAgIGdyb3VwLnRyYW5zYWN0aW9ucy5wdXNoKHR4KTtcbiAgICAgIGdyb3VwLnZvbHVtZSsrO1xuICAgIH1cbiAgICBcbiAgICAvLyBZaWVsZCB0byBicm93c2VyIGV2ZXJ5IGNodW5rXG4gICAgaWYgKGkgKyBjaHVua1NpemUgPCB0cmFuc2FjdGlvbnMubGVuZ3RoKSB7XG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMCkpO1xuICAgIH1cbiAgfVxuXG4gIC8vIENvbnZlcnQgdG8gYXJyYXkgYW5kIGZpbHRlciBvdXQgdmVyeSBzbWFsbCBncm91cHMgKDwgNSB0cmFuc2FjdGlvbnMpXG4gIHJldHVybiBBcnJheS5mcm9tKGdyb3Vwcy52YWx1ZXMoKSkuZmlsdGVyKChnKSA9PiBnLnZvbHVtZSA+PSA1KTtcbn1cblxuLyoqXG4gKiBDb21wdXRlIHRpbWUgd2luZG93cyBmb3IgY29tcGFyaXNvbiAoY3VycmVudCB2cyBwcmV2aW91cylcbiAqL1xuZnVuY3Rpb24gY29tcHV0ZVRpbWVXaW5kb3dzKHN0YXJ0RGF0ZTogRGF0ZSwgZW5kRGF0ZTogRGF0ZSk6IHtcbiAgY3VycmVudDogVGltZVdpbmRvdztcbiAgcHJldmlvdXM6IFRpbWVXaW5kb3c7XG4gIHdpbmRvd1R5cGU6ICdkYWlseScgfCAnd2Vla2x5JyB8ICdtb250aGx5Jztcbn0ge1xuICBjb25zdCB0b3RhbERheXMgPSBkaWZmZXJlbmNlSW5EYXlzKGVuZERhdGUsIHN0YXJ0RGF0ZSkgKyAxO1xuXG4gIC8vIERldGVybWluZSB3aW5kb3cgdHlwZSBiYXNlZCBvbiBkYXRhIGRlbnNpdHlcbiAgbGV0IHdpbmRvd1R5cGU6ICdkYWlseScgfCAnd2Vla2x5JyB8ICdtb250aGx5JztcbiAgbGV0IHdpbmRvd0RheXM6IG51bWJlcjtcblxuICBpZiAodG90YWxEYXlzIDw9IDcpIHtcbiAgICB3aW5kb3dUeXBlID0gJ2RhaWx5JztcbiAgICB3aW5kb3dEYXlzID0gTWF0aC5tYXgoMSwgTWF0aC5mbG9vcih0b3RhbERheXMgLyAyKSk7XG4gIH0gZWxzZSBpZiAodG90YWxEYXlzIDw9IDMwKSB7XG4gICAgd2luZG93VHlwZSA9ICd3ZWVrbHknO1xuICAgIHdpbmRvd0RheXMgPSA3O1xuICB9IGVsc2Uge1xuICAgIHdpbmRvd1R5cGUgPSAnbW9udGhseSc7XG4gICAgd2luZG93RGF5cyA9IDMwO1xuICB9XG5cbiAgLy8gQ3VycmVudCB3aW5kb3c6IGxhc3QgTiBkYXlzXG4gIGNvbnN0IGN1cnJlbnRFbmQgPSBlbmREYXRlO1xuICBjb25zdCBjdXJyZW50U3RhcnQgPSBzdWJEYXlzKGN1cnJlbnRFbmQsIHdpbmRvd0RheXMgLSAxKTtcblxuICAvLyBQcmV2aW91cyB3aW5kb3c6IHNhbWUgZHVyYXRpb24gYmVmb3JlIGN1cnJlbnQgd2luZG93XG4gIGNvbnN0IHByZXZpb3VzRW5kID0gc3ViRGF5cyhjdXJyZW50U3RhcnQsIDEpO1xuICBjb25zdCBwcmV2aW91c1N0YXJ0ID0gc3ViRGF5cyhwcmV2aW91c0VuZCwgd2luZG93RGF5cyAtIDEpO1xuXG4gIHJldHVybiB7XG4gICAgY3VycmVudDoge1xuICAgICAgc3RhcnREYXRlOiBjdXJyZW50U3RhcnQsXG4gICAgICBlbmREYXRlOiBjdXJyZW50RW5kLFxuICAgICAgbGFiZWw6IGAke2Zvcm1hdChjdXJyZW50U3RhcnQsICdNTU0gZCcpfSAtICR7Zm9ybWF0KGN1cnJlbnRFbmQsICdNTU0gZCcpfWAsXG4gICAgfSxcbiAgICBwcmV2aW91czoge1xuICAgICAgc3RhcnREYXRlOiBwcmV2aW91c1N0YXJ0LFxuICAgICAgZW5kRGF0ZTogcHJldmlvdXNFbmQsXG4gICAgICBsYWJlbDogYCR7Zm9ybWF0KHByZXZpb3VzU3RhcnQsICdNTU0gZCcpfSAtICR7Zm9ybWF0KHByZXZpb3VzRW5kLCAnTU1NIGQnKX1gLFxuICAgIH0sXG4gICAgd2luZG93VHlwZSxcbiAgfTtcbn1cblxuLyoqXG4gKiBBbmFseXplIGEgZmFpbHVyZSBncm91cCBhbmQgZ2VuZXJhdGUgaW5zaWdodFxuICovXG5mdW5jdGlvbiBhbmFseXplRmFpbHVyZUdyb3VwKFxuICBncm91cDogRmFpbHVyZUdyb3VwLFxuICB3aW5kb3dzOiBSZXR1cm5UeXBlPHR5cGVvZiBjb21wdXRlVGltZVdpbmRvd3M+LFxuICB0b3RhbEZhaWx1cmVzOiBudW1iZXJcbik6IEZhaWx1cmVJbnNpZ2h0IHwgbnVsbCB7XG4gIC8vIFNwbGl0IHRyYW5zYWN0aW9ucyBpbnRvIGN1cnJlbnQgYW5kIHByZXZpb3VzIHdpbmRvd3NcbiAgY29uc3QgY3VycmVudFR4cyA9IGdyb3VwLnRyYW5zYWN0aW9ucy5maWx0ZXIoXG4gICAgKHR4KSA9PiB0eC50eHRpbWUgPj0gd2luZG93cy5jdXJyZW50LnN0YXJ0RGF0ZSAmJiB0eC50eHRpbWUgPD0gd2luZG93cy5jdXJyZW50LmVuZERhdGVcbiAgKTtcblxuICBjb25zdCBwcmV2aW91c1R4cyA9IGdyb3VwLnRyYW5zYWN0aW9ucy5maWx0ZXIoXG4gICAgKHR4KSA9PiB0eC50eHRpbWUgPj0gd2luZG93cy5wcmV2aW91cy5zdGFydERhdGUgJiYgdHgudHh0aW1lIDw9IHdpbmRvd3MucHJldmlvdXMuZW5kRGF0ZVxuICApO1xuXG4gIGNvbnN0IGN1cnJlbnRWb2x1bWUgPSBjdXJyZW50VHhzLmxlbmd0aDtcbiAgY29uc3QgcHJldmlvdXNWb2x1bWUgPSBwcmV2aW91c1R4cy5sZW5ndGg7XG5cbiAgLy8gU2tpcCBpZiBubyBjdXJyZW50IHZvbHVtZVxuICBpZiAoY3VycmVudFZvbHVtZSA9PT0gMCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLy8gQ2FsY3VsYXRlIGZhaWx1cmUgc2hhcmUgKCUgb2YgdG90YWwgZmFpbHVyZXMgaW4gY3VycmVudCBwZXJpb2QpXG4gIGNvbnN0IGZhaWx1cmVTaGFyZSA9IChjdXJyZW50Vm9sdW1lIC8gdG90YWxGYWlsdXJlcykgKiAxMDA7XG5cbiAgLy8gQ2FsY3VsYXRlIHZvbHVtZSBkZWx0YSBhcyBhYnNvbHV0ZSBjb3VudCBjaGFuZ2UgKG5vdCBwZXJjZW50YWdlKVxuICBjb25zdCB2b2x1bWVEZWx0YSA9IGN1cnJlbnRWb2x1bWUgLSBwcmV2aW91c1ZvbHVtZTtcblxuICAvLyBEZXRlcm1pbmUgdHJlbmQgZGlyZWN0aW9uXG4gIGNvbnN0IHRyZW5kRGlyZWN0aW9uID0gZGV0ZXJtaW5lVHJlbmREaXJlY3Rpb24oZ3JvdXAudHJhbnNhY3Rpb25zLCB3aW5kb3dzKTtcblxuICAvLyBEZXRlY3Qgc3Bpa2UgdHlwZSBhbmQgYW5vbWFseSBwZXJpb2RcbiAgY29uc3QgeyBpc0Fub21hbHksIHNwaWtlVHlwZSwgc3Bpa2VQZXJpb2QgfSA9IGRldGVjdFNwaWtlKFxuICAgIGdyb3VwLnRyYW5zYWN0aW9ucyxcbiAgICB3aW5kb3dzLFxuICAgIGN1cnJlbnRWb2x1bWUsXG4gICAgcHJldmlvdXNWb2x1bWVcbiAgKTtcblxuICAvLyBDYWxjdWxhdGUgaW1wYWN0IHNjb3JlICh1c2VkIGZvciByYW5raW5nKVxuICAvLyBVc2UgYWJzb2x1dGUgY291bnQgY2hhbmdlLCBub3QgcGVyY2VudGFnZVxuICBjb25zdCBhYnNvbHV0ZUNoYW5nZSA9IGN1cnJlbnRWb2x1bWUgLSBwcmV2aW91c1ZvbHVtZTtcbiAgY29uc3QgaW1wYWN0U2NvcmUgPSBjYWxjdWxhdGVJbXBhY3RTY29yZShcbiAgICBmYWlsdXJlU2hhcmUsXG4gICAgTWF0aC5hYnMoYWJzb2x1dGVDaGFuZ2UpLCAvLyBVc2UgYWJzb2x1dGUgY291bnQgY2hhbmdlXG4gICAgaXNBbm9tYWx5LFxuICAgIGN1cnJlbnRWb2x1bWVcbiAgKTtcblxuICAvLyBHZW5lcmF0ZSBodW1hbi1yZWFkYWJsZSBzdW1tYXJ5XG4gIGNvbnN0IGluc2lnaHRTdW1tYXJ5ID0gZ2VuZXJhdGVJbnNpZ2h0U3VtbWFyeShcbiAgICBncm91cC5wYXltZW50TW9kZSxcbiAgICBncm91cC5jZkVycm9yRGVzY3JpcHRpb24sXG4gICAgY3VycmVudFZvbHVtZSxcbiAgICBwcmV2aW91c1ZvbHVtZSxcbiAgICB2b2x1bWVEZWx0YSwgLy8gTm93IGFic29sdXRlIGNvdW50IGNoYW5nZVxuICAgIHRyZW5kRGlyZWN0aW9uLFxuICAgIHNwaWtlVHlwZSxcbiAgICBmYWlsdXJlU2hhcmVcbiAgKTtcblxuICAvLyBHZW5lcmF0ZSBhY3Rpb25hYmxlIHJlY29tbWVuZGF0aW9uXG4gIGNvbnN0IGFjdGlvbmFibGVSZWNvbW1lbmRhdGlvbiA9IGdlbmVyYXRlUmVjb21tZW5kYXRpb24oXG4gICAgZ3JvdXAucGF5bWVudE1vZGUsXG4gICAgZ3JvdXAuY2ZFcnJvckRlc2NyaXB0aW9uLFxuICAgIHNwaWtlVHlwZSxcbiAgICB0cmVuZERpcmVjdGlvbixcbiAgICBmYWlsdXJlU2hhcmUsXG4gICAgdm9sdW1lRGVsdGFcbiAgKTtcblxuICByZXR1cm4ge1xuICAgIHBheW1lbnRNb2RlOiBncm91cC5wYXltZW50TW9kZSxcbiAgICBjZkVycm9yRGVzY3JpcHRpb246IGdyb3VwLmNmRXJyb3JEZXNjcmlwdGlvbixcbiAgICBmYWlsdXJlU2hhcmU6IHBhcnNlRmxvYXQoZmFpbHVyZVNoYXJlLnRvRml4ZWQoMikpLFxuICAgIHByaW1hcnlTcGlrZVBlcmlvZDogc3Bpa2VQZXJpb2QgfHwgd2luZG93cy5jdXJyZW50LmxhYmVsLFxuICAgIHRyZW5kRGlyZWN0aW9uLFxuICAgIHZvbHVtZURlbHRhOiB2b2x1bWVEZWx0YSwgLy8gQWJzb2x1dGUgY291bnQgY2hhbmdlIChpbnRlZ2VyKVxuICAgIGluc2lnaHRTdW1tYXJ5LFxuICAgIGFjdGlvbmFibGVSZWNvbW1lbmRhdGlvbixcbiAgICBjdXJyZW50Vm9sdW1lLFxuICAgIHByZXZpb3VzVm9sdW1lLFxuICAgIGlzQW5vbWFseSxcbiAgICBzcGlrZVR5cGUsXG4gICAgaW1wYWN0U2NvcmUsXG4gIH07XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIHRyZW5kIGRpcmVjdGlvbiBvdmVyIHRpbWVcbiAqL1xuZnVuY3Rpb24gZGV0ZXJtaW5lVHJlbmREaXJlY3Rpb24oXG4gIHRyYW5zYWN0aW9uczogVHJhbnNhY3Rpb25bXSxcbiAgd2luZG93czogUmV0dXJuVHlwZTx0eXBlb2YgY29tcHV0ZVRpbWVXaW5kb3dzPlxuKTogVHJlbmREaXJlY3Rpb24ge1xuICAvLyBHZXQgdHJhbnNhY3Rpb25zIGluIGJvdGggd2luZG93c1xuICBjb25zdCBjdXJyZW50VHhzID0gdHJhbnNhY3Rpb25zLmZpbHRlcihcbiAgICAodHgpID0+IHR4LnR4dGltZSA+PSB3aW5kb3dzLmN1cnJlbnQuc3RhcnREYXRlICYmIHR4LnR4dGltZSA8PSB3aW5kb3dzLmN1cnJlbnQuZW5kRGF0ZVxuICApO1xuXG4gIGNvbnN0IHByZXZpb3VzVHhzID0gdHJhbnNhY3Rpb25zLmZpbHRlcihcbiAgICAodHgpID0+IHR4LnR4dGltZSA+PSB3aW5kb3dzLnByZXZpb3VzLnN0YXJ0RGF0ZSAmJiB0eC50eHRpbWUgPD0gd2luZG93cy5wcmV2aW91cy5lbmREYXRlXG4gICk7XG5cbiAgY29uc3QgY3VycmVudFZvbHVtZSA9IGN1cnJlbnRUeHMubGVuZ3RoO1xuICBjb25zdCBwcmV2aW91c1ZvbHVtZSA9IHByZXZpb3VzVHhzLmxlbmd0aDtcblxuICBpZiAocHJldmlvdXNWb2x1bWUgPT09IDApIHtcbiAgICByZXR1cm4gY3VycmVudFZvbHVtZSA+IDAgPyAnSU5DUkVBU0lORycgOiAnU1RBQkxFJztcbiAgfVxuXG4gIGNvbnN0IGNoYW5nZVBlcmNlbnQgPSAoKGN1cnJlbnRWb2x1bWUgLSBwcmV2aW91c1ZvbHVtZSkgLyBwcmV2aW91c1ZvbHVtZSkgKiAxMDA7XG5cbiAgLy8gVXNlIGEgdGhyZXNob2xkIG9mIDEwJSB0byBkZXRlcm1pbmUgaWYgaXQncyBhIHNpZ25pZmljYW50IGNoYW5nZVxuICBpZiAoY2hhbmdlUGVyY2VudCA+IDEwKSByZXR1cm4gJ0lOQ1JFQVNJTkcnO1xuICBpZiAoY2hhbmdlUGVyY2VudCA8IC0xMCkgcmV0dXJuICdERUNSRUFTSU5HJztcbiAgcmV0dXJuICdTVEFCTEUnO1xufVxuXG4vKipcbiAqIERldGVjdCBpZiB0aGVyZSdzIGEgc3Bpa2Ugb3IgYW5vbWFseVxuICogUmV0dXJucyB0aGUgYWN0dWFsIGRhdGUgcmFuZ2Ugd2hlcmUgdGhlIHNwaWtlIG9jY3VycmVkXG4gKi9cbmZ1bmN0aW9uIGRldGVjdFNwaWtlKFxuICB0cmFuc2FjdGlvbnM6IFRyYW5zYWN0aW9uW10sXG4gIHdpbmRvd3M6IFJldHVyblR5cGU8dHlwZW9mIGNvbXB1dGVUaW1lV2luZG93cz4sXG4gIGN1cnJlbnRWb2x1bWU6IG51bWJlcixcbiAgcHJldmlvdXNWb2x1bWU6IG51bWJlclxuKTogeyBpc0Fub21hbHk6IGJvb2xlYW47IHNwaWtlVHlwZTogU3Bpa2VUeXBlIHwgbnVsbDsgc3Bpa2VQZXJpb2Q6IHN0cmluZyB8IG51bGwgfSB7XG4gIC8vIENyZWF0ZSBkYWlseSB0aW1lIHNlcmllcyBmb3IgdGhlIGVudGlyZSBkYXRhIHJhbmdlXG4gIGNvbnN0IHRpbWVTZXJpZXMgPSBjcmVhdGVEYWlseVRpbWVTZXJpZXModHJhbnNhY3Rpb25zLCB3aW5kb3dzKTtcblxuICBpZiAodGltZVNlcmllcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4geyBpc0Fub21hbHk6IGZhbHNlLCBzcGlrZVR5cGU6IG51bGwsIHNwaWtlUGVyaW9kOiBudWxsIH07XG4gIH1cblxuICAvLyBDYWxjdWxhdGUgc3RhdGlzdGljcyBiYXNlZCBvbiBjb3VudHMgKG5vdCBwZXJjZW50YWdlcylcbiAgY29uc3QgY291bnRzID0gdGltZVNlcmllcy5tYXAoKHApID0+IHAuY291bnQpO1xuICBjb25zdCBtZWFuID0gY291bnRzLnJlZHVjZSgoc3VtLCBjKSA9PiBzdW0gKyBjLCAwKSAvIGNvdW50cy5sZW5ndGg7XG4gIGNvbnN0IHN0ZERldiA9IE1hdGguc3FydChcbiAgICBjb3VudHMucmVkdWNlKChzdW0sIGMpID0+IHN1bSArIE1hdGgucG93KGMgLSBtZWFuLCAyKSwgMCkgLyBjb3VudHMubGVuZ3RoXG4gICk7XG5cbiAgLy8gRGV0ZWN0IGFub21hbHk6IGN1cnJlbnQgdm9sdW1lID4gbWVhbiArIDIqc3RkRGV2ICh1c2luZyBhYnNvbHV0ZSBjb3VudHMpXG4gIGNvbnN0IGlzQW5vbWFseSA9IGN1cnJlbnRWb2x1bWUgPiBtZWFuICsgMiAqIHN0ZERldjtcblxuICAvLyBGaW5kIHRoZSBhY3R1YWwgc3Bpa2UgcGVyaW9kIGJ5IGFuYWx5emluZyBkYWlseSBjb3VudHNcbiAgY29uc3Qgc3Bpa2VQZXJpb2QgPSBmaW5kQWN0dWFsU3Bpa2VQZXJpb2QodGltZVNlcmllcywgbWVhbiwgc3RkRGV2KTtcblxuICAvLyBEZXRlcm1pbmUgc3Bpa2UgdHlwZSBiYXNlZCBvbiBhYnNvbHV0ZSBjb3VudHMsIG5vdCByYXRpb3NcbiAgbGV0IHNwaWtlVHlwZTogU3Bpa2VUeXBlIHwgbnVsbCA9IG51bGw7XG5cbiAgaWYgKHByZXZpb3VzVm9sdW1lID09PSAwICYmIGN1cnJlbnRWb2x1bWUgPiAwKSB7XG4gICAgLy8gTmV3IGVycm9yIHRoYXQgZGlkbid0IGV4aXN0IGJlZm9yZVxuICAgIHNwaWtlVHlwZSA9IGN1cnJlbnRWb2x1bWUgPj0gMTAgPyAnU1VEREVOJyA6ICdHUkFEVUFMJztcbiAgfSBlbHNlIGlmIChwcmV2aW91c1ZvbHVtZSA+IDApIHtcbiAgICAvLyBVc2UgYWJzb2x1dGUgY291bnQgZGlmZmVyZW5jZSBpbnN0ZWFkIG9mIHJhdGlvXG4gICAgY29uc3QgYWJzb2x1dGVJbmNyZWFzZSA9IGN1cnJlbnRWb2x1bWUgLSBwcmV2aW91c1ZvbHVtZTtcbiAgICBcbiAgICBpZiAoYWJzb2x1dGVJbmNyZWFzZSA+PSBwcmV2aW91c1ZvbHVtZSAqIDIpIHtcbiAgICAgIC8vIERvdWJsZWQgb3IgbW9yZSA9IHN1ZGRlbiBzcGlrZVxuICAgICAgc3Bpa2VUeXBlID0gJ1NVRERFTic7XG4gICAgfSBlbHNlIGlmIChhYnNvbHV0ZUluY3JlYXNlID49IHByZXZpb3VzVm9sdW1lICogMC41KSB7XG4gICAgICAvLyA1MCUrIGluY3JlYXNlID0gZ3JhZHVhbCBzcGlrZVxuICAgICAgc3Bpa2VUeXBlID0gJ0dSQURVQUwnO1xuICAgIH0gZWxzZSBpZiAoaXNSZWN1cnJpbmcodGltZVNlcmllcykpIHtcbiAgICAgIHNwaWtlVHlwZSA9ICdSRUNVUlJJTkcnO1xuICAgIH0gZWxzZSBpZiAoaXNQZXJzaXN0ZW50KHRpbWVTZXJpZXMsIG1lYW4pKSB7XG4gICAgICBzcGlrZVR5cGUgPSAnUEVSU0lTVEVOVCc7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHsgaXNBbm9tYWx5LCBzcGlrZVR5cGUsIHNwaWtlUGVyaW9kIH07XG59XG5cbi8qKlxuICogRmluZCB0aGUgYWN0dWFsIGRhdGUgcmFuZ2Ugd2hlcmUgZmFpbHVyZXMgaW5jcmVhc2VkIGFibm9ybWFsbHlcbiAqIFVzZXMgYWJzb2x1dGUgY291bnRzIHRvIGlkZW50aWZ5IHNwaWtlIHBlcmlvZHNcbiAqIFJldHVybnMgdGhlIHBlcmlvZCB3aGVyZSB0aGUgaW5jcmVhc2Ugd2FzIG1vc3Qgc2lnbmlmaWNhbnRcbiAqL1xuZnVuY3Rpb24gZmluZEFjdHVhbFNwaWtlUGVyaW9kKFxuICB0aW1lU2VyaWVzOiBUaW1lU2VyaWVzUG9pbnRbXSxcbiAgbWVhbjogbnVtYmVyLFxuICBzdGREZXY6IG51bWJlclxuKTogc3RyaW5nIHwgbnVsbCB7XG4gIGlmICh0aW1lU2VyaWVzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIG51bGw7XG5cbiAgLy8gQ2FsY3VsYXRlIGJhc2VsaW5lIChtZWRpYW4gb3IgbWVhbiwgd2hpY2hldmVyIGlzIG1vcmUgc3RhYmxlKVxuICBjb25zdCBzb3J0ZWRDb3VudHMgPSB0aW1lU2VyaWVzLm1hcChwID0+IHAuY291bnQpLnNvcnQoKGEsIGIpID0+IGEgLSBiKTtcbiAgY29uc3QgbWVkaWFuID0gc29ydGVkQ291bnRzW01hdGguZmxvb3Ioc29ydGVkQ291bnRzLmxlbmd0aCAvIDIpXTtcbiAgY29uc3QgYmFzZWxpbmUgPSBNYXRoLm1heChtZWRpYW4sIG1lYW4pO1xuXG4gIC8vIFRocmVzaG9sZDogYmFzZWxpbmUgKyAxLjUqc3RkRGV2IChzcGlrZSB0aHJlc2hvbGQpXG4gIGNvbnN0IHNwaWtlVGhyZXNob2xkID0gYmFzZWxpbmUgKyAxLjUgKiBzdGREZXY7XG5cbiAgLy8gRmluZCBkYXlzIHdoZXJlIGNvdW50IGV4Y2VlZHMgdGhyZXNob2xkXG4gIGNvbnN0IHNwaWtlRGF5czogeyBkYXRlOiBzdHJpbmc7IGNvdW50OiBudW1iZXIgfVtdID0gW107XG4gIFxuICBmb3IgKGNvbnN0IHBvaW50IG9mIHRpbWVTZXJpZXMpIHtcbiAgICBpZiAocG9pbnQuY291bnQgPiBzcGlrZVRocmVzaG9sZCkge1xuICAgICAgc3Bpa2VEYXlzLnB1c2goeyBkYXRlOiBwb2ludC5kYXRlLCBjb3VudDogcG9pbnQuY291bnQgfSk7XG4gICAgfVxuICB9XG5cbiAgLy8gSWYgbm8gY2xlYXIgc3Bpa2VzIGFib3ZlIHRocmVzaG9sZCwgZmluZCB0aGUgcGVyaW9kIHdpdGggaGlnaGVzdCBpbmNyZWFzZVxuICBpZiAoc3Bpa2VEYXlzLmxlbmd0aCA9PT0gMCkge1xuICAgIC8vIEZpbmQgdGhlIGRheSB3aXRoIGhpZ2hlc3QgY291bnRcbiAgICBjb25zdCBtYXhQb2ludCA9IHRpbWVTZXJpZXMucmVkdWNlKChtYXgsIHApID0+IChwLmNvdW50ID4gbWF4LmNvdW50ID8gcCA6IG1heCksIHRpbWVTZXJpZXNbMF0pO1xuICAgIFxuICAgIC8vIENoZWNrIGlmIHRoaXMgaXMgcGFydCBvZiBhIG11bHRpLWRheSBpbmNyZWFzZVxuICAgIGNvbnN0IG1heEluZGV4ID0gdGltZVNlcmllcy5maW5kSW5kZXgocCA9PiBwLmRhdGUgPT09IG1heFBvaW50LmRhdGUpO1xuICAgIGNvbnN0IHNwaWtlUGVyaW9kID0gZmluZEluY3JlYXNlUGVyaW9kKHRpbWVTZXJpZXMsIG1heEluZGV4LCBiYXNlbGluZSk7XG4gICAgXG4gICAgaWYgKHNwaWtlUGVyaW9kLnN0YXJ0ID09PSBzcGlrZVBlcmlvZC5lbmQpIHtcbiAgICAgIHJldHVybiBmb3JtYXQobmV3IERhdGUoc3Bpa2VQZXJpb2Quc3RhcnQpLCAnTU1NIGQsIHl5eXknKTtcbiAgICB9XG4gICAgcmV0dXJuIGAke2Zvcm1hdChuZXcgRGF0ZShzcGlrZVBlcmlvZC5zdGFydCksICdNTU0gZCwgeXl5eScpfSAtICR7Zm9ybWF0KG5ldyBEYXRlKHNwaWtlUGVyaW9kLmVuZCksICdNTU0gZCwgeXl5eScpfWA7XG4gIH1cblxuICBpZiAoc3Bpa2VEYXlzLmxlbmd0aCA9PT0gMSkge1xuICAgIC8vIFNpbmdsZSBkYXkgc3Bpa2UgLSBidXQgY2hlY2sgaWYgc3Vycm91bmRpbmcgZGF5cyBhbHNvIGhhZCBpbmNyZWFzZXNcbiAgICBjb25zdCBzcGlrZURhdGUgPSBzcGlrZURheXNbMF0uZGF0ZTtcbiAgICBjb25zdCBzcGlrZUluZGV4ID0gdGltZVNlcmllcy5maW5kSW5kZXgocCA9PiBwLmRhdGUgPT09IHNwaWtlRGF0ZSk7XG4gICAgXG4gICAgaWYgKHNwaWtlSW5kZXggPj0gMCkge1xuICAgICAgY29uc3Qgc3Bpa2VQZXJpb2QgPSBmaW5kSW5jcmVhc2VQZXJpb2QodGltZVNlcmllcywgc3Bpa2VJbmRleCwgYmFzZWxpbmUpO1xuICAgICAgXG4gICAgICBpZiAoc3Bpa2VQZXJpb2Quc3RhcnQgPT09IHNwaWtlUGVyaW9kLmVuZCkge1xuICAgICAgICByZXR1cm4gZm9ybWF0KG5ldyBEYXRlKHNwaWtlUGVyaW9kLnN0YXJ0KSwgJ01NTSBkLCB5eXl5Jyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYCR7Zm9ybWF0KG5ldyBEYXRlKHNwaWtlUGVyaW9kLnN0YXJ0KSwgJ01NTSBkLCB5eXl5Jyl9IC0gJHtmb3JtYXQobmV3IERhdGUoc3Bpa2VQZXJpb2QuZW5kKSwgJ01NTSBkLCB5eXl5Jyl9YDtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIGZvcm1hdChuZXcgRGF0ZShzcGlrZURheXNbMF0uZGF0ZSksICdNTU0gZCwgeXl5eScpO1xuICB9XG5cbiAgLy8gTXVsdGlwbGUgc3Bpa2UgZGF5cyAtIGZpbmQgY29udGludW91cyBwZXJpb2RzXG4gIHNwaWtlRGF5cy5zb3J0KChhLCBiKSA9PiBhLmRhdGUubG9jYWxlQ29tcGFyZShiLmRhdGUpKTtcblxuICAvLyBHcm91cCBjb25zZWN1dGl2ZSBkYXRlc1xuICBjb25zdCBwZXJpb2RzOiB7IHN0YXJ0OiBzdHJpbmc7IGVuZDogc3RyaW5nOyBjb3VudDogbnVtYmVyIH1bXSA9IFtdO1xuICBsZXQgY3VycmVudFBlcmlvZDogeyBzdGFydDogc3RyaW5nOyBlbmQ6IHN0cmluZzsgY291bnQ6IG51bWJlciB9IHwgbnVsbCA9IG51bGw7XG5cbiAgZm9yIChjb25zdCBkYXkgb2Ygc3Bpa2VEYXlzKSB7XG4gICAgaWYgKCFjdXJyZW50UGVyaW9kKSB7XG4gICAgICBjdXJyZW50UGVyaW9kID0geyBzdGFydDogZGF5LmRhdGUsIGVuZDogZGF5LmRhdGUsIGNvdW50OiBkYXkuY291bnQgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgcHJldkRhdGUgPSBuZXcgRGF0ZShjdXJyZW50UGVyaW9kLmVuZCk7XG4gICAgICBjb25zdCBjdXJyRGF0ZSA9IG5ldyBEYXRlKGRheS5kYXRlKTtcbiAgICAgIGNvbnN0IGRheXNEaWZmID0gZGlmZmVyZW5jZUluRGF5cyhjdXJyRGF0ZSwgcHJldkRhdGUpO1xuXG4gICAgICBpZiAoZGF5c0RpZmYgPD0gMykge1xuICAgICAgICAvLyBDb25zZWN1dGl2ZSBvciB3aXRoaW4gMyBkYXlzIC0gZXh0ZW5kIHBlcmlvZFxuICAgICAgICBjdXJyZW50UGVyaW9kLmVuZCA9IGRheS5kYXRlO1xuICAgICAgICBjdXJyZW50UGVyaW9kLmNvdW50ID0gTWF0aC5tYXgoY3VycmVudFBlcmlvZC5jb3VudCwgZGF5LmNvdW50KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEdhcCBkZXRlY3RlZCAtIHNhdmUgY3VycmVudCBwZXJpb2QgYW5kIHN0YXJ0IG5ldyBvbmVcbiAgICAgICAgcGVyaW9kcy5wdXNoKGN1cnJlbnRQZXJpb2QpO1xuICAgICAgICBjdXJyZW50UGVyaW9kID0geyBzdGFydDogZGF5LmRhdGUsIGVuZDogZGF5LmRhdGUsIGNvdW50OiBkYXkuY291bnQgfTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpZiAoY3VycmVudFBlcmlvZCkge1xuICAgIHBlcmlvZHMucHVzaChjdXJyZW50UGVyaW9kKTtcbiAgfVxuXG4gIGlmIChwZXJpb2RzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLy8gUmV0dXJuIHRoZSBwZXJpb2Qgd2l0aCBoaWdoZXN0IGNvdW50LCBvciBsb25nZXN0IHBlcmlvZCBpZiB0aWVkXG4gIGNvbnN0IGJlc3RQZXJpb2QgPSBwZXJpb2RzLnJlZHVjZSgoYmVzdCwgcCkgPT4ge1xuICAgIGlmIChwLmNvdW50ID4gYmVzdC5jb3VudCkgcmV0dXJuIHA7XG4gICAgaWYgKHAuY291bnQgPT09IGJlc3QuY291bnQpIHtcbiAgICAgIGNvbnN0IGJlc3REYXlzID0gZGlmZmVyZW5jZUluRGF5cyhuZXcgRGF0ZShiZXN0LmVuZCksIG5ldyBEYXRlKGJlc3Quc3RhcnQpKTtcbiAgICAgIGNvbnN0IHBEYXlzID0gZGlmZmVyZW5jZUluRGF5cyhuZXcgRGF0ZShwLmVuZCksIG5ldyBEYXRlKHAuc3RhcnQpKTtcbiAgICAgIHJldHVybiBwRGF5cyA+IGJlc3REYXlzID8gcCA6IGJlc3Q7XG4gICAgfVxuICAgIHJldHVybiBiZXN0O1xuICB9LCBwZXJpb2RzWzBdKTtcblxuICBjb25zdCBzdGFydERhdGUgPSBmb3JtYXQobmV3IERhdGUoYmVzdFBlcmlvZC5zdGFydCksICdNTU0gZCwgeXl5eScpO1xuICBjb25zdCBlbmREYXRlID0gZm9ybWF0KG5ldyBEYXRlKGJlc3RQZXJpb2QuZW5kKSwgJ01NTSBkLCB5eXl5Jyk7XG5cbiAgaWYgKGJlc3RQZXJpb2Quc3RhcnQgPT09IGJlc3RQZXJpb2QuZW5kKSB7XG4gICAgcmV0dXJuIHN0YXJ0RGF0ZTtcbiAgfVxuXG4gIHJldHVybiBgJHtzdGFydERhdGV9IC0gJHtlbmREYXRlfWA7XG59XG5cbi8qKlxuICogRmluZCB0aGUgcGVyaW9kIHdoZXJlIGZhaWx1cmVzIGluY3JlYXNlZCwgc3RhcnRpbmcgZnJvbSBhIHNwaWtlIGRheVxuICogTG9va3MgYmFja3dhcmQgYW5kIGZvcndhcmQgdG8gZmluZCB0aGUgZnVsbCBpbmNyZWFzZSBwZXJpb2RcbiAqL1xuZnVuY3Rpb24gZmluZEluY3JlYXNlUGVyaW9kKFxuICB0aW1lU2VyaWVzOiBUaW1lU2VyaWVzUG9pbnRbXSxcbiAgc3Bpa2VJbmRleDogbnVtYmVyLFxuICBiYXNlbGluZTogbnVtYmVyXG4pOiB7IHN0YXJ0OiBzdHJpbmc7IGVuZDogc3RyaW5nIH0ge1xuICBpZiAoc3Bpa2VJbmRleCA8IDAgfHwgc3Bpa2VJbmRleCA+PSB0aW1lU2VyaWVzLmxlbmd0aCkge1xuICAgIHJldHVybiB7IHN0YXJ0OiB0aW1lU2VyaWVzWzBdPy5kYXRlIHx8ICcnLCBlbmQ6IHRpbWVTZXJpZXNbMF0/LmRhdGUgfHwgJycgfTtcbiAgfVxuXG4gIGNvbnN0IHNwaWtlRGF0ZSA9IHRpbWVTZXJpZXNbc3Bpa2VJbmRleF0uZGF0ZTtcbiAgbGV0IHN0YXJ0SW5kZXggPSBzcGlrZUluZGV4O1xuICBsZXQgZW5kSW5kZXggPSBzcGlrZUluZGV4O1xuXG4gIC8vIExvb2sgYmFja3dhcmQgdG8gZmluZCB3aGVuIHRoZSBpbmNyZWFzZSBzdGFydGVkXG4gIGZvciAobGV0IGkgPSBzcGlrZUluZGV4IC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICBjb25zdCBwcmV2Q291bnQgPSB0aW1lU2VyaWVzW2ldLmNvdW50O1xuICAgIGNvbnN0IGN1cnJDb3VudCA9IHRpbWVTZXJpZXNbaSArIDFdLmNvdW50O1xuICAgIFxuICAgIC8vIElmIHByZXZpb3VzIGRheSBpcyBzaWduaWZpY2FudGx5IGxvd2VyLCB3ZSBmb3VuZCB0aGUgc3RhcnRcbiAgICBpZiAocHJldkNvdW50IDwgYmFzZWxpbmUgKiAwLjUgfHwgcHJldkNvdW50IDwgY3VyckNvdW50ICogMC41KSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgXG4gICAgLy8gSWYgY291bnQgaXMgc3RpbGwgZWxldmF0ZWQsIGV4dGVuZCBwZXJpb2QgYmFja3dhcmRcbiAgICBpZiAocHJldkNvdW50ID4gYmFzZWxpbmUpIHtcbiAgICAgIHN0YXJ0SW5kZXggPSBpO1xuICAgIH0gZWxzZSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICAvLyBMb29rIGZvcndhcmQgdG8gZmluZCB3aGVuIHRoZSBpbmNyZWFzZSBlbmRlZFxuICBmb3IgKGxldCBpID0gc3Bpa2VJbmRleCArIDE7IGkgPCB0aW1lU2VyaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgcHJldkNvdW50ID0gdGltZVNlcmllc1tpIC0gMV0uY291bnQ7XG4gICAgY29uc3QgY3VyckNvdW50ID0gdGltZVNlcmllc1tpXS5jb3VudDtcbiAgICBcbiAgICAvLyBJZiBjdXJyZW50IGRheSBpcyBzaWduaWZpY2FudGx5IGxvd2VyLCB3ZSBmb3VuZCB0aGUgZW5kXG4gICAgaWYgKGN1cnJDb3VudCA8IGJhc2VsaW5lICogMC41IHx8IGN1cnJDb3VudCA8IHByZXZDb3VudCAqIDAuNSkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIFxuICAgIC8vIElmIGNvdW50IGlzIHN0aWxsIGVsZXZhdGVkLCBleHRlbmQgcGVyaW9kIGZvcndhcmRcbiAgICBpZiAoY3VyckNvdW50ID4gYmFzZWxpbmUpIHtcbiAgICAgIGVuZEluZGV4ID0gaTtcbiAgICB9IGVsc2Uge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBzdGFydDogdGltZVNlcmllc1tzdGFydEluZGV4XS5kYXRlLFxuICAgIGVuZDogdGltZVNlcmllc1tlbmRJbmRleF0uZGF0ZSxcbiAgfTtcbn1cblxuLyoqXG4gKiBDcmVhdGUgZGFpbHkgdGltZSBzZXJpZXMgZnJvbSB0cmFuc2FjdGlvbnNcbiAqIEluY2x1ZGVzIEFMTCB0cmFuc2FjdGlvbnMgdG8gZmluZCBhY3R1YWwgc3Bpa2UgcGVyaW9kcyBhY3Jvc3MgZW50aXJlIGRhdGFzZXRcbiAqL1xuZnVuY3Rpb24gY3JlYXRlRGFpbHlUaW1lU2VyaWVzKFxuICB0cmFuc2FjdGlvbnM6IFRyYW5zYWN0aW9uW10sXG4gIHdpbmRvd3M6IFJldHVyblR5cGU8dHlwZW9mIGNvbXB1dGVUaW1lV2luZG93cz5cbik6IFRpbWVTZXJpZXNQb2ludFtdIHtcbiAgY29uc3QgZGF0ZU1hcCA9IG5ldyBNYXA8c3RyaW5nLCBudW1iZXI+KCk7XG5cbiAgLy8gSW5jbHVkZSBBTEwgdHJhbnNhY3Rpb25zIHRvIGZpbmQgYWN0dWFsIHNwaWtlIHBlcmlvZHMgaW4gdGhlIGRhdGFcbiAgLy8gRG9uJ3QgbGltaXQgdG8gd2luZG93cyAtIHdlIHdhbnQgdG8gc2VlIHRoZSBmdWxsIHBpY3R1cmVcbiAgZm9yIChjb25zdCB0eCBvZiB0cmFuc2FjdGlvbnMpIHtcbiAgICBjb25zdCBkYXRlS2V5ID0gZm9ybWF0KHN0YXJ0T2ZEYXkodHgudHh0aW1lKSwgJ3l5eXktTU0tZGQnKTtcbiAgICBkYXRlTWFwLnNldChkYXRlS2V5LCAoZGF0ZU1hcC5nZXQoZGF0ZUtleSkgfHwgMCkgKyAxKTtcbiAgfVxuXG4gIHJldHVybiBBcnJheS5mcm9tKGRhdGVNYXAuZW50cmllcygpKVxuICAgIC5tYXAoKFtkYXRlLCBjb3VudF0pID0+ICh7IGRhdGUsIGNvdW50IH0pKVxuICAgIC5zb3J0KChhLCBiKSA9PiBhLmRhdGUubG9jYWxlQ29tcGFyZShiLmRhdGUpKTtcbn1cblxuLyoqXG4gKiBDaGVjayBpZiBwYXR0ZXJuIGlzIHJlY3VycmluZ1xuICovXG5mdW5jdGlvbiBpc1JlY3VycmluZyh0aW1lU2VyaWVzOiBUaW1lU2VyaWVzUG9pbnRbXSk6IGJvb2xlYW4ge1xuICBpZiAodGltZVNlcmllcy5sZW5ndGggPCA3KSByZXR1cm4gZmFsc2U7XG5cbiAgLy8gTG9vayBmb3Igd2Vla2x5IHBhdHRlcm4gKHBlYWtzIG9uIHNpbWlsYXIgZGF5cylcbiAgY29uc3QgY291bnRzID0gdGltZVNlcmllcy5tYXAoKHApID0+IHAuY291bnQpO1xuICBjb25zdCBtZWFuID0gY291bnRzLnJlZHVjZSgoc3VtLCBjKSA9PiBzdW0gKyBjLCAwKSAvIGNvdW50cy5sZW5ndGg7XG5cbiAgLy8gQ2hlY2sgaWYgdGhlcmUgYXJlIG11bHRpcGxlIHBlYWtzXG4gIGNvbnN0IHBlYWtzID0gY291bnRzLmZpbHRlcigoYykgPT4gYyA+IG1lYW4gKiAxLjUpO1xuICByZXR1cm4gcGVha3MubGVuZ3RoID49IDM7XG59XG5cbi8qKlxuICogRGV0ZWN0IHJlY3VycmluZyBwYXR0ZXJuIHBlcmlvZFxuICovXG5mdW5jdGlvbiBkZXRlY3RSZWN1cnJpbmdQYXR0ZXJuKHRpbWVTZXJpZXM6IFRpbWVTZXJpZXNQb2ludFtdKTogc3RyaW5nIHtcbiAgY29uc3QgY291bnRzID0gdGltZVNlcmllcy5tYXAoKHApID0+IHAuY291bnQpO1xuICBjb25zdCBtZWFuID0gY291bnRzLnJlZHVjZSgoc3VtLCBjKSA9PiBzdW0gKyBjLCAwKSAvIGNvdW50cy5sZW5ndGg7XG5cbiAgY29uc3QgcGVha0luZGljZXM6IG51bWJlcltdID0gW107XG4gIGNvdW50cy5mb3JFYWNoKChjb3VudCwgaWR4KSA9PiB7XG4gICAgaWYgKGNvdW50ID4gbWVhbiAqIDEuNSkge1xuICAgICAgcGVha0luZGljZXMucHVzaChpZHgpO1xuICAgIH1cbiAgfSk7XG5cbiAgaWYgKHBlYWtJbmRpY2VzLmxlbmd0aCA+PSAyKSB7XG4gICAgY29uc3QgaW50ZXJ2YWxzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCBwZWFrSW5kaWNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgaW50ZXJ2YWxzLnB1c2gocGVha0luZGljZXNbaV0gLSBwZWFrSW5kaWNlc1tpIC0gMV0pO1xuICAgIH1cbiAgICBjb25zdCBhdmdJbnRlcnZhbCA9IGludGVydmFscy5yZWR1Y2UoKHN1bSwgaSkgPT4gc3VtICsgaSwgMCkgLyBpbnRlcnZhbHMubGVuZ3RoO1xuXG4gICAgaWYgKGF2Z0ludGVydmFsID49IDYgJiYgYXZnSW50ZXJ2YWwgPD0gOCkge1xuICAgICAgcmV0dXJuICdXZWVrbHkgcGF0dGVybiBkZXRlY3RlZCc7XG4gICAgfSBlbHNlIGlmIChhdmdJbnRlcnZhbCA+PSAxICYmIGF2Z0ludGVydmFsIDw9IDMpIHtcbiAgICAgIHJldHVybiAnRGFpbHkgcGF0dGVybiBkZXRlY3RlZCc7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuICdNdWx0aXBsZSBzcGlrZXMgZGV0ZWN0ZWQnO1xufVxuXG4vKipcbiAqIENoZWNrIGlmIGVycm9yIGlzIHBlcnNpc3RlbnQgKGNvbnNpc3RlbnRseSBoaWdoKVxuICovXG5mdW5jdGlvbiBpc1BlcnNpc3RlbnQodGltZVNlcmllczogVGltZVNlcmllc1BvaW50W10sIG1lYW46IG51bWJlcik6IGJvb2xlYW4ge1xuICBpZiAodGltZVNlcmllcy5sZW5ndGggPCA1KSByZXR1cm4gZmFsc2U7XG5cbiAgY29uc3QgcmVjZW50Q291bnRzID0gdGltZVNlcmllcy5zbGljZSgtNSkubWFwKChwKSA9PiBwLmNvdW50KTtcbiAgY29uc3QgcmVjZW50QXZnID0gcmVjZW50Q291bnRzLnJlZHVjZSgoc3VtLCBjKSA9PiBzdW0gKyBjLCAwKSAvIHJlY2VudENvdW50cy5sZW5ndGg7XG5cbiAgLy8gUGVyc2lzdGVudCBpZiByZWNlbnQgYXZlcmFnZSBpcyBjb25zaXN0ZW50bHkgYWJvdmUgb3ZlcmFsbCBtZWFuXG4gIHJldHVybiByZWNlbnRBdmcgPiBtZWFuICogMS4yICYmIHJlY2VudENvdW50cy5maWx0ZXIoKGMpID0+IGMgPiBtZWFuKS5sZW5ndGggPj0gNDtcbn1cblxuLyoqXG4gKiBDYWxjdWxhdGUgaW1wYWN0IHNjb3JlIGZvciByYW5raW5nXG4gKiBVc2VzIGFic29sdXRlIGNvdW50IGNoYW5nZXMsIG5vdCBwZXJjZW50YWdlc1xuICovXG5mdW5jdGlvbiBjYWxjdWxhdGVJbXBhY3RTY29yZShcbiAgZmFpbHVyZVNoYXJlOiBudW1iZXIsXG4gIGFic29sdXRlQ2hhbmdlOiBudW1iZXIsIC8vIEFic29sdXRlIGNvdW50IGNoYW5nZVxuICBpc0Fub21hbHk6IGJvb2xlYW4sXG4gIGN1cnJlbnRWb2x1bWU6IG51bWJlclxuKTogbnVtYmVyIHtcbiAgbGV0IHNjb3JlID0gMDtcblxuICAvLyBGYWlsdXJlIHNoYXJlIGNvbnRyaWJ1dGlvbiAoMC01MCBwb2ludHMpXG4gIHNjb3JlICs9IE1hdGgubWluKGZhaWx1cmVTaGFyZSAqIDUsIDUwKTtcblxuICAvLyBWb2x1bWUgZGVsdGEgY29udHJpYnV0aW9uICgwLTMwIHBvaW50cylcbiAgLy8gU2NhbGUgYmFzZWQgb24gYWJzb2x1dGUgY291bnQ6IDEwMCsgZmFpbHVyZXMgPSBtYXggcG9pbnRzXG4gIHNjb3JlICs9IE1hdGgubWluKChhYnNvbHV0ZUNoYW5nZSAvIDEwMCkgKiAzMCwgMzApO1xuXG4gIC8vIEFub21hbHkgYm9udXMgKDIwIHBvaW50cylcbiAgaWYgKGlzQW5vbWFseSkge1xuICAgIHNjb3JlICs9IDIwO1xuICB9XG5cbiAgLy8gVm9sdW1lIG1hZ25pdHVkZSBjb250cmlidXRpb24gKDAtMjAgcG9pbnRzKVxuICBzY29yZSArPSBNYXRoLm1pbihNYXRoLmxvZzEwKGN1cnJlbnRWb2x1bWUgKyAxKSAqIDUsIDIwKTtcblxuICByZXR1cm4gcGFyc2VGbG9hdChzY29yZS50b0ZpeGVkKDIpKTtcbn1cblxuLyoqXG4gKiBHZW5lcmF0ZSBodW1hbi1yZWFkYWJsZSBpbnNpZ2h0IHN1bW1hcnlcbiAqIHZvbHVtZURlbHRhIGlzIG5vdyBhYnNvbHV0ZSBjb3VudCBjaGFuZ2UgKG5vdCBwZXJjZW50YWdlKVxuICovXG5mdW5jdGlvbiBnZW5lcmF0ZUluc2lnaHRTdW1tYXJ5KFxuICBwYXltZW50TW9kZTogc3RyaW5nLFxuICBjZkVycm9yRGVzY3JpcHRpb246IHN0cmluZyxcbiAgY3VycmVudFZvbHVtZTogbnVtYmVyLFxuICBwcmV2aW91c1ZvbHVtZTogbnVtYmVyLFxuICB2b2x1bWVEZWx0YTogbnVtYmVyLCAvLyBBYnNvbHV0ZSBjb3VudCBjaGFuZ2VcbiAgdHJlbmREaXJlY3Rpb246IFRyZW5kRGlyZWN0aW9uLFxuICBzcGlrZVR5cGU6IFNwaWtlVHlwZSB8IG51bGwsXG4gIGZhaWx1cmVTaGFyZTogbnVtYmVyXG4pOiBzdHJpbmcge1xuICBjb25zdCBwYXJ0czogc3RyaW5nW10gPSBbXTtcblxuICAvLyBTdGFydCB3aXRoIHRoZSBlcnJvciB0eXBlXG4gIHBhcnRzLnB1c2goYFwiJHtjZkVycm9yRGVzY3JpcHRpb259XCIgZmFpbHVyZXNgKTtcblxuICAvLyBBZGQgc3Bpa2UgaW5mb3JtYXRpb24gdXNpbmcgYWJzb2x1dGUgbnVtYmVyc1xuICBpZiAoc3Bpa2VUeXBlID09PSAnU1VEREVOJykge1xuICAgIGlmIChwcmV2aW91c1ZvbHVtZSA9PT0gMCkge1xuICAgICAgcGFydHMucHVzaChgc3VkZGVubHkgYXBwZWFyZWQgd2l0aCAke2N1cnJlbnRWb2x1bWV9IGZhaWx1cmVzYCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhcnRzLnB1c2goYHN1ZGRlbmx5IGluY3JlYXNlZCBieSAke3ZvbHVtZURlbHRhfSBmYWlsdXJlc2ApO1xuICAgIH1cbiAgfSBlbHNlIGlmIChzcGlrZVR5cGUgPT09ICdHUkFEVUFMJykge1xuICAgIGlmIChwcmV2aW91c1ZvbHVtZSA9PT0gMCkge1xuICAgICAgcGFydHMucHVzaChgZ3JhZHVhbGx5IGluY3JlYXNlZCB0byAke2N1cnJlbnRWb2x1bWV9IGZhaWx1cmVzYCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhcnRzLnB1c2goYGdyYWR1YWxseSBpbmNyZWFzZWQgYnkgJHt2b2x1bWVEZWx0YX0gZmFpbHVyZXNgKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoc3Bpa2VUeXBlID09PSAnUkVDVVJSSU5HJykge1xuICAgIHBhcnRzLnB1c2goYHNob3cgYSByZWN1cnJpbmcgcGF0dGVybmApO1xuICB9IGVsc2UgaWYgKHNwaWtlVHlwZSA9PT0gJ1BFUlNJU1RFTlQnKSB7XG4gICAgcGFydHMucHVzaChgcmVtYWluIHBlcnNpc3RlbnRseSBoaWdoYCk7XG4gIH0gZWxzZSBpZiAocHJldmlvdXNWb2x1bWUgPT09IDAgJiYgY3VycmVudFZvbHVtZSA+IDApIHtcbiAgICBwYXJ0cy5wdXNoKGBhcHBlYXJlZCB3aXRoICR7Y3VycmVudFZvbHVtZX0gZmFpbHVyZXNgKTtcbiAgfSBlbHNlIGlmICh2b2x1bWVEZWx0YSA+IDApIHtcbiAgICBwYXJ0cy5wdXNoKGBpbmNyZWFzZWQgYnkgJHt2b2x1bWVEZWx0YX0gZmFpbHVyZXNgKTtcbiAgfSBlbHNlIGlmICh2b2x1bWVEZWx0YSA8IDApIHtcbiAgICBwYXJ0cy5wdXNoKGBkZWNyZWFzZWQgYnkgJHtNYXRoLmFicyh2b2x1bWVEZWx0YSl9IGZhaWx1cmVzYCk7XG4gIH0gZWxzZSB7XG4gICAgcGFydHMucHVzaChgcmVtYWluIHN0YWJsZWApO1xuICB9XG5cbiAgLy8gQWRkIGN1cnJlbnQgaW1wYWN0XG4gIHBhcnRzLnB1c2goYGFuZCBub3cgYWNjb3VudCBmb3IgJHtmYWlsdXJlU2hhcmUudG9GaXhlZCgxKX0lIG9mIGFsbCAke3BheW1lbnRNb2RlfSBmYWlsdXJlc2ApO1xuXG4gIC8vIEFkZCB2b2x1bWUgY29udGV4dFxuICBpZiAocHJldmlvdXNWb2x1bWUgPT09IDApIHtcbiAgICBwYXJ0cy5wdXNoKGAoJHtjdXJyZW50Vm9sdW1lfSBmYWlsdXJlcywgcHJldmlvdXNseSAwKWApO1xuICB9IGVsc2Uge1xuICAgIHBhcnRzLnB1c2goYCgke2N1cnJlbnRWb2x1bWV9IGZhaWx1cmVzIHZzICR7cHJldmlvdXNWb2x1bWV9IHByZXZpb3VzbHkpYCk7XG4gIH1cblxuICByZXR1cm4gcGFydHMuam9pbignICcpO1xufVxuXG4vKipcbiAqIEdlbmVyYXRlIGFjdGlvbmFibGUgcmVjb21tZW5kYXRpb24gYmFzZWQgb24gZmFpbHVyZSBhbmFseXNpc1xuICovXG5mdW5jdGlvbiBnZW5lcmF0ZVJlY29tbWVuZGF0aW9uKFxuICBwYXltZW50TW9kZTogc3RyaW5nLFxuICBjZkVycm9yRGVzY3JpcHRpb246IHN0cmluZyxcbiAgc3Bpa2VUeXBlOiBTcGlrZVR5cGUgfCBudWxsLFxuICB0cmVuZERpcmVjdGlvbjogVHJlbmREaXJlY3Rpb24sXG4gIGZhaWx1cmVTaGFyZTogbnVtYmVyLFxuICB2b2x1bWVEZWx0YTogbnVtYmVyXG4pOiBzdHJpbmcge1xuICBjb25zdCBlcnJvckxvd2VyID0gY2ZFcnJvckRlc2NyaXB0aW9uLnRvTG93ZXJDYXNlKCk7XG5cbiAgLy8gQmFuay9Jc3N1ZXIgcmVsYXRlZCBlcnJvcnNcbiAgaWYgKFxuICAgIGVycm9yTG93ZXIuaW5jbHVkZXMoJ2JhbmsnKSB8fFxuICAgIGVycm9yTG93ZXIuaW5jbHVkZXMoJ2lzc3VlcicpIHx8XG4gICAgZXJyb3JMb3dlci5pbmNsdWRlcygnZGVjbGluZWQnKSB8fFxuICAgIGVycm9yTG93ZXIuaW5jbHVkZXMoJ2luc3VmZmljaWVudCcpXG4gICkge1xuICAgIGlmIChzcGlrZVR5cGUgPT09ICdTVURERU4nIHx8IHZvbHVtZURlbHRhID4gNTApIHtcbiAgICAgIHJldHVybiBgVVJHRU5UOiBFc2NhbGF0ZSB0byAke3BheW1lbnRNb2RlfSBiYW5rL2lzc3VlciBwYXJ0bmVyIGltbWVkaWF0ZWx5LiBDaGVjayBmb3Igc2VydmljZSBkaXNydXB0aW9ucyBvciBwb2xpY3kgY2hhbmdlcy5gO1xuICAgIH1cbiAgICByZXR1cm4gYEludmVzdGlnYXRlIHdpdGggJHtwYXltZW50TW9kZX0gYmFuay9pc3N1ZXIuIFJldmlldyByZWNlbnQgY2hhbmdlcyBpbiBkZWNsaW5lIHBhdHRlcm5zIGFuZCBpZGVudGlmeSByb290IGNhdXNlLmA7XG4gIH1cblxuICAvLyBOZXR3b3JrL1RpbWVvdXQgZXJyb3JzXG4gIGlmIChcbiAgICBlcnJvckxvd2VyLmluY2x1ZGVzKCd0aW1lb3V0JykgfHxcbiAgICBlcnJvckxvd2VyLmluY2x1ZGVzKCduZXR3b3JrJykgfHxcbiAgICBlcnJvckxvd2VyLmluY2x1ZGVzKCdjb25uZWN0aW9uJylcbiAgKSB7XG4gICAgaWYgKGZhaWx1cmVTaGFyZSA+IDEwKSB7XG4gICAgICByZXR1cm4gYENyaXRpY2FsIHJvdXRpbmcgaXNzdWU6IFJldmlldyAke3BheW1lbnRNb2RlfSBnYXRld2F5IGhlYWx0aCBhbmQgbmV0d29yayBjb25uZWN0aXZpdHkuIENvbnNpZGVyIGZhaWxvdmVyIHJvdXRpbmcuYDtcbiAgICB9XG4gICAgcmV0dXJuIGBNb25pdG9yICR7cGF5bWVudE1vZGV9IGdhdGV3YXkgcGVyZm9ybWFuY2UgbWV0cmljcy4gU2V0IHVwIGFsZXJ0cyBmb3IgdGltZW91dCByYXRlIHRocmVzaG9sZHMuYDtcbiAgfVxuXG4gIC8vIEF1dGhlbnRpY2F0aW9uL09UUCBlcnJvcnNcbiAgaWYgKFxuICAgIGVycm9yTG93ZXIuaW5jbHVkZXMoJ290cCcpIHx8XG4gICAgZXJyb3JMb3dlci5pbmNsdWRlcygnYXV0aGVudGljYXRpb24nKSB8fFxuICAgIGVycm9yTG93ZXIuaW5jbHVkZXMoJzNkcycpIHx8XG4gICAgZXJyb3JMb3dlci5pbmNsdWRlcygndmVyaWZpY2F0aW9uJylcbiAgKSB7XG4gICAgcmV0dXJuIGBPcHRpbWl6ZSAke3BheW1lbnRNb2RlfSBhdXRoZW50aWNhdGlvbiBmbG93LiBDb25zaWRlciBpbXBsZW1lbnRpbmcgcmV0cnkgbG9naWMgd2l0aCBiZXR0ZXIgVVggZ3VpZGFuY2UgZm9yIHVzZXJzLmA7XG4gIH1cblxuICAvLyBMaW1pdC9SaXNrIGVycm9yc1xuICBpZiAoXG4gICAgZXJyb3JMb3dlci5pbmNsdWRlcygnbGltaXQnKSB8fFxuICAgIGVycm9yTG93ZXIuaW5jbHVkZXMoJ3Jpc2snKSB8fFxuICAgIGVycm9yTG93ZXIuaW5jbHVkZXMoJ2ZyYXVkJykgfHxcbiAgICBlcnJvckxvd2VyLmluY2x1ZGVzKCdyZXN0cmljdGVkJylcbiAgKSB7XG4gICAgcmV0dXJuIGBSZXZpZXcgJHtwYXltZW50TW9kZX0gcmlzayBydWxlcyBhbmQgdHJhbnNhY3Rpb24gbGltaXRzLiBDb29yZGluYXRlIHdpdGggZnJhdWQvcmlzayB0ZWFtIHRvIGFkanVzdCBwb2xpY2llcyBpZiBuZWVkZWQuYDtcbiAgfVxuXG4gIC8vIFJvdXRpbmcgZXJyb3JzXG4gIGlmIChcbiAgICBlcnJvckxvd2VyLmluY2x1ZGVzKCdyb3V0aW5nJykgfHxcbiAgICBlcnJvckxvd2VyLmluY2x1ZGVzKCdnYXRld2F5JykgfHxcbiAgICBlcnJvckxvd2VyLmluY2x1ZGVzKCd1bmF2YWlsYWJsZScpXG4gICkge1xuICAgIHJldHVybiBgT3B0aW1pemUgJHtwYXltZW50TW9kZX0gcGF5bWVudCByb3V0aW5nIGxvZ2ljLiBDb25zaWRlciBhZGRpbmcgYmFja3VwIGdhdGV3YXlzIG9yIGFkanVzdGluZyByb3V0aW5nIHJ1bGVzLmA7XG4gIH1cblxuICAvLyBUZWNobmljYWwvU3lzdGVtIGVycm9yc1xuICBpZiAoXG4gICAgZXJyb3JMb3dlci5pbmNsdWRlcygnZXJyb3InKSB8fFxuICAgIGVycm9yTG93ZXIuaW5jbHVkZXMoJ2ZhaWxlZCcpIHx8XG4gICAgZXJyb3JMb3dlci5pbmNsdWRlcygnaW52YWxpZCcpIHx8XG4gICAgZXJyb3JMb3dlci5pbmNsdWRlcygnc3lzdGVtJylcbiAgKSB7XG4gICAgaWYgKHNwaWtlVHlwZSA9PT0gJ1NVRERFTicpIHtcbiAgICAgIHJldHVybiBgRGVwbG95IGltbWVkaWF0ZSBob3RmaXggZm9yICR7cGF5bWVudE1vZGV9LiBSb2xsYmFjayByZWNlbnQgY2hhbmdlcyBpZiBhcHBsaWNhYmxlIGFuZCBub3RpZnkgZW5naW5lZXJpbmcgdGVhbS5gO1xuICAgIH1cbiAgICBpZiAoc3Bpa2VUeXBlID09PSAnUkVDVVJSSU5HJykge1xuICAgICAgcmV0dXJuIGBJbnZlc3RpZ2F0ZSByZWN1cnJpbmcgJHtwYXltZW50TW9kZX0gc3lzdGVtIGlzc3VlLiBTZXQgdXAgbW9uaXRvcmluZyBhbmQgaW1wbGVtZW50IGF1dG9tYXRlZCByZXRyeS9mYWxsYmFjayBtZWNoYW5pc21zLmA7XG4gICAgfVxuICAgIHJldHVybiBgVGVjaG5pY2FsIGludmVzdGlnYXRpb24gbmVlZGVkIGZvciAke3BheW1lbnRNb2RlfS4gUmV2aWV3IGxvZ3MsIGlkZW50aWZ5IGNvbW1vbiBwYXR0ZXJucywgYW5kIGltcGxlbWVudCBhIGZpeC5gO1xuICB9XG5cbiAgLy8gRGVmYXVsdCByZWNvbW1lbmRhdGlvbiBiYXNlZCBvbiB0cmVuZFxuICBpZiAodHJlbmREaXJlY3Rpb24gPT09ICdJTkNSRUFTSU5HJyAmJiBmYWlsdXJlU2hhcmUgPiA1KSB7XG4gICAgcmV0dXJuIGBIaWdoLXByaW9yaXR5ICR7cGF5bWVudE1vZGV9IGlzc3VlLiBQZXJmb3JtIHJvb3QgY2F1c2UgYW5hbHlzaXMgYW5kIGVuZ2FnZSByZWxldmFudCBzdGFrZWhvbGRlcnMgZm9yIHJlc29sdXRpb24uYDtcbiAgfVxuXG4gIGlmIChzcGlrZVR5cGUgPT09ICdQRVJTSVNURU5UJykge1xuICAgIHJldHVybiBgTG9uZy1zdGFuZGluZyAke3BheW1lbnRNb2RlfSBpc3N1ZSBkZXRlY3RlZC4gU2NoZWR1bGUgZGVlcC1kaXZlIGFuYWx5c2lzIHdpdGggcHJvZHVjdCBhbmQgZW5naW5lZXJpbmcgdGVhbXMuYDtcbiAgfVxuXG4gIHJldHVybiBgTW9uaXRvciAke3BheW1lbnRNb2RlfSBmYWlsdXJlIHRyZW5kcyBjbG9zZWx5LiBTZXQgdXAgYWxlcnRzIGFuZCBwcmVwYXJlIGVzY2FsYXRpb24gcGxhbiBpZiB2b2x1bWUgY29udGludWVzIHRvIGdyb3cuYDtcbn1cblxuIl0sIm5hbWVzIjpbImZvcm1hdCIsInN1YkRheXMiLCJkaWZmZXJlbmNlSW5EYXlzIiwic3RhcnRPZkRheSIsImdlbmVyYXRlRmFpbHVyZUluc2lnaHRzIiwidHJhbnNhY3Rpb25zIiwiY2h1bmtTaXplIiwiZmFpbGVkVHhzIiwibGVuZ3RoIiwiaSIsImNodW5rIiwic2xpY2UiLCJwdXNoIiwiZmlsdGVyIiwidHgiLCJpc0ZhaWxlZCIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsImNvbnNvbGUiLCJsb2ciLCJ0b0ZpeGVkIiwidGltZVJhbmdlIiwiZ2V0VGltZVJhbmdlIiwiZmFpbHVyZUdyb3VwcyIsImdyb3VwRmFpbHVyZXNBc3luYyIsIndpbmRvd3MiLCJjb21wdXRlVGltZVdpbmRvd3MiLCJzdGFydERhdGUiLCJlbmREYXRlIiwiaW5zaWdodHMiLCJwcm9jZXNzR3JvdXBzIiwiZ3JvdXAiLCJpbnNpZ2h0IiwiYW5hbHl6ZUZhaWx1cmVHcm91cCIsInNvcnQiLCJhIiwiYiIsImltcGFjdFNjb3JlIiwibWluVGltZSIsIkluZmluaXR5IiwibWF4VGltZSIsInRpbWUiLCJ0eHRpbWUiLCJnZXRUaW1lIiwiRGF0ZSIsImdyb3VwRmFpbHVyZXMiLCJncm91cHMiLCJNYXAiLCJwYXltZW50TW9kZSIsInBheW1lbnRtb2RlIiwiY2ZFcnJvckRlc2NyaXB0aW9uIiwiY2ZfZXJyb3JkZXNjcmlwdGlvbiIsImtleSIsImhhcyIsInNldCIsInZvbHVtZSIsImdldCIsIkFycmF5IiwiZnJvbSIsInZhbHVlcyIsImciLCJ0b3RhbERheXMiLCJ3aW5kb3dUeXBlIiwid2luZG93RGF5cyIsIk1hdGgiLCJtYXgiLCJmbG9vciIsImN1cnJlbnRFbmQiLCJjdXJyZW50U3RhcnQiLCJwcmV2aW91c0VuZCIsInByZXZpb3VzU3RhcnQiLCJjdXJyZW50IiwibGFiZWwiLCJwcmV2aW91cyIsInRvdGFsRmFpbHVyZXMiLCJjdXJyZW50VHhzIiwicHJldmlvdXNUeHMiLCJjdXJyZW50Vm9sdW1lIiwicHJldmlvdXNWb2x1bWUiLCJmYWlsdXJlU2hhcmUiLCJ2b2x1bWVEZWx0YSIsInRyZW5kRGlyZWN0aW9uIiwiZGV0ZXJtaW5lVHJlbmREaXJlY3Rpb24iLCJpc0Fub21hbHkiLCJzcGlrZVR5cGUiLCJzcGlrZVBlcmlvZCIsImRldGVjdFNwaWtlIiwiYWJzb2x1dGVDaGFuZ2UiLCJjYWxjdWxhdGVJbXBhY3RTY29yZSIsImFicyIsImluc2lnaHRTdW1tYXJ5IiwiZ2VuZXJhdGVJbnNpZ2h0U3VtbWFyeSIsImFjdGlvbmFibGVSZWNvbW1lbmRhdGlvbiIsImdlbmVyYXRlUmVjb21tZW5kYXRpb24iLCJwYXJzZUZsb2F0IiwicHJpbWFyeVNwaWtlUGVyaW9kIiwiY2hhbmdlUGVyY2VudCIsInRpbWVTZXJpZXMiLCJjcmVhdGVEYWlseVRpbWVTZXJpZXMiLCJjb3VudHMiLCJtYXAiLCJwIiwiY291bnQiLCJtZWFuIiwicmVkdWNlIiwic3VtIiwiYyIsInN0ZERldiIsInNxcnQiLCJwb3ciLCJmaW5kQWN0dWFsU3Bpa2VQZXJpb2QiLCJhYnNvbHV0ZUluY3JlYXNlIiwiaXNSZWN1cnJpbmciLCJpc1BlcnNpc3RlbnQiLCJzb3J0ZWRDb3VudHMiLCJtZWRpYW4iLCJiYXNlbGluZSIsInNwaWtlVGhyZXNob2xkIiwic3Bpa2VEYXlzIiwicG9pbnQiLCJkYXRlIiwibWF4UG9pbnQiLCJtYXhJbmRleCIsImZpbmRJbmRleCIsImZpbmRJbmNyZWFzZVBlcmlvZCIsInN0YXJ0IiwiZW5kIiwic3Bpa2VEYXRlIiwic3Bpa2VJbmRleCIsImxvY2FsZUNvbXBhcmUiLCJwZXJpb2RzIiwiY3VycmVudFBlcmlvZCIsImRheSIsInByZXZEYXRlIiwiY3VyckRhdGUiLCJkYXlzRGlmZiIsImJlc3RQZXJpb2QiLCJiZXN0IiwiYmVzdERheXMiLCJwRGF5cyIsInN0YXJ0SW5kZXgiLCJlbmRJbmRleCIsInByZXZDb3VudCIsImN1cnJDb3VudCIsImRhdGVNYXAiLCJkYXRlS2V5IiwiZW50cmllcyIsInBlYWtzIiwiZGV0ZWN0UmVjdXJyaW5nUGF0dGVybiIsInBlYWtJbmRpY2VzIiwiZm9yRWFjaCIsImlkeCIsImludGVydmFscyIsImF2Z0ludGVydmFsIiwicmVjZW50Q291bnRzIiwicmVjZW50QXZnIiwic2NvcmUiLCJtaW4iLCJsb2cxMCIsInBhcnRzIiwiam9pbiIsImVycm9yTG93ZXIiLCJ0b0xvd2VyQ2FzZSIsImluY2x1ZGVzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./lib/insights.ts\n");

/***/ })

};
;