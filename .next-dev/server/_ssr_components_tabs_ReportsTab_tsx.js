"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_ssr_components_tabs_ReportsTab_tsx";
exports.ids = ["_ssr_components_tabs_ReportsTab_tsx"];
exports.modules = {

/***/ "(ssr)/./components/tabs/ReportsTab.tsx":
/*!****************************************!*\
  !*** ./components/tabs/ReportsTab.tsx ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ReportsTab: () => (/* binding */ ReportsTab)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _store_useStore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/store/useStore */ \"(ssr)/./store/useStore.ts\");\n/* harmony import */ var _lib_report_generator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/report-generator */ \"(ssr)/./lib/report-generator.ts\");\n/* harmony import */ var _lib_excel_export__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/excel-export */ \"(ssr)/./lib/excel-export.ts\");\n/* harmony import */ var _components_MultiSelect__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/MultiSelect */ \"(ssr)/./components/MultiSelect.tsx\");\n/* __next_internal_client_entry_do_not_use__ ReportsTab auto */ \n\n\n\n\n\nfunction ReportsTab() {\n    const filteredTransactions = (0,_store_useStore__WEBPACK_IMPORTED_MODULE_2__.useStore)((state)=>state.filteredTransactions);\n    const _useIndexedDB = (0,_store_useStore__WEBPACK_IMPORTED_MODULE_2__.useStore)((state)=>state._useIndexedDB);\n    const filteredTransactionCount = (0,_store_useStore__WEBPACK_IMPORTED_MODULE_2__.useStore)((state)=>state.filteredTransactionCount);\n    const getSampleFilteredTransactions = (0,_store_useStore__WEBPACK_IMPORTED_MODULE_2__.useStore)((state)=>state.getSampleFilteredTransactions);\n    const [reportType, setReportType] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"daily\");\n    const [selectedPaymentModes, setSelectedPaymentModes] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [isGenerating, setIsGenerating] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // For IndexedDB mode, we don't keep transactions in memory. Use a bounded sample for reports.\n    const isLargeFile = _useIndexedDB && filteredTransactions.length === 0;\n    const [sample, setSample] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    // Load a bounded sample for report generation in IndexedDB mode\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!_useIndexedDB) {\n            setSample([]);\n            return;\n        }\n        if (filteredTransactionCount === 0) {\n            setSample([]);\n            return;\n        }\n        let cancelled = false;\n        (async ()=>{\n            try {\n                const txs = await getSampleFilteredTransactions(50000);\n                if (!cancelled) setSample(txs);\n            } catch  {\n                if (!cancelled) setSample([]);\n            }\n        })();\n        return ()=>{\n            cancelled = true;\n        };\n    }, [\n        _useIndexedDB,\n        filteredTransactionCount,\n        getSampleFilteredTransactions\n    ]);\n    // Get available payment modes from filtered transactions\n    const availablePaymentModes = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        const source = isLargeFile ? sample : filteredTransactions;\n        const modes = new Set(source.map((tx)=>tx.paymentmode).filter(Boolean));\n        return Array.from(modes).sort();\n    }, [\n        filteredTransactions,\n        isLargeFile,\n        sample\n    ]);\n    // Filter transactions by selected payment modes\n    const reportTransactions = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        const source = isLargeFile ? sample : filteredTransactions;\n        if (selectedPaymentModes.length === 0) {\n            return source;\n        }\n        return source.filter((tx)=>selectedPaymentModes.includes(tx.paymentmode));\n    }, [\n        filteredTransactions,\n        selectedPaymentModes,\n        isLargeFile,\n        sample\n    ]);\n    const canGenerate = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        return !isLargeFile && reportTransactions.length > 0;\n    }, [\n        reportTransactions.length,\n        isLargeFile\n    ]);\n    const handleGenerateReport = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async ()=>{\n        if (!canGenerate) return;\n        setIsGenerating(true);\n        try {\n            // Generate report for selected type and payment modes\n            const sheets = (0,_lib_report_generator__WEBPACK_IMPORTED_MODULE_3__.generateReport)(reportTransactions, reportType, selectedPaymentModes);\n            // Export to Excel\n            (0,_lib_excel_export__WEBPACK_IMPORTED_MODULE_4__.exportToExcel)(sheets);\n        } catch (error) {\n            console.error(\"Error generating report:\", error);\n            alert(\"Failed to generate report. Please check the console for details.\");\n        } finally{\n            setIsGenerating(false);\n        }\n    }, [\n        reportTransactions,\n        reportType,\n        selectedPaymentModes,\n        canGenerate\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"space-y-6\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-card border border-border rounded-lg p-6\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                        className: \"text-xl font-semibold mb-6\",\n                        children: \"SR Analysis Report\"\n                    }, void 0, false, {\n                        fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/ReportsTab.tsx\",\n                        lineNumber: 90,\n                        columnNumber: 9\n                    }, this),\n                    isLargeFile && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mb-6 p-4 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-sm text-yellow-800 dark:text-yellow-200\",\n                            children: \"Reports are not available for very large files. Please use smaller datasets for report generation.\"\n                        }, void 0, false, {\n                            fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/ReportsTab.tsx\",\n                            lineNumber: 94,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/ReportsTab.tsx\",\n                        lineNumber: 93,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        className: \"block text-sm font-medium mb-3\",\n                                        children: \"Report Type\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/ReportsTab.tsx\",\n                                        lineNumber: 103,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex flex-col space-y-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                className: \"flex items-center space-x-2 cursor-pointer\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                        type: \"radio\",\n                                                        name: \"reportType\",\n                                                        value: \"daily\",\n                                                        checked: reportType === \"daily\",\n                                                        onChange: (e)=>setReportType(e.target.value),\n                                                        className: \"w-4 h-4 text-primary focus:ring-primary\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/ReportsTab.tsx\",\n                                                        lineNumber: 106,\n                                                        columnNumber: 17\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        children: \"Daily Report\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/ReportsTab.tsx\",\n                                                        lineNumber: 114,\n                                                        columnNumber: 17\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/ReportsTab.tsx\",\n                                                lineNumber: 105,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                className: \"flex items-center space-x-2 cursor-pointer\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                        type: \"radio\",\n                                                        name: \"reportType\",\n                                                        value: \"weekly\",\n                                                        checked: reportType === \"weekly\",\n                                                        onChange: (e)=>setReportType(e.target.value),\n                                                        className: \"w-4 h-4 text-primary focus:ring-primary\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/ReportsTab.tsx\",\n                                                        lineNumber: 117,\n                                                        columnNumber: 17\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        children: \"Weekly Report\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/ReportsTab.tsx\",\n                                                        lineNumber: 125,\n                                                        columnNumber: 17\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/ReportsTab.tsx\",\n                                                lineNumber: 116,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                className: \"flex items-center space-x-2 cursor-pointer\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                        type: \"radio\",\n                                                        name: \"reportType\",\n                                                        value: \"monthly\",\n                                                        checked: reportType === \"monthly\",\n                                                        onChange: (e)=>setReportType(e.target.value),\n                                                        className: \"w-4 h-4 text-primary focus:ring-primary\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/ReportsTab.tsx\",\n                                                        lineNumber: 128,\n                                                        columnNumber: 17\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        children: \"Monthly Report\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/ReportsTab.tsx\",\n                                                        lineNumber: 136,\n                                                        columnNumber: 17\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/ReportsTab.tsx\",\n                                                lineNumber: 127,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/ReportsTab.tsx\",\n                                        lineNumber: 104,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/ReportsTab.tsx\",\n                                lineNumber: 102,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_MultiSelect__WEBPACK_IMPORTED_MODULE_5__.MultiSelect, {\n                                    label: \"Payment Mode\",\n                                    options: availablePaymentModes,\n                                    value: selectedPaymentModes,\n                                    onChange: setSelectedPaymentModes,\n                                    placeholder: \"Select payment modes (leave empty for all)\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/ReportsTab.tsx\",\n                                    lineNumber: 143,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/ReportsTab.tsx\",\n                                lineNumber: 142,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/ReportsTab.tsx\",\n                        lineNumber: 100,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: handleGenerateReport,\n                            disabled: !canGenerate || isGenerating,\n                            className: `\n              w-full md:w-auto px-6 py-3 rounded-lg font-medium transition-colors\n              ${canGenerate && !isGenerating ? \"bg-primary text-primary-foreground hover:bg-primary/90\" : \"bg-muted text-muted-foreground cursor-not-allowed\"}\n            `,\n                            children: isGenerating ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"flex items-center justify-center space-x-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"animate-spin rounded-full h-4 w-4 border-b-2 border-current\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/ReportsTab.tsx\",\n                                        lineNumber: 168,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: \"Generating Report...\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/ReportsTab.tsx\",\n                                        lineNumber: 169,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/ReportsTab.tsx\",\n                                lineNumber: 167,\n                                columnNumber: 15\n                            }, this) : `Download ${reportType.charAt(0).toUpperCase() + reportType.slice(1)} Report`\n                        }, void 0, false, {\n                            fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/ReportsTab.tsx\",\n                            lineNumber: 155,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/ReportsTab.tsx\",\n                        lineNumber: 154,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mt-4 text-sm text-muted-foreground space-y-1\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                children: \"• Report uses all currently applied dashboard filters (merchant, date range, etc.)\"\n                            }, void 0, false, {\n                                fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/ReportsTab.tsx\",\n                                lineNumber: 179,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                children: [\n                                    \"• Selected payment modes: \",\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"font-medium\",\n                                        children: selectedPaymentModes.length === 0 ? \"All Payment Modes\" : selectedPaymentModes.join(\", \")\n                                    }, void 0, false, {\n                                        fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/ReportsTab.tsx\",\n                                        lineNumber: 180,\n                                        columnNumber: 40\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/ReportsTab.tsx\",\n                                lineNumber: 180,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                children: [\n                                    \"• \",\n                                    reportTransactions.length.toLocaleString(),\n                                    \" transaction(s) will be included in the report\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/ReportsTab.tsx\",\n                                lineNumber: 183,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                children: \"• Report includes: SR breakdowns, PSP level (UPI), Handle level (UPI), Bank, Card Network, Failure Analysis, and more\"\n                            }, void 0, false, {\n                                fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/ReportsTab.tsx\",\n                                lineNumber: 184,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/ReportsTab.tsx\",\n                        lineNumber: 178,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/ReportsTab.tsx\",\n                lineNumber: 89,\n                columnNumber: 7\n            }, this),\n            reportTransactions.length === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-card border border-border rounded-lg p-6 text-center\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    className: \"text-muted-foreground\",\n                    children: \"No transactions available for the selected filters.\"\n                }, void 0, false, {\n                    fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/ReportsTab.tsx\",\n                    lineNumber: 191,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/ReportsTab.tsx\",\n                lineNumber: 190,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/pavan.sai/NEW SR WEB APP/components/tabs/ReportsTab.tsx\",\n        lineNumber: 87,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Olsid2VicGFjazovL3NyLWFuYWx5dGljcy1kYXNoYm9hcmQvLi9jb21wb25lbnRzL3RhYnMvUmVwb3J0c1RhYi50c3g/ZWJkNiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5cbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VNZW1vLCB1c2VDYWxsYmFjaywgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlU3RvcmUgfSBmcm9tICdAL3N0b3JlL3VzZVN0b3JlJztcbmltcG9ydCB7IFJlcG9ydFR5cGUsIGdlbmVyYXRlUmVwb3J0IH0gZnJvbSAnQC9saWIvcmVwb3J0LWdlbmVyYXRvcic7XG5pbXBvcnQgeyBleHBvcnRUb0V4Y2VsIH0gZnJvbSAnQC9saWIvZXhjZWwtZXhwb3J0JztcbmltcG9ydCB7IE11bHRpU2VsZWN0IH0gZnJvbSAnQC9jb21wb25lbnRzL011bHRpU2VsZWN0JztcbmltcG9ydCB7IFRyYW5zYWN0aW9uIH0gZnJvbSAnQC90eXBlcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBSZXBvcnRzVGFiKCkge1xuICBjb25zdCBmaWx0ZXJlZFRyYW5zYWN0aW9ucyA9IHVzZVN0b3JlKChzdGF0ZSkgPT4gc3RhdGUuZmlsdGVyZWRUcmFuc2FjdGlvbnMpO1xuICBjb25zdCBfdXNlSW5kZXhlZERCID0gdXNlU3RvcmUoKHN0YXRlKSA9PiBzdGF0ZS5fdXNlSW5kZXhlZERCKTtcbiAgY29uc3QgZmlsdGVyZWRUcmFuc2FjdGlvbkNvdW50ID0gdXNlU3RvcmUoKHN0YXRlKSA9PiBzdGF0ZS5maWx0ZXJlZFRyYW5zYWN0aW9uQ291bnQpO1xuICBjb25zdCBnZXRTYW1wbGVGaWx0ZXJlZFRyYW5zYWN0aW9ucyA9IHVzZVN0b3JlKChzdGF0ZSkgPT4gc3RhdGUuZ2V0U2FtcGxlRmlsdGVyZWRUcmFuc2FjdGlvbnMpO1xuICBcbiAgY29uc3QgW3JlcG9ydFR5cGUsIHNldFJlcG9ydFR5cGVdID0gdXNlU3RhdGU8UmVwb3J0VHlwZT4oJ2RhaWx5Jyk7XG4gIGNvbnN0IFtzZWxlY3RlZFBheW1lbnRNb2Rlcywgc2V0U2VsZWN0ZWRQYXltZW50TW9kZXNdID0gdXNlU3RhdGU8c3RyaW5nW10+KFtdKTtcbiAgY29uc3QgW2lzR2VuZXJhdGluZywgc2V0SXNHZW5lcmF0aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICAvLyBGb3IgSW5kZXhlZERCIG1vZGUsIHdlIGRvbid0IGtlZXAgdHJhbnNhY3Rpb25zIGluIG1lbW9yeS4gVXNlIGEgYm91bmRlZCBzYW1wbGUgZm9yIHJlcG9ydHMuXG4gIGNvbnN0IGlzTGFyZ2VGaWxlID0gX3VzZUluZGV4ZWREQiAmJiBmaWx0ZXJlZFRyYW5zYWN0aW9ucy5sZW5ndGggPT09IDA7XG4gIGNvbnN0IFtzYW1wbGUsIHNldFNhbXBsZV0gPSB1c2VTdGF0ZTxUcmFuc2FjdGlvbltdPihbXSk7XG5cbiAgLy8gTG9hZCBhIGJvdW5kZWQgc2FtcGxlIGZvciByZXBvcnQgZ2VuZXJhdGlvbiBpbiBJbmRleGVkREIgbW9kZVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghX3VzZUluZGV4ZWREQikge1xuICAgICAgc2V0U2FtcGxlKFtdKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGZpbHRlcmVkVHJhbnNhY3Rpb25Db3VudCA9PT0gMCkge1xuICAgICAgc2V0U2FtcGxlKFtdKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IGNhbmNlbGxlZCA9IGZhbHNlO1xuICAgIChhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB0eHMgPSBhd2FpdCBnZXRTYW1wbGVGaWx0ZXJlZFRyYW5zYWN0aW9ucyg1MDAwMCk7XG4gICAgICAgIGlmICghY2FuY2VsbGVkKSBzZXRTYW1wbGUodHhzKTtcbiAgICAgIH0gY2F0Y2gge1xuICAgICAgICBpZiAoIWNhbmNlbGxlZCkgc2V0U2FtcGxlKFtdKTtcbiAgICAgIH1cbiAgICB9KSgpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBjYW5jZWxsZWQgPSB0cnVlO1xuICAgIH07XG4gIH0sIFtfdXNlSW5kZXhlZERCLCBmaWx0ZXJlZFRyYW5zYWN0aW9uQ291bnQsIGdldFNhbXBsZUZpbHRlcmVkVHJhbnNhY3Rpb25zXSk7XG5cbiAgLy8gR2V0IGF2YWlsYWJsZSBwYXltZW50IG1vZGVzIGZyb20gZmlsdGVyZWQgdHJhbnNhY3Rpb25zXG4gIGNvbnN0IGF2YWlsYWJsZVBheW1lbnRNb2RlcyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IHNvdXJjZSA9IGlzTGFyZ2VGaWxlID8gc2FtcGxlIDogZmlsdGVyZWRUcmFuc2FjdGlvbnM7XG4gICAgY29uc3QgbW9kZXMgPSBuZXcgU2V0KHNvdXJjZS5tYXAodHggPT4gdHgucGF5bWVudG1vZGUpLmZpbHRlcihCb29sZWFuKSk7XG4gICAgcmV0dXJuIEFycmF5LmZyb20obW9kZXMpLnNvcnQoKTtcbiAgfSwgW2ZpbHRlcmVkVHJhbnNhY3Rpb25zLCBpc0xhcmdlRmlsZSwgc2FtcGxlXSk7XG5cbiAgLy8gRmlsdGVyIHRyYW5zYWN0aW9ucyBieSBzZWxlY3RlZCBwYXltZW50IG1vZGVzXG4gIGNvbnN0IHJlcG9ydFRyYW5zYWN0aW9ucyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IHNvdXJjZSA9IGlzTGFyZ2VGaWxlID8gc2FtcGxlIDogZmlsdGVyZWRUcmFuc2FjdGlvbnM7XG4gICAgaWYgKHNlbGVjdGVkUGF5bWVudE1vZGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHNvdXJjZTtcbiAgICB9XG4gICAgcmV0dXJuIHNvdXJjZS5maWx0ZXIodHggPT4gc2VsZWN0ZWRQYXltZW50TW9kZXMuaW5jbHVkZXModHgucGF5bWVudG1vZGUpKTtcbiAgfSwgW2ZpbHRlcmVkVHJhbnNhY3Rpb25zLCBzZWxlY3RlZFBheW1lbnRNb2RlcywgaXNMYXJnZUZpbGUsIHNhbXBsZV0pO1xuXG4gIGNvbnN0IGNhbkdlbmVyYXRlID0gdXNlTWVtbygoKSA9PiB7XG4gICAgcmV0dXJuICFpc0xhcmdlRmlsZSAmJiByZXBvcnRUcmFuc2FjdGlvbnMubGVuZ3RoID4gMDtcbiAgfSwgW3JlcG9ydFRyYW5zYWN0aW9ucy5sZW5ndGgsIGlzTGFyZ2VGaWxlXSk7XG5cbiAgY29uc3QgaGFuZGxlR2VuZXJhdGVSZXBvcnQgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgaWYgKCFjYW5HZW5lcmF0ZSkgcmV0dXJuO1xuXG4gICAgc2V0SXNHZW5lcmF0aW5nKHRydWUpO1xuICAgIHRyeSB7XG4gICAgICAvLyBHZW5lcmF0ZSByZXBvcnQgZm9yIHNlbGVjdGVkIHR5cGUgYW5kIHBheW1lbnQgbW9kZXNcbiAgICAgIGNvbnN0IHNoZWV0cyA9IGdlbmVyYXRlUmVwb3J0KHJlcG9ydFRyYW5zYWN0aW9ucywgcmVwb3J0VHlwZSwgc2VsZWN0ZWRQYXltZW50TW9kZXMpO1xuICAgICAgXG4gICAgICAvLyBFeHBvcnQgdG8gRXhjZWxcbiAgICAgIGV4cG9ydFRvRXhjZWwoc2hlZXRzKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2VuZXJhdGluZyByZXBvcnQ6JywgZXJyb3IpO1xuICAgICAgYWxlcnQoJ0ZhaWxlZCB0byBnZW5lcmF0ZSByZXBvcnQuIFBsZWFzZSBjaGVjayB0aGUgY29uc29sZSBmb3IgZGV0YWlscy4nKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0SXNHZW5lcmF0aW5nKGZhbHNlKTtcbiAgICB9XG4gIH0sIFtyZXBvcnRUcmFuc2FjdGlvbnMsIHJlcG9ydFR5cGUsIHNlbGVjdGVkUGF5bWVudE1vZGVzLCBjYW5HZW5lcmF0ZV0pO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTZcIj5cbiAgICAgIHsvKiBDb250cm9scyBTZWN0aW9uICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1jYXJkIGJvcmRlciBib3JkZXItYm9yZGVyIHJvdW5kZWQtbGcgcC02XCI+XG4gICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LXhsIGZvbnQtc2VtaWJvbGQgbWItNlwiPlNSIEFuYWx5c2lzIFJlcG9ydDwvaDI+XG4gICAgICAgIFxuICAgICAgICB7aXNMYXJnZUZpbGUgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNiBwLTQgYmcteWVsbG93LTUwIGRhcms6YmcteWVsbG93LTkwMC8yMCBib3JkZXIgYm9yZGVyLXllbGxvdy0yMDAgZGFyazpib3JkZXIteWVsbG93LTgwMCByb3VuZGVkLWxnXCI+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQteWVsbG93LTgwMCBkYXJrOnRleHQteWVsbG93LTIwMFwiPlxuICAgICAgICAgICAgICBSZXBvcnRzIGFyZSBub3QgYXZhaWxhYmxlIGZvciB2ZXJ5IGxhcmdlIGZpbGVzLiBQbGVhc2UgdXNlIHNtYWxsZXIgZGF0YXNldHMgZm9yIHJlcG9ydCBnZW5lcmF0aW9uLlxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBnYXAtNiBtYi02XCI+XG4gICAgICAgICAgey8qIFJlcG9ydCBUeXBlIFNlbGVjdGlvbiAqL31cbiAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtc20gZm9udC1tZWRpdW0gbWItM1wiPlJlcG9ydCBUeXBlPC9sYWJlbD5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBzcGFjZS15LTJcIj5cbiAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMiBjdXJzb3ItcG9pbnRlclwiPlxuICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgdHlwZT1cInJhZGlvXCJcbiAgICAgICAgICAgICAgICAgIG5hbWU9XCJyZXBvcnRUeXBlXCJcbiAgICAgICAgICAgICAgICAgIHZhbHVlPVwiZGFpbHlcIlxuICAgICAgICAgICAgICAgICAgY2hlY2tlZD17cmVwb3J0VHlwZSA9PT0gJ2RhaWx5J31cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0UmVwb3J0VHlwZShlLnRhcmdldC52YWx1ZSBhcyBSZXBvcnRUeXBlKX1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctNCBoLTQgdGV4dC1wcmltYXJ5IGZvY3VzOnJpbmctcHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8c3Bhbj5EYWlseSBSZXBvcnQ8L3NwYW4+XG4gICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTIgY3Vyc29yLXBvaW50ZXJcIj5cbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJyYWRpb1wiXG4gICAgICAgICAgICAgICAgICBuYW1lPVwicmVwb3J0VHlwZVwiXG4gICAgICAgICAgICAgICAgICB2YWx1ZT1cIndlZWtseVwiXG4gICAgICAgICAgICAgICAgICBjaGVja2VkPXtyZXBvcnRUeXBlID09PSAnd2Vla2x5J31cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0UmVwb3J0VHlwZShlLnRhcmdldC52YWx1ZSBhcyBSZXBvcnRUeXBlKX1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctNCBoLTQgdGV4dC1wcmltYXJ5IGZvY3VzOnJpbmctcHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8c3Bhbj5XZWVrbHkgUmVwb3J0PC9zcGFuPlxuICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0yIGN1cnNvci1wb2ludGVyXCI+XG4gICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICB0eXBlPVwicmFkaW9cIlxuICAgICAgICAgICAgICAgICAgbmFtZT1cInJlcG9ydFR5cGVcIlxuICAgICAgICAgICAgICAgICAgdmFsdWU9XCJtb250aGx5XCJcbiAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e3JlcG9ydFR5cGUgPT09ICdtb250aGx5J31cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0UmVwb3J0VHlwZShlLnRhcmdldC52YWx1ZSBhcyBSZXBvcnRUeXBlKX1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctNCBoLTQgdGV4dC1wcmltYXJ5IGZvY3VzOnJpbmctcHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8c3Bhbj5Nb250aGx5IFJlcG9ydDwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgey8qIFBheW1lbnQgTW9kZSBTZWxlY3Rpb24gKi99XG4gICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIDxNdWx0aVNlbGVjdFxuICAgICAgICAgICAgICBsYWJlbD1cIlBheW1lbnQgTW9kZVwiXG4gICAgICAgICAgICAgIG9wdGlvbnM9e2F2YWlsYWJsZVBheW1lbnRNb2Rlc31cbiAgICAgICAgICAgICAgdmFsdWU9e3NlbGVjdGVkUGF5bWVudE1vZGVzfVxuICAgICAgICAgICAgICBvbkNoYW5nZT17c2V0U2VsZWN0ZWRQYXltZW50TW9kZXN9XG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiU2VsZWN0IHBheW1lbnQgbW9kZXMgKGxlYXZlIGVtcHR5IGZvciBhbGwpXCJcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHsvKiBEb3dubG9hZCBCdXR0b24gKi99XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17aGFuZGxlR2VuZXJhdGVSZXBvcnR9XG4gICAgICAgICAgICBkaXNhYmxlZD17IWNhbkdlbmVyYXRlIHx8IGlzR2VuZXJhdGluZ31cbiAgICAgICAgICAgIGNsYXNzTmFtZT17YFxuICAgICAgICAgICAgICB3LWZ1bGwgbWQ6dy1hdXRvIHB4LTYgcHktMyByb3VuZGVkLWxnIGZvbnQtbWVkaXVtIHRyYW5zaXRpb24tY29sb3JzXG4gICAgICAgICAgICAgICR7Y2FuR2VuZXJhdGUgJiYgIWlzR2VuZXJhdGluZ1xuICAgICAgICAgICAgICAgID8gJ2JnLXByaW1hcnkgdGV4dC1wcmltYXJ5LWZvcmVncm91bmQgaG92ZXI6YmctcHJpbWFyeS85MCdcbiAgICAgICAgICAgICAgICA6ICdiZy1tdXRlZCB0ZXh0LW11dGVkLWZvcmVncm91bmQgY3Vyc29yLW5vdC1hbGxvd2VkJ1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBgfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtpc0dlbmVyYXRpbmcgPyAoXG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYW5pbWF0ZS1zcGluIHJvdW5kZWQtZnVsbCBoLTQgdy00IGJvcmRlci1iLTIgYm9yZGVyLWN1cnJlbnRcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICA8c3Bhbj5HZW5lcmF0aW5nIFJlcG9ydC4uLjwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgYERvd25sb2FkICR7cmVwb3J0VHlwZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHJlcG9ydFR5cGUuc2xpY2UoMSl9IFJlcG9ydGBcbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHsvKiBJbmZvICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTQgdGV4dC1zbSB0ZXh0LW11dGVkLWZvcmVncm91bmQgc3BhY2UteS0xXCI+XG4gICAgICAgICAgPHA+4oCiIFJlcG9ydCB1c2VzIGFsbCBjdXJyZW50bHkgYXBwbGllZCBkYXNoYm9hcmQgZmlsdGVycyAobWVyY2hhbnQsIGRhdGUgcmFuZ2UsIGV0Yy4pPC9wPlxuICAgICAgICAgIDxwPuKAoiBTZWxlY3RlZCBwYXltZW50IG1vZGVzOiA8c3BhbiBjbGFzc05hbWU9XCJmb250LW1lZGl1bVwiPlxuICAgICAgICAgICAge3NlbGVjdGVkUGF5bWVudE1vZGVzLmxlbmd0aCA9PT0gMCA/ICdBbGwgUGF5bWVudCBNb2RlcycgOiBzZWxlY3RlZFBheW1lbnRNb2Rlcy5qb2luKCcsICcpfVxuICAgICAgICAgIDwvc3Bhbj48L3A+XG4gICAgICAgICAgPHA+4oCiIHtyZXBvcnRUcmFuc2FjdGlvbnMubGVuZ3RoLnRvTG9jYWxlU3RyaW5nKCl9IHRyYW5zYWN0aW9uKHMpIHdpbGwgYmUgaW5jbHVkZWQgaW4gdGhlIHJlcG9ydDwvcD5cbiAgICAgICAgICA8cD7igKIgUmVwb3J0IGluY2x1ZGVzOiBTUiBicmVha2Rvd25zLCBQU1AgbGV2ZWwgKFVQSSksIEhhbmRsZSBsZXZlbCAoVVBJKSwgQmFuaywgQ2FyZCBOZXR3b3JrLCBGYWlsdXJlIEFuYWx5c2lzLCBhbmQgbW9yZTwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgey8qIFByZXZpZXcgU2VjdGlvbiAqL31cbiAgICAgIHtyZXBvcnRUcmFuc2FjdGlvbnMubGVuZ3RoID09PSAwICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1jYXJkIGJvcmRlciBib3JkZXItYm9yZGVyIHJvdW5kZWQtbGcgcC02IHRleHQtY2VudGVyXCI+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1tdXRlZC1mb3JlZ3JvdW5kXCI+Tm8gdHJhbnNhY3Rpb25zIGF2YWlsYWJsZSBmb3IgdGhlIHNlbGVjdGVkIGZpbHRlcnMuPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgPC9kaXY+XG4gICk7XG59XG4iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VNZW1vIiwidXNlQ2FsbGJhY2siLCJ1c2VFZmZlY3QiLCJ1c2VTdG9yZSIsImdlbmVyYXRlUmVwb3J0IiwiZXhwb3J0VG9FeGNlbCIsIk11bHRpU2VsZWN0IiwiUmVwb3J0c1RhYiIsImZpbHRlcmVkVHJhbnNhY3Rpb25zIiwic3RhdGUiLCJfdXNlSW5kZXhlZERCIiwiZmlsdGVyZWRUcmFuc2FjdGlvbkNvdW50IiwiZ2V0U2FtcGxlRmlsdGVyZWRUcmFuc2FjdGlvbnMiLCJyZXBvcnRUeXBlIiwic2V0UmVwb3J0VHlwZSIsInNlbGVjdGVkUGF5bWVudE1vZGVzIiwic2V0U2VsZWN0ZWRQYXltZW50TW9kZXMiLCJpc0dlbmVyYXRpbmciLCJzZXRJc0dlbmVyYXRpbmciLCJpc0xhcmdlRmlsZSIsImxlbmd0aCIsInNhbXBsZSIsInNldFNhbXBsZSIsImNhbmNlbGxlZCIsInR4cyIsImF2YWlsYWJsZVBheW1lbnRNb2RlcyIsInNvdXJjZSIsIm1vZGVzIiwiU2V0IiwibWFwIiwidHgiLCJwYXltZW50bW9kZSIsImZpbHRlciIsIkJvb2xlYW4iLCJBcnJheSIsImZyb20iLCJzb3J0IiwicmVwb3J0VHJhbnNhY3Rpb25zIiwiaW5jbHVkZXMiLCJjYW5HZW5lcmF0ZSIsImhhbmRsZUdlbmVyYXRlUmVwb3J0Iiwic2hlZXRzIiwiZXJyb3IiLCJjb25zb2xlIiwiYWxlcnQiLCJkaXYiLCJjbGFzc05hbWUiLCJoMiIsInAiLCJsYWJlbCIsImlucHV0IiwidHlwZSIsIm5hbWUiLCJ2YWx1ZSIsImNoZWNrZWQiLCJvbkNoYW5nZSIsImUiLCJ0YXJnZXQiLCJzcGFuIiwib3B0aW9ucyIsInBsYWNlaG9sZGVyIiwiYnV0dG9uIiwib25DbGljayIsImRpc2FibGVkIiwiY2hhckF0IiwidG9VcHBlckNhc2UiLCJzbGljZSIsImpvaW4iLCJ0b0xvY2FsZVN0cmluZyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./components/tabs/ReportsTab.tsx\n");

/***/ }),

/***/ "(ssr)/./lib/excel-export.ts":
/*!*****************************!*\
  !*** ./lib/excel-export.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   exportToExcel: () => (/* binding */ exportToExcel)\n/* harmony export */ });\n/* harmony import */ var xlsx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! xlsx */ \"(ssr)/./node_modules/xlsx/xlsx.mjs\");\n/* harmony import */ var _barrel_optimize_names_format_date_fns__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! __barrel_optimize__?names=format!=!date-fns */ \"(ssr)/./node_modules/date-fns/format.mjs\");\n\n\n/**\n * Export comprehensive report data to Excel file with multiple sheets\n */ function exportToExcel(sheets) {\n    const workbook = xlsx__WEBPACK_IMPORTED_MODULE_0__.utils.book_new();\n    // Create all sheets\n    sheets.forEach((data, sheetName)=>{\n        if (data.length > 0) {\n            const ws = xlsx__WEBPACK_IMPORTED_MODULE_0__.utils.json_to_sheet(data);\n            // Auto-size columns\n            const colWidths = [];\n            const firstRow = data[0];\n            if (firstRow) {\n                Object.keys(firstRow).forEach((key)=>{\n                    const maxLength = Math.max(key.length, ...data.map((row)=>String(row[key] || \"\").length));\n                    colWidths.push({\n                        wch: Math.min(maxLength + 2, 50)\n                    });\n                });\n            }\n            ws[\"!cols\"] = colWidths;\n            xlsx__WEBPACK_IMPORTED_MODULE_0__.utils.book_append_sheet(workbook, ws, sheetName);\n        } else {\n            // Create empty sheet with message\n            const emptyData = [\n                {\n                    Info: \"No data available\"\n                }\n            ];\n            const emptyWS = xlsx__WEBPACK_IMPORTED_MODULE_0__.utils.json_to_sheet(emptyData);\n            xlsx__WEBPACK_IMPORTED_MODULE_0__.utils.book_append_sheet(workbook, emptyWS, sheetName);\n        }\n    });\n    // Generate filename\n    const today = (0,_barrel_optimize_names_format_date_fns__WEBPACK_IMPORTED_MODULE_1__.format)(new Date(), \"yyyyMMdd\");\n    const filename = `SR_Analysis_${today}.xlsx`;\n    // Write file\n    xlsx__WEBPACK_IMPORTED_MODULE_0__.writeFile(workbook, filename);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9saWIvZXhjZWwtZXhwb3J0LnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE2QjtBQUNLO0FBRWxDOztDQUVDLEdBQ00sU0FBU0UsY0FBY0MsTUFBMEI7SUFDdEQsTUFBTUMsV0FBV0osdUNBQVUsQ0FBQ00sUUFBUTtJQUVwQyxvQkFBb0I7SUFDcEJILE9BQU9JLE9BQU8sQ0FBQyxDQUFDQyxNQUFNQztRQUNwQixJQUFJRCxLQUFLRSxNQUFNLEdBQUcsR0FBRztZQUNuQixNQUFNQyxLQUFLWCx1Q0FBVSxDQUFDWSxhQUFhLENBQUNKO1lBRXBDLG9CQUFvQjtZQUNwQixNQUFNSyxZQUErQixFQUFFO1lBQ3ZDLE1BQU1DLFdBQVdOLElBQUksQ0FBQyxFQUFFO1lBQ3hCLElBQUlNLFVBQVU7Z0JBQ1pDLE9BQU9DLElBQUksQ0FBQ0YsVUFBVVAsT0FBTyxDQUFDLENBQUNVO29CQUM3QixNQUFNQyxZQUFZQyxLQUFLQyxHQUFHLENBQ3hCSCxJQUFJUCxNQUFNLEtBQ1BGLEtBQUthLEdBQUcsQ0FBQ0MsQ0FBQUEsTUFBT0MsT0FBTyxHQUFZLENBQUNOLElBQUksSUFBSSxJQUFJUCxNQUFNO29CQUUzREcsVUFBVVcsSUFBSSxDQUFDO3dCQUFFQyxLQUFLTixLQUFLTyxHQUFHLENBQUNSLFlBQVksR0FBRztvQkFBSTtnQkFDcEQ7WUFDRjtZQUNBUCxFQUFFLENBQUMsUUFBUSxHQUFHRTtZQUVkYix1Q0FBVSxDQUFDMkIsaUJBQWlCLENBQUN2QixVQUFVTyxJQUFJRjtRQUM3QyxPQUFPO1lBQ0wsa0NBQWtDO1lBQ2xDLE1BQU1tQixZQUFZO2dCQUFDO29CQUFFQyxNQUFNO2dCQUFvQjthQUFFO1lBQ2pELE1BQU1DLFVBQVU5Qix1Q0FBVSxDQUFDWSxhQUFhLENBQUNnQjtZQUN6QzVCLHVDQUFVLENBQUMyQixpQkFBaUIsQ0FBQ3ZCLFVBQVUwQixTQUFTckI7UUFDbEQ7SUFDRjtJQUVBLG9CQUFvQjtJQUNwQixNQUFNc0IsUUFBUTlCLDhFQUFNQSxDQUFDLElBQUkrQixRQUFRO0lBQ2pDLE1BQU1DLFdBQVcsQ0FBQyxZQUFZLEVBQUVGLE1BQU0sS0FBSyxDQUFDO0lBRTVDLGFBQWE7SUFDYi9CLDJDQUFjLENBQUNJLFVBQVU2QjtBQUMzQiIsInNvdXJjZXMiOlsid2VicGFjazovL3NyLWFuYWx5dGljcy1kYXNoYm9hcmQvLi9saWIvZXhjZWwtZXhwb3J0LnRzPzE5NjEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgWExTWCBmcm9tICd4bHN4JztcbmltcG9ydCB7IGZvcm1hdCB9IGZyb20gJ2RhdGUtZm5zJztcblxuLyoqXG4gKiBFeHBvcnQgY29tcHJlaGVuc2l2ZSByZXBvcnQgZGF0YSB0byBFeGNlbCBmaWxlIHdpdGggbXVsdGlwbGUgc2hlZXRzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBleHBvcnRUb0V4Y2VsKHNoZWV0czogTWFwPHN0cmluZywgYW55W10+KTogdm9pZCB7XG4gIGNvbnN0IHdvcmtib29rID0gWExTWC51dGlscy5ib29rX25ldygpO1xuICBcbiAgLy8gQ3JlYXRlIGFsbCBzaGVldHNcbiAgc2hlZXRzLmZvckVhY2goKGRhdGEsIHNoZWV0TmFtZSkgPT4ge1xuICAgIGlmIChkYXRhLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IHdzID0gWExTWC51dGlscy5qc29uX3RvX3NoZWV0KGRhdGEpO1xuICAgICAgXG4gICAgICAvLyBBdXRvLXNpemUgY29sdW1uc1xuICAgICAgY29uc3QgY29sV2lkdGhzOiB7IHdjaDogbnVtYmVyIH1bXSA9IFtdO1xuICAgICAgY29uc3QgZmlyc3RSb3cgPSBkYXRhWzBdO1xuICAgICAgaWYgKGZpcnN0Um93KSB7XG4gICAgICAgIE9iamVjdC5rZXlzKGZpcnN0Um93KS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgICBjb25zdCBtYXhMZW5ndGggPSBNYXRoLm1heChcbiAgICAgICAgICAgIGtleS5sZW5ndGgsXG4gICAgICAgICAgICAuLi5kYXRhLm1hcChyb3cgPT4gU3RyaW5nKChyb3cgYXMgYW55KVtrZXldIHx8ICcnKS5sZW5ndGgpXG4gICAgICAgICAgKTtcbiAgICAgICAgICBjb2xXaWR0aHMucHVzaCh7IHdjaDogTWF0aC5taW4obWF4TGVuZ3RoICsgMiwgNTApIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHdzWychY29scyddID0gY29sV2lkdGhzO1xuICAgICAgXG4gICAgICBYTFNYLnV0aWxzLmJvb2tfYXBwZW5kX3NoZWV0KHdvcmtib29rLCB3cywgc2hlZXROYW1lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQ3JlYXRlIGVtcHR5IHNoZWV0IHdpdGggbWVzc2FnZVxuICAgICAgY29uc3QgZW1wdHlEYXRhID0gW3sgSW5mbzogJ05vIGRhdGEgYXZhaWxhYmxlJyB9XTtcbiAgICAgIGNvbnN0IGVtcHR5V1MgPSBYTFNYLnV0aWxzLmpzb25fdG9fc2hlZXQoZW1wdHlEYXRhKTtcbiAgICAgIFhMU1gudXRpbHMuYm9va19hcHBlbmRfc2hlZXQod29ya2Jvb2ssIGVtcHR5V1MsIHNoZWV0TmFtZSk7XG4gICAgfVxuICB9KTtcbiAgXG4gIC8vIEdlbmVyYXRlIGZpbGVuYW1lXG4gIGNvbnN0IHRvZGF5ID0gZm9ybWF0KG5ldyBEYXRlKCksICd5eXl5TU1kZCcpO1xuICBjb25zdCBmaWxlbmFtZSA9IGBTUl9BbmFseXNpc18ke3RvZGF5fS54bHN4YDtcbiAgXG4gIC8vIFdyaXRlIGZpbGVcbiAgWExTWC53cml0ZUZpbGUod29ya2Jvb2ssIGZpbGVuYW1lKTtcbn1cbiJdLCJuYW1lcyI6WyJYTFNYIiwiZm9ybWF0IiwiZXhwb3J0VG9FeGNlbCIsInNoZWV0cyIsIndvcmtib29rIiwidXRpbHMiLCJib29rX25ldyIsImZvckVhY2giLCJkYXRhIiwic2hlZXROYW1lIiwibGVuZ3RoIiwid3MiLCJqc29uX3RvX3NoZWV0IiwiY29sV2lkdGhzIiwiZmlyc3RSb3ciLCJPYmplY3QiLCJrZXlzIiwia2V5IiwibWF4TGVuZ3RoIiwiTWF0aCIsIm1heCIsIm1hcCIsInJvdyIsIlN0cmluZyIsInB1c2giLCJ3Y2giLCJtaW4iLCJib29rX2FwcGVuZF9zaGVldCIsImVtcHR5RGF0YSIsIkluZm8iLCJlbXB0eVdTIiwidG9kYXkiLCJEYXRlIiwiZmlsZW5hbWUiLCJ3cml0ZUZpbGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./lib/excel-export.ts\n");

/***/ }),

/***/ "(ssr)/./lib/report-generator.ts":
/*!*********************************!*\
  !*** ./lib/report-generator.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   generateReport: () => (/* binding */ generateReport)\n/* harmony export */ });\n/* harmony import */ var _barrel_optimize_names_format_startOfWeek_date_fns__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! __barrel_optimize__?names=format,startOfWeek!=!date-fns */ \"(ssr)/./node_modules/date-fns/format.mjs\");\n/* harmony import */ var _barrel_optimize_names_format_startOfWeek_date_fns__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! __barrel_optimize__?names=format,startOfWeek!=!date-fns */ \"(ssr)/./node_modules/date-fns/startOfWeek.mjs\");\n/* harmony import */ var _data_normalization__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./data-normalization */ \"(ssr)/./lib/data-normalization.ts\");\n\n\n/**\n * Compute SR metrics for a group of transactions\n */ function computeSRMetrics(transactions, totalVolume, merchantTotals) {\n    const volume = transactions.length;\n    const success = transactions.filter((tx)=>tx.isSuccess).length;\n    const userDrops = transactions.filter((tx)=>tx.isUserDropped).length;\n    const unsuccessful = volume - success;\n    const totalValue = transactions.reduce((sum, tx)=>sum + (tx.txamount || 0), 0);\n    const gmv = transactions.filter((tx)=>tx.isSuccess).reduce((sum, tx)=>sum + (tx.txamount || 0), 0);\n    const sr = volume > 0 ? Number((100 * success / volume).toFixed(2)) : 0;\n    // SR without user drops\n    const nonUserDropTxs = transactions.filter((tx)=>!tx.isUserDropped);\n    const srWithoutDrops = nonUserDropTxs.length > 0 ? Number((100 * nonUserDropTxs.filter((tx)=>tx.isSuccess).length / nonUserDropTxs.length).toFixed(2)) : 0;\n    const percentGlobal = totalVolume > 0 ? Number((100 * volume / totalVolume).toFixed(2)) : 0;\n    const result = {\n        Volume: volume,\n        Success: success,\n        \"SR (%)\": sr,\n        \"SR without User Drops (%)\": srWithoutDrops,\n        UserDrops: userDrops,\n        \"Unsuccessful Count\": unsuccessful,\n        \"Total_Value\": totalValue,\n        GMV: gmv,\n        \"% of Volume (Global)\": percentGlobal\n    };\n    // Add per-merchant percentage if merchant totals provided\n    if (merchantTotals && transactions.length > 0) {\n        const merchantId = String(transactions[0].merchantid || \"\").trim();\n        const merchantTotal = merchantTotals.get(merchantId) || 0;\n        result[\"% of Volume (Per Merchant)\"] = merchantTotal > 0 ? Number((100 * volume / merchantTotal).toFixed(2)) : 0;\n    }\n    return result;\n}\n/**\n * Generic function to compute SR breakdown by grouping columns\n */ function computeSRBreakdown(transactions, groupCols) {\n    if (transactions.length === 0) return [];\n    const totalVolume = transactions.length;\n    const merchantTotals = new Map();\n    transactions.forEach((tx)=>{\n        const merchantId = String(tx.merchantid || \"\").trim();\n        merchantTotals.set(merchantId, (merchantTotals.get(merchantId) || 0) + 1);\n    });\n    // Group transactions\n    const groups = new Map();\n    transactions.forEach((tx)=>{\n        const merchantId = String(tx.merchantid || \"\").trim();\n        // Build group key from grouping columns\n        const keyParts = [\n            merchantId\n        ];\n        for (const col of groupCols){\n            let value;\n            if (col === \"Day\") {\n                value = (0,_barrel_optimize_names_format_startOfWeek_date_fns__WEBPACK_IMPORTED_MODULE_1__.format)(tx.txtime, \"yyyy-MM-dd\");\n            } else if (col === \"Week\") {\n                // Calculate week start (Monday)\n                const weekStart = (0,_barrel_optimize_names_format_startOfWeek_date_fns__WEBPACK_IMPORTED_MODULE_2__.startOfWeek)(tx.txtime, {\n                    weekStartsOn: 1\n                }); // Monday\n                value = (0,_barrel_optimize_names_format_startOfWeek_date_fns__WEBPACK_IMPORTED_MODULE_1__.format)(weekStart, \"yyyy-MM-dd\");\n            } else if (col === \"Month\") {\n                value = (0,_barrel_optimize_names_format_startOfWeek_date_fns__WEBPACK_IMPORTED_MODULE_1__.format)(tx.txtime, \"yyyy-MM\");\n            } else if (col === \"paymentmode\") {\n                value = tx.paymentmode || \"UNKNOWN\";\n            } else if (col === \"bankname\") {\n                value = tx.bankname || \"UNKNOWN\";\n            } else if (col === \"cardtype\") {\n                value = tx.cardtype || \"UNKNOWN\";\n            } else if (col === \"upi_psp\") {\n                value = tx.upi_psp || \"UNKNOWN\";\n            } else if (col === \"handle\") {\n                const handle = (0,_data_normalization__WEBPACK_IMPORTED_MODULE_0__.extractUPIHandle)(tx.cardmasked);\n                value = handle || \"UNKNOWN\";\n            } else {\n                value = String(tx[col] || \"UNKNOWN\");\n            }\n            keyParts.push(value);\n        }\n        const key = keyParts.join(\"|\");\n        if (!groups.has(key)) {\n            groups.set(key, []);\n        }\n        groups.get(key).push(tx);\n    });\n    const rows = [];\n    groups.forEach((groupTxs, key)=>{\n        const parts = key.split(\"|\");\n        const merchantId = parts[0];\n        const row = {\n            MerchantID: merchantId\n        };\n        // Add grouping column values (use column names as-is: Day, Month, paymentmode, etc.)\n        groupCols.forEach((col, idx)=>{\n            const value = parts[idx + 1] || \"UNKNOWN\";\n            row[col] = value;\n        });\n        // Add metrics\n        const metrics = computeSRMetrics(groupTxs, totalVolume, merchantTotals);\n        Object.assign(row, metrics);\n        rows.push(row);\n    });\n    // Sort by grouping columns (use original column names)\n    rows.sort((a, b)=>{\n        for (const col of groupCols){\n            const aVal = String(a[col] || \"\");\n            const bVal = String(b[col] || \"\");\n            if (aVal !== bVal) {\n                return aVal.localeCompare(bVal);\n            }\n        }\n        // Then by merchant\n        if (a.MerchantID !== b.MerchantID) {\n            return a.MerchantID.localeCompare(b.MerchantID);\n        }\n        return 0;\n    });\n    return rows;\n}\n/**\n * Add MoM changes to monthly data\n */ function addMoMChanges(rows, groupCols) {\n    if (rows.length <= 1 || !groupCols.includes(\"Month\")) return rows;\n    const keyCols = groupCols.filter((col)=>col !== \"Month\");\n    // Group rows by key columns for MoM calculation\n    const rowsByKey = new Map();\n    rows.forEach((row)=>{\n        const key = keyCols.map((col)=>{\n            if (col === \"MerchantID\") return row.MerchantID;\n            return String(row[col] || \"\");\n        }).join(\"|\");\n        if (!rowsByKey.has(key)) {\n            rowsByKey.set(key, []);\n        }\n        rowsByKey.get(key).push(row);\n    });\n    // Calculate MoM for each group\n    rowsByKey.forEach((groupRows)=>{\n        groupRows.sort((a, b)=>(a[\"Month\"] || \"\").localeCompare(b[\"Month\"] || \"\"));\n        for(let i = 1; i < groupRows.length; i++){\n            const current = groupRows[i];\n            const previous = groupRows[i - 1];\n            // Volume changes\n            current[\"Volume Δ\"] = current.Volume - previous.Volume;\n            current[\"Volume % Change\"] = previous.Volume > 0 ? Number((100 * (current.Volume - previous.Volume) / previous.Volume).toFixed(2)) : 0;\n            // SR changes\n            current[\"SR (%) Δ\"] = Number((current[\"SR (%)\"] - previous[\"SR (%)\"]).toFixed(2));\n            current[\"SR (%) % Change\"] = previous[\"SR (%)\"] > 0 ? Number((100 * (current[\"SR (%)\"] - previous[\"SR (%)\"]) / previous[\"SR (%)\"]).toFixed(2)) : 0;\n        }\n    });\n    return rows;\n}\n/**\n * Generate failure analysis sheets\n */ function generateFailureAnalyses(transactions, timeCol) {\n    const sheets = new Map();\n    const failureTransactions = transactions.filter((tx)=>!tx.isSuccess);\n    if (failureTransactions.length === 0) return sheets;\n    // Check if multi-month data\n    const months = new Set(transactions.map((tx)=>(0,_barrel_optimize_names_format_startOfWeek_date_fns__WEBPACK_IMPORTED_MODULE_1__.format)(tx.txtime, \"yyyy-MM\")));\n    const isMultiMonth = months.size > 1;\n    // Failures by Reason (merchantid, paymentmode, txmsg)\n    const reasonGroups = new Map();\n    failureTransactions.forEach((tx)=>{\n        const merchantId = String(tx.merchantid || \"\").trim();\n        const paymentMode = tx.paymentmode || \"UNKNOWN\";\n        const txmsg = tx.txmsg || \"UNKNOWN\";\n        const key = `${merchantId}|${paymentMode}|${txmsg}`;\n        if (!reasonGroups.has(key)) {\n            reasonGroups.set(key, []);\n        }\n        reasonGroups.get(key).push(tx);\n    });\n    const failuresByReason = [];\n    reasonGroups.forEach((txs, key)=>{\n        const [merchantId, paymentMode, txmsg] = key.split(\"|\");\n        failuresByReason.push({\n            MerchantID: merchantId,\n            paymentmode: paymentMode,\n            txmsg: txmsg,\n            Volume: txs.length\n        });\n    });\n    failuresByReason.sort((a, b)=>b.Volume - a.Volume);\n    sheets.set(\"Failures by Reason\", failuresByReason);\n    // Failures by Time Period (merchantid, timeCol)\n    const timeGroups = new Map();\n    failureTransactions.forEach((tx)=>{\n        const merchantId = String(tx.merchantid || \"\").trim();\n        let timeValue;\n        if (timeCol === \"Day\") {\n            timeValue = (0,_barrel_optimize_names_format_startOfWeek_date_fns__WEBPACK_IMPORTED_MODULE_1__.format)(tx.txtime, \"yyyy-MM-dd\");\n        } else if (timeCol === \"Week\") {\n            const weekStart = (0,_barrel_optimize_names_format_startOfWeek_date_fns__WEBPACK_IMPORTED_MODULE_2__.startOfWeek)(tx.txtime, {\n                weekStartsOn: 1\n            });\n            timeValue = (0,_barrel_optimize_names_format_startOfWeek_date_fns__WEBPACK_IMPORTED_MODULE_1__.format)(weekStart, \"yyyy-MM-dd\");\n        } else {\n            timeValue = (0,_barrel_optimize_names_format_startOfWeek_date_fns__WEBPACK_IMPORTED_MODULE_1__.format)(tx.txtime, \"yyyy-MM\");\n        }\n        const key = `${merchantId}|${timeValue}`;\n        if (!timeGroups.has(key)) {\n            timeGroups.set(key, []);\n        }\n        timeGroups.get(key).push(tx);\n    });\n    const failuresByTime = [];\n    timeGroups.forEach((txs, key)=>{\n        const [merchantId, timeValue] = key.split(\"|\");\n        failuresByTime.push({\n            MerchantID: merchantId,\n            [timeCol]: timeValue,\n            Volume: txs.length\n        });\n    });\n    failuresByTime.sort((a, b)=>String(a[timeCol] || \"\").localeCompare(String(b[timeCol] || \"\")));\n    sheets.set(`Failures ${timeCol === \"Day\" ? \"Daily\" : timeCol === \"Week\" ? \"Weekly\" : \"Monthly\"}`, failuresByTime);\n    // Failures by Payment Mode and Time (if multi-month for monthly)\n    if (isMultiMonth && timeCol === \"Month\") {\n        const paymodeTimeGroups = new Map();\n        failureTransactions.forEach((tx)=>{\n            const merchantId = String(tx.merchantid || \"\").trim();\n            const paymentMode = tx.paymentmode || \"UNKNOWN\";\n            const month = (0,_barrel_optimize_names_format_startOfWeek_date_fns__WEBPACK_IMPORTED_MODULE_1__.format)(tx.txtime, \"yyyy-MM\");\n            const key = `${merchantId}|${paymentMode}|${month}`;\n            if (!paymodeTimeGroups.has(key)) {\n                paymodeTimeGroups.set(key, []);\n            }\n            paymodeTimeGroups.get(key).push(tx);\n        });\n        const paymodeTimeRows = [];\n        paymodeTimeGroups.forEach((txs, key)=>{\n            const parts = key.split(\"|\");\n            paymodeTimeRows.push({\n                MerchantID: parts[0],\n                paymentmode: parts[1],\n                Month: parts[2],\n                Volume: txs.length\n            });\n        });\n        // Sort and add MoM changes\n        paymodeTimeRows.sort((a, b)=>{\n            if (a.Month !== b.Month) return (a.Month || \"\").localeCompare(b.Month || \"\");\n            if (a.MerchantID !== b.MerchantID) return a.MerchantID.localeCompare(b.MerchantID);\n            return 0;\n        });\n        // Add MoM changes\n        const rowsByKey = new Map();\n        paymodeTimeRows.forEach((row)=>{\n            const key = `${row.MerchantID}|${row.paymentmode}`;\n            if (!rowsByKey.has(key)) {\n                rowsByKey.set(key, []);\n            }\n            rowsByKey.get(key).push(row);\n        });\n        rowsByKey.forEach((groupRows)=>{\n            groupRows.sort((a, b)=>(a.Month || \"\").localeCompare(b.Month || \"\"));\n            for(let i = 1; i < groupRows.length; i++){\n                const current = groupRows[i];\n                const previous = groupRows[i - 1];\n                current[\"Volume Δ\"] = current.Volume - previous.Volume;\n                current[\"Volume % Change\"] = previous.Volume > 0 ? Number((100 * (current.Volume - previous.Volume) / previous.Volume).toFixed(2)) : 0;\n            }\n        });\n        sheets.set(\"Failures by Paymode Monthly\", paymodeTimeRows);\n    }\n    return sheets;\n}\n/**\n * Generate reports based on report type\n */ function generateReport(transactions, reportType, paymentModes) {\n    const sheets = new Map();\n    if (transactions.length === 0) return sheets;\n    // Filter by payment modes if specified\n    let filteredTxs = transactions;\n    if (paymentModes && paymentModes.length > 0) {\n        filteredTxs = transactions.filter((tx)=>paymentModes.includes(tx.paymentmode));\n    }\n    if (filteredTxs.length === 0) return sheets;\n    // Check if multi-month data (for monthly reports)\n    const months = new Set(filteredTxs.map((tx)=>(0,_barrel_optimize_names_format_startOfWeek_date_fns__WEBPACK_IMPORTED_MODULE_1__.format)(tx.txtime, \"yyyy-MM\")));\n    const isMultiMonth = months.size > 1;\n    // Base grouping column based on report type\n    let timeCol;\n    if (reportType === \"daily\") {\n        timeCol = \"Day\";\n    } else if (reportType === \"weekly\") {\n        timeCol = \"Week\";\n    } else {\n        timeCol = \"Month\";\n    }\n    // SR by Date/Week/Month\n    const timeRows = computeSRBreakdown(filteredTxs, [\n        timeCol\n    ]);\n    if (reportType === \"monthly\" && isMultiMonth) {\n        sheets.set(`SR ${reportType.charAt(0).toUpperCase() + reportType.slice(1)}`, addMoMChanges(timeRows, [\n            timeCol\n        ]));\n    } else {\n        sheets.set(`SR ${reportType.charAt(0).toUpperCase() + reportType.slice(1)}`, timeRows);\n    }\n    // SR by Paymode\n    if (transactions.some((tx)=>tx.paymentmode)) {\n        const paymodeRows = computeSRBreakdown(filteredTxs, [\n            \"paymentmode\"\n        ]);\n        sheets.set(\"SR by Paymode\", paymodeRows);\n        // Paymode + time breakdown\n        const paymodeTimeRows = computeSRBreakdown(filteredTxs, [\n            timeCol,\n            \"paymentmode\"\n        ]);\n        if (reportType === \"monthly\" && isMultiMonth) {\n            sheets.set(`SR by Paymode ${reportType.charAt(0).toUpperCase() + reportType.slice(1)}`, addMoMChanges(paymodeTimeRows, [\n                timeCol,\n                \"paymentmode\"\n            ]));\n        } else {\n            sheets.set(`SR by Paymode ${reportType.charAt(0).toUpperCase() + reportType.slice(1)}`, paymodeTimeRows);\n        }\n    }\n    // SR by Bank\n    if (transactions.some((tx)=>tx.bankname)) {\n        const bankRows = computeSRBreakdown(filteredTxs, [\n            \"bankname\"\n        ]);\n        sheets.set(\"SR by Bank\", bankRows);\n        // Paymode + Bank\n        if (transactions.some((tx)=>tx.paymentmode)) {\n            const paymodeBankRows = computeSRBreakdown(filteredTxs, [\n                \"paymentmode\",\n                \"bankname\"\n            ]);\n            sheets.set(\"Paymode+Bank\", paymodeBankRows);\n        }\n    }\n    // Card Network (filtered to CREDIT_CARD, DEBIT_CARD)\n    const cardTransactions = filteredTxs.filter((tx)=>[\n            \"CREDIT_CARD\",\n            \"DEBIT_CARD\"\n        ].includes(tx.paymentmode));\n    if (cardTransactions.length > 0 && transactions.some((tx)=>tx.cardtype)) {\n        sheets.set(\"Card Network\", computeSRBreakdown(cardTransactions, [\n            \"paymentmode\",\n            \"cardtype\"\n        ]));\n        if (reportType === \"daily\") {\n            sheets.set(\"SR by Card Type Daily\", computeSRBreakdown(cardTransactions, [\n                \"Day\",\n                \"paymentmode\",\n                \"cardtype\"\n            ]));\n        }\n    }\n    // UPI-specific: PSP Level\n    const upiTransactions = filteredTxs.filter((tx)=>[\n            \"UPI\",\n            \"UPI_CREDIT_CARD\",\n            \"UPI_PPI\"\n        ].includes(tx.paymentmode) && tx.upi_psp);\n    if (upiTransactions.length > 0) {\n        const pspRows = computeSRBreakdown(upiTransactions, [\n            \"upi_psp\"\n        ]);\n        sheets.set(\"SR by PSP\", pspRows);\n        // PSP + time breakdown\n        const pspTimeRows = computeSRBreakdown(upiTransactions, [\n            timeCol,\n            \"upi_psp\"\n        ]);\n        if (reportType === \"monthly\" && isMultiMonth) {\n            sheets.set(`SR by PSP ${reportType.charAt(0).toUpperCase() + reportType.slice(1)}`, addMoMChanges(pspTimeRows, [\n                timeCol,\n                \"upi_psp\"\n            ]));\n        } else {\n            sheets.set(`SR by PSP ${reportType.charAt(0).toUpperCase() + reportType.slice(1)}`, pspTimeRows);\n        }\n    }\n    // UPI-specific: Handle Level\n    const upiWithHandles = filteredTxs.filter((tx)=>{\n        if (![\n            \"UPI\",\n            \"UPI_CREDIT_CARD\",\n            \"UPI_PPI\"\n        ].includes(tx.paymentmode)) return false;\n        const handle = (0,_data_normalization__WEBPACK_IMPORTED_MODULE_0__.extractUPIHandle)(tx.cardmasked);\n        return handle !== null;\n    });\n    if (upiWithHandles.length > 0) {\n        const handleRows = computeSRBreakdown(upiWithHandles, [\n            \"handle\"\n        ]);\n        // Sort by volume descending and take top handles\n        handleRows.sort((a, b)=>b.Volume - a.Volume);\n        sheets.set(\"SR by Handle\", handleRows);\n        // Handle + time breakdown\n        const handleTimeRows = computeSRBreakdown(upiWithHandles, [\n            timeCol,\n            \"handle\"\n        ]);\n        handleTimeRows.sort((a, b)=>{\n            const timeCompare = String(a[timeCol] || \"\").localeCompare(String(b[timeCol] || \"\"));\n            if (timeCompare !== 0) return timeCompare;\n            return b.Volume - a.Volume;\n        });\n        sheets.set(`SR by Handle ${reportType.charAt(0).toUpperCase() + reportType.slice(1)}`, handleTimeRows);\n    }\n    // Add failure analysis sheets\n    const failureSheets = generateFailureAnalyses(filteredTxs, timeCol);\n    failureSheets.forEach((data, name)=>{\n        sheets.set(name, data);\n    });\n    return sheets;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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YUFBYXBGLG1CQUFtQm1GLGdCQUFnQjtZQUFDO1NBQVM7UUFDaEUsaURBQWlEO1FBQ2pEQyxXQUFXcEQsSUFBSSxDQUFDLENBQUNDLEdBQUdDLElBQU1BLEVBQUU1QyxNQUFNLEdBQUcyQyxFQUFFM0MsTUFBTTtRQUM3QzJELE9BQU83QyxHQUFHLENBQUMsZ0JBQWdCZ0Y7UUFFM0IsMEJBQTBCO1FBQzFCLE1BQU1DLGlCQUFpQnJGLG1CQUFtQm1GLGdCQUFnQjtZQUFDbkM7WUFBUztTQUFTO1FBQzdFcUMsZUFBZXJELElBQUksQ0FBQyxDQUFDQyxHQUFHQztZQUN0QixNQUFNb0QsY0FBYzNGLE9BQU9zQyxDQUFDLENBQUNlLFFBQVEsSUFBSSxJQUFJWCxhQUFhLENBQUMxQyxPQUFPdUMsQ0FBQyxDQUFDYyxRQUFRLElBQUk7WUFDaEYsSUFBSXNDLGdCQUFnQixHQUFHLE9BQU9BO1lBQzlCLE9BQU9wRCxFQUFFNUMsTUFBTSxHQUFHMkMsRUFBRTNDLE1BQU07UUFDNUI7UUFDQTJELE9BQU83QyxHQUFHLENBQUMsQ0FBQyxhQUFhLEVBQUVnRSxXQUFXSSxNQUFNLENBQUMsR0FBR0MsV0FBVyxLQUFLTCxXQUFXTSxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUVXO0lBQ3pGO0lBRUEsOEJBQThCO0lBQzlCLE1BQU1FLGdCQUFnQnhDLHdCQUF3QnVCLGFBQWF0QjtJQUMzRHVDLGNBQWNwRixPQUFPLENBQUMsQ0FBQ3FGLE1BQU1DO1FBQzNCeEMsT0FBTzdDLEdBQUcsQ0FBQ3FGLE1BQU1EO0lBQ25CO0lBRUEsT0FBT3ZDO0FBQ1QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zci1hbmFseXRpY3MtZGFzaGJvYXJkLy4vbGliL3JlcG9ydC1nZW5lcmF0b3IudHM/YWY4MSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBUcmFuc2FjdGlvbiB9IGZyb20gJ0AvdHlwZXMnO1xuaW1wb3J0IHsgZm9ybWF0LCBzdGFydE9mV2VlayB9IGZyb20gJ2RhdGUtZm5zJztcbmltcG9ydCB7IGV4dHJhY3RVUElIYW5kbGUgfSBmcm9tICcuL2RhdGEtbm9ybWFsaXphdGlvbic7XG5cbmV4cG9ydCB0eXBlIFJlcG9ydFR5cGUgPSAnZGFpbHknIHwgJ3dlZWtseScgfCAnbW9udGhseSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVwb3J0Um93IHtcbiAgW2tleTogc3RyaW5nXTogYW55OyAvLyBGbGV4aWJsZSBzdHJ1Y3R1cmUgZm9yIGRpZmZlcmVudCBzaGVldCB0eXBlc1xufVxuXG4vKipcbiAqIENvbXB1dGUgU1IgbWV0cmljcyBmb3IgYSBncm91cCBvZiB0cmFuc2FjdGlvbnNcbiAqL1xuZnVuY3Rpb24gY29tcHV0ZVNSTWV0cmljcyhcbiAgdHJhbnNhY3Rpb25zOiBUcmFuc2FjdGlvbltdLFxuICB0b3RhbFZvbHVtZTogbnVtYmVyLFxuICBtZXJjaGFudFRvdGFscz86IE1hcDxzdHJpbmcsIG51bWJlcj5cbik6IHtcbiAgVm9sdW1lOiBudW1iZXI7XG4gIFN1Y2Nlc3M6IG51bWJlcjtcbiAgJ1NSICglKSc6IG51bWJlcjtcbiAgJ1NSIHdpdGhvdXQgVXNlciBEcm9wcyAoJSknOiBudW1iZXI7XG4gIFVzZXJEcm9wczogbnVtYmVyO1xuICAnVW5zdWNjZXNzZnVsIENvdW50JzogbnVtYmVyO1xuICAnVG90YWxfVmFsdWUnOiBudW1iZXI7XG4gIEdNVjogbnVtYmVyO1xuICAnJSBvZiBWb2x1bWUgKEdsb2JhbCknOiBudW1iZXI7XG4gICclIG9mIFZvbHVtZSAoUGVyIE1lcmNoYW50KSc/OiBudW1iZXI7XG59IHtcbiAgY29uc3Qgdm9sdW1lID0gdHJhbnNhY3Rpb25zLmxlbmd0aDtcbiAgY29uc3Qgc3VjY2VzcyA9IHRyYW5zYWN0aW9ucy5maWx0ZXIodHggPT4gdHguaXNTdWNjZXNzKS5sZW5ndGg7XG4gIGNvbnN0IHVzZXJEcm9wcyA9IHRyYW5zYWN0aW9ucy5maWx0ZXIodHggPT4gdHguaXNVc2VyRHJvcHBlZCkubGVuZ3RoO1xuICBjb25zdCB1bnN1Y2Nlc3NmdWwgPSB2b2x1bWUgLSBzdWNjZXNzO1xuICBcbiAgY29uc3QgdG90YWxWYWx1ZSA9IHRyYW5zYWN0aW9ucy5yZWR1Y2UoKHN1bSwgdHgpID0+IHN1bSArICh0eC50eGFtb3VudCB8fCAwKSwgMCk7XG4gIGNvbnN0IGdtdiA9IHRyYW5zYWN0aW9uc1xuICAgIC5maWx0ZXIodHggPT4gdHguaXNTdWNjZXNzKVxuICAgIC5yZWR1Y2UoKHN1bSwgdHgpID0+IHN1bSArICh0eC50eGFtb3VudCB8fCAwKSwgMCk7XG4gIFxuICBjb25zdCBzciA9IHZvbHVtZSA+IDAgPyBOdW1iZXIoKDEwMCAqIHN1Y2Nlc3MgLyB2b2x1bWUpLnRvRml4ZWQoMikpIDogMDtcbiAgXG4gIC8vIFNSIHdpdGhvdXQgdXNlciBkcm9wc1xuICBjb25zdCBub25Vc2VyRHJvcFR4cyA9IHRyYW5zYWN0aW9ucy5maWx0ZXIodHggPT4gIXR4LmlzVXNlckRyb3BwZWQpO1xuICBjb25zdCBzcldpdGhvdXREcm9wcyA9IG5vblVzZXJEcm9wVHhzLmxlbmd0aCA+IDBcbiAgICA/IE51bWJlcigoMTAwICogbm9uVXNlckRyb3BUeHMuZmlsdGVyKHR4ID0+IHR4LmlzU3VjY2VzcykubGVuZ3RoIC8gbm9uVXNlckRyb3BUeHMubGVuZ3RoKS50b0ZpeGVkKDIpKVxuICAgIDogMDtcbiAgXG4gIGNvbnN0IHBlcmNlbnRHbG9iYWwgPSB0b3RhbFZvbHVtZSA+IDAgPyBOdW1iZXIoKDEwMCAqIHZvbHVtZSAvIHRvdGFsVm9sdW1lKS50b0ZpeGVkKDIpKSA6IDA7XG4gIFxuICBjb25zdCByZXN1bHQ6IGFueSA9IHtcbiAgICBWb2x1bWU6IHZvbHVtZSxcbiAgICBTdWNjZXNzOiBzdWNjZXNzLFxuICAgICdTUiAoJSknOiBzcixcbiAgICAnU1Igd2l0aG91dCBVc2VyIERyb3BzICglKSc6IHNyV2l0aG91dERyb3BzLFxuICAgIFVzZXJEcm9wczogdXNlckRyb3BzLFxuICAgICdVbnN1Y2Nlc3NmdWwgQ291bnQnOiB1bnN1Y2Nlc3NmdWwsXG4gICAgJ1RvdGFsX1ZhbHVlJzogdG90YWxWYWx1ZSxcbiAgICBHTVY6IGdtdixcbiAgICAnJSBvZiBWb2x1bWUgKEdsb2JhbCknOiBwZXJjZW50R2xvYmFsLFxuICB9O1xuICBcbiAgLy8gQWRkIHBlci1tZXJjaGFudCBwZXJjZW50YWdlIGlmIG1lcmNoYW50IHRvdGFscyBwcm92aWRlZFxuICBpZiAobWVyY2hhbnRUb3RhbHMgJiYgdHJhbnNhY3Rpb25zLmxlbmd0aCA+IDApIHtcbiAgICBjb25zdCBtZXJjaGFudElkID0gU3RyaW5nKHRyYW5zYWN0aW9uc1swXS5tZXJjaGFudGlkIHx8ICcnKS50cmltKCk7XG4gICAgY29uc3QgbWVyY2hhbnRUb3RhbCA9IG1lcmNoYW50VG90YWxzLmdldChtZXJjaGFudElkKSB8fCAwO1xuICAgIHJlc3VsdFsnJSBvZiBWb2x1bWUgKFBlciBNZXJjaGFudCknXSA9IG1lcmNoYW50VG90YWwgPiAwXG4gICAgICA/IE51bWJlcigoMTAwICogdm9sdW1lIC8gbWVyY2hhbnRUb3RhbCkudG9GaXhlZCgyKSlcbiAgICAgIDogMDtcbiAgfVxuICBcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBHZW5lcmljIGZ1bmN0aW9uIHRvIGNvbXB1dGUgU1IgYnJlYWtkb3duIGJ5IGdyb3VwaW5nIGNvbHVtbnNcbiAqL1xuZnVuY3Rpb24gY29tcHV0ZVNSQnJlYWtkb3duKFxuICB0cmFuc2FjdGlvbnM6IFRyYW5zYWN0aW9uW10sXG4gIGdyb3VwQ29sczogc3RyaW5nW11cbik6IFJlcG9ydFJvd1tdIHtcbiAgaWYgKHRyYW5zYWN0aW9ucy5sZW5ndGggPT09IDApIHJldHVybiBbXTtcbiAgXG4gIGNvbnN0IHRvdGFsVm9sdW1lID0gdHJhbnNhY3Rpb25zLmxlbmd0aDtcbiAgY29uc3QgbWVyY2hhbnRUb3RhbHMgPSBuZXcgTWFwPHN0cmluZywgbnVtYmVyPigpO1xuICB0cmFuc2FjdGlvbnMuZm9yRWFjaCh0eCA9PiB7XG4gICAgY29uc3QgbWVyY2hhbnRJZCA9IFN0cmluZyh0eC5tZXJjaGFudGlkIHx8ICcnKS50cmltKCk7XG4gICAgbWVyY2hhbnRUb3RhbHMuc2V0KG1lcmNoYW50SWQsIChtZXJjaGFudFRvdGFscy5nZXQobWVyY2hhbnRJZCkgfHwgMCkgKyAxKTtcbiAgfSk7XG4gIFxuICAvLyBHcm91cCB0cmFuc2FjdGlvbnNcbiAgY29uc3QgZ3JvdXBzID0gbmV3IE1hcDxzdHJpbmcsIFRyYW5zYWN0aW9uW10+KCk7XG4gIFxuICB0cmFuc2FjdGlvbnMuZm9yRWFjaCh0eCA9PiB7XG4gICAgY29uc3QgbWVyY2hhbnRJZCA9IFN0cmluZyh0eC5tZXJjaGFudGlkIHx8ICcnKS50cmltKCk7XG4gICAgXG4gICAgLy8gQnVpbGQgZ3JvdXAga2V5IGZyb20gZ3JvdXBpbmcgY29sdW1uc1xuICAgIGNvbnN0IGtleVBhcnRzOiBzdHJpbmdbXSA9IFttZXJjaGFudElkXTtcbiAgICBmb3IgKGNvbnN0IGNvbCBvZiBncm91cENvbHMpIHtcbiAgICAgIGxldCB2YWx1ZTogc3RyaW5nO1xuICAgICAgaWYgKGNvbCA9PT0gJ0RheScpIHtcbiAgICAgICAgdmFsdWUgPSBmb3JtYXQodHgudHh0aW1lLCAneXl5eS1NTS1kZCcpO1xuICAgICAgfSBlbHNlIGlmIChjb2wgPT09ICdXZWVrJykge1xuICAgICAgICAvLyBDYWxjdWxhdGUgd2VlayBzdGFydCAoTW9uZGF5KVxuICAgICAgICBjb25zdCB3ZWVrU3RhcnQgPSBzdGFydE9mV2Vlayh0eC50eHRpbWUsIHsgd2Vla1N0YXJ0c09uOiAxIH0pOyAvLyBNb25kYXlcbiAgICAgICAgdmFsdWUgPSBmb3JtYXQod2Vla1N0YXJ0LCAneXl5eS1NTS1kZCcpO1xuICAgICAgfSBlbHNlIGlmIChjb2wgPT09ICdNb250aCcpIHtcbiAgICAgICAgdmFsdWUgPSBmb3JtYXQodHgudHh0aW1lLCAneXl5eS1NTScpO1xuICAgICAgfSBlbHNlIGlmIChjb2wgPT09ICdwYXltZW50bW9kZScpIHtcbiAgICAgICAgdmFsdWUgPSB0eC5wYXltZW50bW9kZSB8fCAnVU5LTk9XTic7XG4gICAgICB9IGVsc2UgaWYgKGNvbCA9PT0gJ2JhbmtuYW1lJykge1xuICAgICAgICB2YWx1ZSA9IHR4LmJhbmtuYW1lIHx8ICdVTktOT1dOJztcbiAgICAgIH0gZWxzZSBpZiAoY29sID09PSAnY2FyZHR5cGUnKSB7XG4gICAgICAgIHZhbHVlID0gdHguY2FyZHR5cGUgfHwgJ1VOS05PV04nO1xuICAgICAgfSBlbHNlIGlmIChjb2wgPT09ICd1cGlfcHNwJykge1xuICAgICAgICB2YWx1ZSA9IHR4LnVwaV9wc3AgfHwgJ1VOS05PV04nO1xuICAgICAgfSBlbHNlIGlmIChjb2wgPT09ICdoYW5kbGUnKSB7XG4gICAgICAgIGNvbnN0IGhhbmRsZSA9IGV4dHJhY3RVUElIYW5kbGUodHguY2FyZG1hc2tlZCk7XG4gICAgICAgIHZhbHVlID0gaGFuZGxlIHx8ICdVTktOT1dOJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbHVlID0gU3RyaW5nKCh0eCBhcyBhbnkpW2NvbF0gfHwgJ1VOS05PV04nKTtcbiAgICAgIH1cbiAgICAgIGtleVBhcnRzLnB1c2godmFsdWUpO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBrZXkgPSBrZXlQYXJ0cy5qb2luKCd8Jyk7XG4gICAgaWYgKCFncm91cHMuaGFzKGtleSkpIHtcbiAgICAgIGdyb3Vwcy5zZXQoa2V5LCBbXSk7XG4gICAgfVxuICAgIGdyb3Vwcy5nZXQoa2V5KSEucHVzaCh0eCk7XG4gIH0pO1xuICBcbiAgY29uc3Qgcm93czogUmVwb3J0Um93W10gPSBbXTtcbiAgXG4gIGdyb3Vwcy5mb3JFYWNoKChncm91cFR4cywga2V5KSA9PiB7XG4gICAgY29uc3QgcGFydHMgPSBrZXkuc3BsaXQoJ3wnKTtcbiAgICBjb25zdCBtZXJjaGFudElkID0gcGFydHNbMF07XG4gICAgXG4gICAgY29uc3Qgcm93OiBSZXBvcnRSb3cgPSB7XG4gICAgICBNZXJjaGFudElEOiBtZXJjaGFudElkLFxuICAgIH07XG4gICAgXG4gICAgLy8gQWRkIGdyb3VwaW5nIGNvbHVtbiB2YWx1ZXMgKHVzZSBjb2x1bW4gbmFtZXMgYXMtaXM6IERheSwgTW9udGgsIHBheW1lbnRtb2RlLCBldGMuKVxuICAgIGdyb3VwQ29scy5mb3JFYWNoKChjb2wsIGlkeCkgPT4ge1xuICAgICAgY29uc3QgdmFsdWUgPSBwYXJ0c1tpZHggKyAxXSB8fCAnVU5LTk9XTic7XG4gICAgICByb3dbY29sXSA9IHZhbHVlO1xuICAgIH0pO1xuICAgIFxuICAgIC8vIEFkZCBtZXRyaWNzXG4gICAgY29uc3QgbWV0cmljcyA9IGNvbXB1dGVTUk1ldHJpY3MoZ3JvdXBUeHMsIHRvdGFsVm9sdW1lLCBtZXJjaGFudFRvdGFscyk7XG4gICAgT2JqZWN0LmFzc2lnbihyb3csIG1ldHJpY3MpO1xuICAgIFxuICAgIHJvd3MucHVzaChyb3cpO1xuICB9KTtcbiAgXG4gIC8vIFNvcnQgYnkgZ3JvdXBpbmcgY29sdW1ucyAodXNlIG9yaWdpbmFsIGNvbHVtbiBuYW1lcylcbiAgcm93cy5zb3J0KChhLCBiKSA9PiB7XG4gICAgZm9yIChjb25zdCBjb2wgb2YgZ3JvdXBDb2xzKSB7XG4gICAgICBjb25zdCBhVmFsID0gU3RyaW5nKGFbY29sXSB8fCAnJyk7XG4gICAgICBjb25zdCBiVmFsID0gU3RyaW5nKGJbY29sXSB8fCAnJyk7XG4gICAgICBcbiAgICAgIGlmIChhVmFsICE9PSBiVmFsKSB7XG4gICAgICAgIHJldHVybiBhVmFsLmxvY2FsZUNvbXBhcmUoYlZhbCk7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8vIFRoZW4gYnkgbWVyY2hhbnRcbiAgICBpZiAoYS5NZXJjaGFudElEICE9PSBiLk1lcmNoYW50SUQpIHtcbiAgICAgIHJldHVybiBhLk1lcmNoYW50SUQubG9jYWxlQ29tcGFyZShiLk1lcmNoYW50SUQpO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gMDtcbiAgfSk7XG4gIFxuICByZXR1cm4gcm93cztcbn1cblxuLyoqXG4gKiBBZGQgTW9NIGNoYW5nZXMgdG8gbW9udGhseSBkYXRhXG4gKi9cbmZ1bmN0aW9uIGFkZE1vTUNoYW5nZXMocm93czogUmVwb3J0Um93W10sIGdyb3VwQ29sczogc3RyaW5nW10pOiBSZXBvcnRSb3dbXSB7XG4gIGlmIChyb3dzLmxlbmd0aCA8PSAxIHx8ICFncm91cENvbHMuaW5jbHVkZXMoJ01vbnRoJykpIHJldHVybiByb3dzO1xuICBcbiAgY29uc3Qga2V5Q29scyA9IGdyb3VwQ29scy5maWx0ZXIoY29sID0+IGNvbCAhPT0gJ01vbnRoJyk7XG4gIFxuICAvLyBHcm91cCByb3dzIGJ5IGtleSBjb2x1bW5zIGZvciBNb00gY2FsY3VsYXRpb25cbiAgY29uc3Qgcm93c0J5S2V5ID0gbmV3IE1hcDxzdHJpbmcsIFJlcG9ydFJvd1tdPigpO1xuICByb3dzLmZvckVhY2gocm93ID0+IHtcbiAgICBjb25zdCBrZXkgPSBrZXlDb2xzLm1hcChjb2wgPT4ge1xuICAgICAgaWYgKGNvbCA9PT0gJ01lcmNoYW50SUQnKSByZXR1cm4gcm93Lk1lcmNoYW50SUQ7XG4gICAgICByZXR1cm4gU3RyaW5nKHJvd1tjb2xdIHx8ICcnKTtcbiAgICB9KS5qb2luKCd8Jyk7XG4gICAgXG4gICAgaWYgKCFyb3dzQnlLZXkuaGFzKGtleSkpIHtcbiAgICAgIHJvd3NCeUtleS5zZXQoa2V5LCBbXSk7XG4gICAgfVxuICAgIHJvd3NCeUtleS5nZXQoa2V5KSEucHVzaChyb3cpO1xuICB9KTtcbiAgXG4gIC8vIENhbGN1bGF0ZSBNb00gZm9yIGVhY2ggZ3JvdXBcbiAgcm93c0J5S2V5LmZvckVhY2goZ3JvdXBSb3dzID0+IHtcbiAgICBncm91cFJvd3Muc29ydCgoYSwgYikgPT4gKGFbJ01vbnRoJ10gfHwgJycpLmxvY2FsZUNvbXBhcmUoYlsnTW9udGgnXSB8fCAnJykpO1xuICAgIFxuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgZ3JvdXBSb3dzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBjdXJyZW50ID0gZ3JvdXBSb3dzW2ldO1xuICAgICAgY29uc3QgcHJldmlvdXMgPSBncm91cFJvd3NbaSAtIDFdO1xuICAgICAgXG4gICAgICAvLyBWb2x1bWUgY2hhbmdlc1xuICAgICAgY3VycmVudFsnVm9sdW1lIM6UJ10gPSBjdXJyZW50LlZvbHVtZSAtIHByZXZpb3VzLlZvbHVtZTtcbiAgICAgIGN1cnJlbnRbJ1ZvbHVtZSAlIENoYW5nZSddID0gcHJldmlvdXMuVm9sdW1lID4gMFxuICAgICAgICA/IE51bWJlcigoMTAwICogKGN1cnJlbnQuVm9sdW1lIC0gcHJldmlvdXMuVm9sdW1lKSAvIHByZXZpb3VzLlZvbHVtZSkudG9GaXhlZCgyKSlcbiAgICAgICAgOiAwO1xuICAgICAgXG4gICAgICAvLyBTUiBjaGFuZ2VzXG4gICAgICBjdXJyZW50WydTUiAoJSkgzpQnXSA9IE51bWJlcigoY3VycmVudFsnU1IgKCUpJ10gLSBwcmV2aW91c1snU1IgKCUpJ10pLnRvRml4ZWQoMikpO1xuICAgICAgY3VycmVudFsnU1IgKCUpICUgQ2hhbmdlJ10gPSBwcmV2aW91c1snU1IgKCUpJ10gPiAwXG4gICAgICAgID8gTnVtYmVyKCgxMDAgKiAoY3VycmVudFsnU1IgKCUpJ10gLSBwcmV2aW91c1snU1IgKCUpJ10pIC8gcHJldmlvdXNbJ1NSICglKSddKS50b0ZpeGVkKDIpKVxuICAgICAgICA6IDA7XG4gICAgfVxuICB9KTtcbiAgXG4gIHJldHVybiByb3dzO1xufVxuXG4vKipcbiAqIEdlbmVyYXRlIGZhaWx1cmUgYW5hbHlzaXMgc2hlZXRzXG4gKi9cbmZ1bmN0aW9uIGdlbmVyYXRlRmFpbHVyZUFuYWx5c2VzKFxuICB0cmFuc2FjdGlvbnM6IFRyYW5zYWN0aW9uW10sXG4gIHRpbWVDb2w6IHN0cmluZ1xuKTogTWFwPHN0cmluZywgUmVwb3J0Um93W10+IHtcbiAgY29uc3Qgc2hlZXRzID0gbmV3IE1hcDxzdHJpbmcsIFJlcG9ydFJvd1tdPigpO1xuICBcbiAgY29uc3QgZmFpbHVyZVRyYW5zYWN0aW9ucyA9IHRyYW5zYWN0aW9ucy5maWx0ZXIodHggPT4gIXR4LmlzU3VjY2Vzcyk7XG4gIFxuICBpZiAoZmFpbHVyZVRyYW5zYWN0aW9ucy5sZW5ndGggPT09IDApIHJldHVybiBzaGVldHM7XG4gIFxuICAvLyBDaGVjayBpZiBtdWx0aS1tb250aCBkYXRhXG4gIGNvbnN0IG1vbnRocyA9IG5ldyBTZXQodHJhbnNhY3Rpb25zLm1hcCh0eCA9PiBmb3JtYXQodHgudHh0aW1lLCAneXl5eS1NTScpKSk7XG4gIGNvbnN0IGlzTXVsdGlNb250aCA9IG1vbnRocy5zaXplID4gMTtcbiAgXG4gIC8vIEZhaWx1cmVzIGJ5IFJlYXNvbiAobWVyY2hhbnRpZCwgcGF5bWVudG1vZGUsIHR4bXNnKVxuICBjb25zdCByZWFzb25Hcm91cHMgPSBuZXcgTWFwPHN0cmluZywgVHJhbnNhY3Rpb25bXT4oKTtcbiAgZmFpbHVyZVRyYW5zYWN0aW9ucy5mb3JFYWNoKHR4ID0+IHtcbiAgICBjb25zdCBtZXJjaGFudElkID0gU3RyaW5nKHR4Lm1lcmNoYW50aWQgfHwgJycpLnRyaW0oKTtcbiAgICBjb25zdCBwYXltZW50TW9kZSA9IHR4LnBheW1lbnRtb2RlIHx8ICdVTktOT1dOJztcbiAgICBjb25zdCB0eG1zZyA9IHR4LnR4bXNnIHx8ICdVTktOT1dOJztcbiAgICBjb25zdCBrZXkgPSBgJHttZXJjaGFudElkfXwke3BheW1lbnRNb2RlfXwke3R4bXNnfWA7XG4gICAgXG4gICAgaWYgKCFyZWFzb25Hcm91cHMuaGFzKGtleSkpIHtcbiAgICAgIHJlYXNvbkdyb3Vwcy5zZXQoa2V5LCBbXSk7XG4gICAgfVxuICAgIHJlYXNvbkdyb3Vwcy5nZXQoa2V5KSEucHVzaCh0eCk7XG4gIH0pO1xuICBcbiAgY29uc3QgZmFpbHVyZXNCeVJlYXNvbjogUmVwb3J0Um93W10gPSBbXTtcbiAgcmVhc29uR3JvdXBzLmZvckVhY2goKHR4cywga2V5KSA9PiB7XG4gICAgY29uc3QgW21lcmNoYW50SWQsIHBheW1lbnRNb2RlLCB0eG1zZ10gPSBrZXkuc3BsaXQoJ3wnKTtcbiAgICBmYWlsdXJlc0J5UmVhc29uLnB1c2goe1xuICAgICAgTWVyY2hhbnRJRDogbWVyY2hhbnRJZCxcbiAgICAgIHBheW1lbnRtb2RlOiBwYXltZW50TW9kZSxcbiAgICAgIHR4bXNnOiB0eG1zZyxcbiAgICAgIFZvbHVtZTogdHhzLmxlbmd0aCxcbiAgICB9KTtcbiAgfSk7XG4gIGZhaWx1cmVzQnlSZWFzb24uc29ydCgoYSwgYikgPT4gYi5Wb2x1bWUgLSBhLlZvbHVtZSk7XG4gIHNoZWV0cy5zZXQoJ0ZhaWx1cmVzIGJ5IFJlYXNvbicsIGZhaWx1cmVzQnlSZWFzb24pO1xuICBcbiAgLy8gRmFpbHVyZXMgYnkgVGltZSBQZXJpb2QgKG1lcmNoYW50aWQsIHRpbWVDb2wpXG4gIGNvbnN0IHRpbWVHcm91cHMgPSBuZXcgTWFwPHN0cmluZywgVHJhbnNhY3Rpb25bXT4oKTtcbiAgZmFpbHVyZVRyYW5zYWN0aW9ucy5mb3JFYWNoKHR4ID0+IHtcbiAgICBjb25zdCBtZXJjaGFudElkID0gU3RyaW5nKHR4Lm1lcmNoYW50aWQgfHwgJycpLnRyaW0oKTtcbiAgICBsZXQgdGltZVZhbHVlOiBzdHJpbmc7XG4gICAgaWYgKHRpbWVDb2wgPT09ICdEYXknKSB7XG4gICAgICB0aW1lVmFsdWUgPSBmb3JtYXQodHgudHh0aW1lLCAneXl5eS1NTS1kZCcpO1xuICAgIH0gZWxzZSBpZiAodGltZUNvbCA9PT0gJ1dlZWsnKSB7XG4gICAgICBjb25zdCB3ZWVrU3RhcnQgPSBzdGFydE9mV2Vlayh0eC50eHRpbWUsIHsgd2Vla1N0YXJ0c09uOiAxIH0pO1xuICAgICAgdGltZVZhbHVlID0gZm9ybWF0KHdlZWtTdGFydCwgJ3l5eXktTU0tZGQnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGltZVZhbHVlID0gZm9ybWF0KHR4LnR4dGltZSwgJ3l5eXktTU0nKTtcbiAgICB9XG4gICAgY29uc3Qga2V5ID0gYCR7bWVyY2hhbnRJZH18JHt0aW1lVmFsdWV9YDtcbiAgICBcbiAgICBpZiAoIXRpbWVHcm91cHMuaGFzKGtleSkpIHtcbiAgICAgIHRpbWVHcm91cHMuc2V0KGtleSwgW10pO1xuICAgIH1cbiAgICB0aW1lR3JvdXBzLmdldChrZXkpIS5wdXNoKHR4KTtcbiAgfSk7XG4gIFxuICBjb25zdCBmYWlsdXJlc0J5VGltZTogUmVwb3J0Um93W10gPSBbXTtcbiAgdGltZUdyb3Vwcy5mb3JFYWNoKCh0eHMsIGtleSkgPT4ge1xuICAgIGNvbnN0IFttZXJjaGFudElkLCB0aW1lVmFsdWVdID0ga2V5LnNwbGl0KCd8Jyk7XG4gICAgZmFpbHVyZXNCeVRpbWUucHVzaCh7XG4gICAgICBNZXJjaGFudElEOiBtZXJjaGFudElkLFxuICAgICAgW3RpbWVDb2xdOiB0aW1lVmFsdWUsXG4gICAgICBWb2x1bWU6IHR4cy5sZW5ndGgsXG4gICAgfSk7XG4gIH0pO1xuICBmYWlsdXJlc0J5VGltZS5zb3J0KChhLCBiKSA9PiBTdHJpbmcoYVt0aW1lQ29sXSB8fCAnJykubG9jYWxlQ29tcGFyZShTdHJpbmcoYlt0aW1lQ29sXSB8fCAnJykpKTtcbiAgc2hlZXRzLnNldChgRmFpbHVyZXMgJHt0aW1lQ29sID09PSAnRGF5JyA/ICdEYWlseScgOiB0aW1lQ29sID09PSAnV2VlaycgPyAnV2Vla2x5JyA6ICdNb250aGx5J31gLCBmYWlsdXJlc0J5VGltZSk7XG4gIFxuICAvLyBGYWlsdXJlcyBieSBQYXltZW50IE1vZGUgYW5kIFRpbWUgKGlmIG11bHRpLW1vbnRoIGZvciBtb250aGx5KVxuICBpZiAoaXNNdWx0aU1vbnRoICYmIHRpbWVDb2wgPT09ICdNb250aCcpIHtcbiAgICBjb25zdCBwYXltb2RlVGltZUdyb3VwcyA9IG5ldyBNYXA8c3RyaW5nLCBUcmFuc2FjdGlvbltdPigpO1xuICAgIGZhaWx1cmVUcmFuc2FjdGlvbnMuZm9yRWFjaCh0eCA9PiB7XG4gICAgICBjb25zdCBtZXJjaGFudElkID0gU3RyaW5nKHR4Lm1lcmNoYW50aWQgfHwgJycpLnRyaW0oKTtcbiAgICAgIGNvbnN0IHBheW1lbnRNb2RlID0gdHgucGF5bWVudG1vZGUgfHwgJ1VOS05PV04nO1xuICAgICAgY29uc3QgbW9udGggPSBmb3JtYXQodHgudHh0aW1lLCAneXl5eS1NTScpO1xuICAgICAgY29uc3Qga2V5ID0gYCR7bWVyY2hhbnRJZH18JHtwYXltZW50TW9kZX18JHttb250aH1gO1xuICAgICAgXG4gICAgICBpZiAoIXBheW1vZGVUaW1lR3JvdXBzLmhhcyhrZXkpKSB7XG4gICAgICAgIHBheW1vZGVUaW1lR3JvdXBzLnNldChrZXksIFtdKTtcbiAgICAgIH1cbiAgICAgIHBheW1vZGVUaW1lR3JvdXBzLmdldChrZXkpIS5wdXNoKHR4KTtcbiAgICB9KTtcbiAgICBcbiAgICBjb25zdCBwYXltb2RlVGltZVJvd3M6IFJlcG9ydFJvd1tdID0gW107XG4gICAgcGF5bW9kZVRpbWVHcm91cHMuZm9yRWFjaCgodHhzLCBrZXkpID0+IHtcbiAgICAgIGNvbnN0IHBhcnRzID0ga2V5LnNwbGl0KCd8Jyk7XG4gICAgICBwYXltb2RlVGltZVJvd3MucHVzaCh7XG4gICAgICAgIE1lcmNoYW50SUQ6IHBhcnRzWzBdLFxuICAgICAgICBwYXltZW50bW9kZTogcGFydHNbMV0sXG4gICAgICAgIE1vbnRoOiBwYXJ0c1syXSxcbiAgICAgICAgVm9sdW1lOiB0eHMubGVuZ3RoLFxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgXG4gICAgLy8gU29ydCBhbmQgYWRkIE1vTSBjaGFuZ2VzXG4gICAgcGF5bW9kZVRpbWVSb3dzLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgIGlmIChhLk1vbnRoICE9PSBiLk1vbnRoKSByZXR1cm4gKGEuTW9udGggfHwgJycpLmxvY2FsZUNvbXBhcmUoYi5Nb250aCB8fCAnJyk7XG4gICAgICBpZiAoYS5NZXJjaGFudElEICE9PSBiLk1lcmNoYW50SUQpIHJldHVybiBhLk1lcmNoYW50SUQubG9jYWxlQ29tcGFyZShiLk1lcmNoYW50SUQpO1xuICAgICAgcmV0dXJuIDA7XG4gICAgfSk7XG4gICAgXG4gICAgLy8gQWRkIE1vTSBjaGFuZ2VzXG4gICAgY29uc3Qgcm93c0J5S2V5ID0gbmV3IE1hcDxzdHJpbmcsIFJlcG9ydFJvd1tdPigpO1xuICAgIHBheW1vZGVUaW1lUm93cy5mb3JFYWNoKHJvdyA9PiB7XG4gICAgICBjb25zdCBrZXkgPSBgJHtyb3cuTWVyY2hhbnRJRH18JHtyb3cucGF5bWVudG1vZGV9YDtcbiAgICAgIGlmICghcm93c0J5S2V5LmhhcyhrZXkpKSB7XG4gICAgICAgIHJvd3NCeUtleS5zZXQoa2V5LCBbXSk7XG4gICAgICB9XG4gICAgICByb3dzQnlLZXkuZ2V0KGtleSkhLnB1c2gocm93KTtcbiAgICB9KTtcbiAgICBcbiAgICByb3dzQnlLZXkuZm9yRWFjaChncm91cFJvd3MgPT4ge1xuICAgICAgZ3JvdXBSb3dzLnNvcnQoKGEsIGIpID0+IChhLk1vbnRoIHx8ICcnKS5sb2NhbGVDb21wYXJlKGIuTW9udGggfHwgJycpKTtcbiAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgZ3JvdXBSb3dzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnQgPSBncm91cFJvd3NbaV07XG4gICAgICAgIGNvbnN0IHByZXZpb3VzID0gZ3JvdXBSb3dzW2kgLSAxXTtcbiAgICAgICAgY3VycmVudFsnVm9sdW1lIM6UJ10gPSBjdXJyZW50LlZvbHVtZSAtIHByZXZpb3VzLlZvbHVtZTtcbiAgICAgICAgY3VycmVudFsnVm9sdW1lICUgQ2hhbmdlJ10gPSBwcmV2aW91cy5Wb2x1bWUgPiAwXG4gICAgICAgICAgPyBOdW1iZXIoKDEwMCAqIChjdXJyZW50LlZvbHVtZSAtIHByZXZpb3VzLlZvbHVtZSkgLyBwcmV2aW91cy5Wb2x1bWUpLnRvRml4ZWQoMikpXG4gICAgICAgICAgOiAwO1xuICAgICAgfVxuICAgIH0pO1xuICAgIFxuICAgIHNoZWV0cy5zZXQoJ0ZhaWx1cmVzIGJ5IFBheW1vZGUgTW9udGhseScsIHBheW1vZGVUaW1lUm93cyk7XG4gIH1cbiAgXG4gIHJldHVybiBzaGVldHM7XG59XG5cbi8qKlxuICogR2VuZXJhdGUgcmVwb3J0cyBiYXNlZCBvbiByZXBvcnQgdHlwZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVSZXBvcnQoXG4gIHRyYW5zYWN0aW9uczogVHJhbnNhY3Rpb25bXSxcbiAgcmVwb3J0VHlwZTogUmVwb3J0VHlwZSxcbiAgcGF5bWVudE1vZGVzPzogc3RyaW5nW11cbik6IE1hcDxzdHJpbmcsIFJlcG9ydFJvd1tdPiB7XG4gIGNvbnN0IHNoZWV0cyA9IG5ldyBNYXA8c3RyaW5nLCBSZXBvcnRSb3dbXT4oKTtcbiAgXG4gIGlmICh0cmFuc2FjdGlvbnMubGVuZ3RoID09PSAwKSByZXR1cm4gc2hlZXRzO1xuICBcbiAgLy8gRmlsdGVyIGJ5IHBheW1lbnQgbW9kZXMgaWYgc3BlY2lmaWVkXG4gIGxldCBmaWx0ZXJlZFR4cyA9IHRyYW5zYWN0aW9ucztcbiAgaWYgKHBheW1lbnRNb2RlcyAmJiBwYXltZW50TW9kZXMubGVuZ3RoID4gMCkge1xuICAgIGZpbHRlcmVkVHhzID0gdHJhbnNhY3Rpb25zLmZpbHRlcih0eCA9PiBwYXltZW50TW9kZXMuaW5jbHVkZXModHgucGF5bWVudG1vZGUpKTtcbiAgfVxuICBcbiAgaWYgKGZpbHRlcmVkVHhzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHNoZWV0cztcbiAgXG4gIC8vIENoZWNrIGlmIG11bHRpLW1vbnRoIGRhdGEgKGZvciBtb250aGx5IHJlcG9ydHMpXG4gIGNvbnN0IG1vbnRocyA9IG5ldyBTZXQoZmlsdGVyZWRUeHMubWFwKHR4ID0+IGZvcm1hdCh0eC50eHRpbWUsICd5eXl5LU1NJykpKTtcbiAgY29uc3QgaXNNdWx0aU1vbnRoID0gbW9udGhzLnNpemUgPiAxO1xuICBcbiAgLy8gQmFzZSBncm91cGluZyBjb2x1bW4gYmFzZWQgb24gcmVwb3J0IHR5cGVcbiAgbGV0IHRpbWVDb2w6IHN0cmluZztcbiAgaWYgKHJlcG9ydFR5cGUgPT09ICdkYWlseScpIHtcbiAgICB0aW1lQ29sID0gJ0RheSc7XG4gIH0gZWxzZSBpZiAocmVwb3J0VHlwZSA9PT0gJ3dlZWtseScpIHtcbiAgICB0aW1lQ29sID0gJ1dlZWsnO1xuICB9IGVsc2Uge1xuICAgIHRpbWVDb2wgPSAnTW9udGgnO1xuICB9XG4gIFxuICAvLyBTUiBieSBEYXRlL1dlZWsvTW9udGhcbiAgY29uc3QgdGltZVJvd3MgPSBjb21wdXRlU1JCcmVha2Rvd24oZmlsdGVyZWRUeHMsIFt0aW1lQ29sXSk7XG4gIGlmIChyZXBvcnRUeXBlID09PSAnbW9udGhseScgJiYgaXNNdWx0aU1vbnRoKSB7XG4gICAgc2hlZXRzLnNldChgU1IgJHtyZXBvcnRUeXBlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgcmVwb3J0VHlwZS5zbGljZSgxKX1gLCBhZGRNb01DaGFuZ2VzKHRpbWVSb3dzLCBbdGltZUNvbF0pKTtcbiAgfSBlbHNlIHtcbiAgICBzaGVldHMuc2V0KGBTUiAke3JlcG9ydFR5cGUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyByZXBvcnRUeXBlLnNsaWNlKDEpfWAsIHRpbWVSb3dzKTtcbiAgfVxuICBcbiAgLy8gU1IgYnkgUGF5bW9kZVxuICBpZiAodHJhbnNhY3Rpb25zLnNvbWUodHggPT4gdHgucGF5bWVudG1vZGUpKSB7XG4gICAgY29uc3QgcGF5bW9kZVJvd3MgPSBjb21wdXRlU1JCcmVha2Rvd24oZmlsdGVyZWRUeHMsIFsncGF5bWVudG1vZGUnXSk7XG4gICAgc2hlZXRzLnNldCgnU1IgYnkgUGF5bW9kZScsIHBheW1vZGVSb3dzKTtcbiAgICBcbiAgICAvLyBQYXltb2RlICsgdGltZSBicmVha2Rvd25cbiAgICBjb25zdCBwYXltb2RlVGltZVJvd3MgPSBjb21wdXRlU1JCcmVha2Rvd24oZmlsdGVyZWRUeHMsIFt0aW1lQ29sLCAncGF5bWVudG1vZGUnXSk7XG4gICAgaWYgKHJlcG9ydFR5cGUgPT09ICdtb250aGx5JyAmJiBpc011bHRpTW9udGgpIHtcbiAgICAgIHNoZWV0cy5zZXQoYFNSIGJ5IFBheW1vZGUgJHtyZXBvcnRUeXBlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgcmVwb3J0VHlwZS5zbGljZSgxKX1gLCBhZGRNb01DaGFuZ2VzKHBheW1vZGVUaW1lUm93cywgW3RpbWVDb2wsICdwYXltZW50bW9kZSddKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNoZWV0cy5zZXQoYFNSIGJ5IFBheW1vZGUgJHtyZXBvcnRUeXBlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgcmVwb3J0VHlwZS5zbGljZSgxKX1gLCBwYXltb2RlVGltZVJvd3MpO1xuICAgIH1cbiAgfVxuICBcbiAgLy8gU1IgYnkgQmFua1xuICBpZiAodHJhbnNhY3Rpb25zLnNvbWUodHggPT4gdHguYmFua25hbWUpKSB7XG4gICAgY29uc3QgYmFua1Jvd3MgPSBjb21wdXRlU1JCcmVha2Rvd24oZmlsdGVyZWRUeHMsIFsnYmFua25hbWUnXSk7XG4gICAgc2hlZXRzLnNldCgnU1IgYnkgQmFuaycsIGJhbmtSb3dzKTtcbiAgICBcbiAgICAvLyBQYXltb2RlICsgQmFua1xuICAgIGlmICh0cmFuc2FjdGlvbnMuc29tZSh0eCA9PiB0eC5wYXltZW50bW9kZSkpIHtcbiAgICAgIGNvbnN0IHBheW1vZGVCYW5rUm93cyA9IGNvbXB1dGVTUkJyZWFrZG93bihmaWx0ZXJlZFR4cywgWydwYXltZW50bW9kZScsICdiYW5rbmFtZSddKTtcbiAgICAgIHNoZWV0cy5zZXQoJ1BheW1vZGUrQmFuaycsIHBheW1vZGVCYW5rUm93cyk7XG4gICAgfVxuICB9XG4gIFxuICAvLyBDYXJkIE5ldHdvcmsgKGZpbHRlcmVkIHRvIENSRURJVF9DQVJELCBERUJJVF9DQVJEKVxuICBjb25zdCBjYXJkVHJhbnNhY3Rpb25zID0gZmlsdGVyZWRUeHMuZmlsdGVyKHR4ID0+IFxuICAgIFsnQ1JFRElUX0NBUkQnLCAnREVCSVRfQ0FSRCddLmluY2x1ZGVzKHR4LnBheW1lbnRtb2RlKVxuICApO1xuICBpZiAoY2FyZFRyYW5zYWN0aW9ucy5sZW5ndGggPiAwICYmIHRyYW5zYWN0aW9ucy5zb21lKHR4ID0+IHR4LmNhcmR0eXBlKSkge1xuICAgIHNoZWV0cy5zZXQoJ0NhcmQgTmV0d29yaycsIGNvbXB1dGVTUkJyZWFrZG93bihjYXJkVHJhbnNhY3Rpb25zLCBbJ3BheW1lbnRtb2RlJywgJ2NhcmR0eXBlJ10pKTtcbiAgICBcbiAgICBpZiAocmVwb3J0VHlwZSA9PT0gJ2RhaWx5Jykge1xuICAgICAgc2hlZXRzLnNldCgnU1IgYnkgQ2FyZCBUeXBlIERhaWx5JywgY29tcHV0ZVNSQnJlYWtkb3duKGNhcmRUcmFuc2FjdGlvbnMsIFsnRGF5JywgJ3BheW1lbnRtb2RlJywgJ2NhcmR0eXBlJ10pKTtcbiAgICB9XG4gIH1cbiAgXG4gIC8vIFVQSS1zcGVjaWZpYzogUFNQIExldmVsXG4gIGNvbnN0IHVwaVRyYW5zYWN0aW9ucyA9IGZpbHRlcmVkVHhzLmZpbHRlcih0eCA9PiBcbiAgICBbJ1VQSScsICdVUElfQ1JFRElUX0NBUkQnLCAnVVBJX1BQSSddLmluY2x1ZGVzKHR4LnBheW1lbnRtb2RlKSAmJiB0eC51cGlfcHNwXG4gICk7XG4gIGlmICh1cGlUcmFuc2FjdGlvbnMubGVuZ3RoID4gMCkge1xuICAgIGNvbnN0IHBzcFJvd3MgPSBjb21wdXRlU1JCcmVha2Rvd24odXBpVHJhbnNhY3Rpb25zLCBbJ3VwaV9wc3AnXSk7XG4gICAgc2hlZXRzLnNldCgnU1IgYnkgUFNQJywgcHNwUm93cyk7XG4gICAgXG4gICAgLy8gUFNQICsgdGltZSBicmVha2Rvd25cbiAgICBjb25zdCBwc3BUaW1lUm93cyA9IGNvbXB1dGVTUkJyZWFrZG93bih1cGlUcmFuc2FjdGlvbnMsIFt0aW1lQ29sLCAndXBpX3BzcCddKTtcbiAgICBpZiAocmVwb3J0VHlwZSA9PT0gJ21vbnRobHknICYmIGlzTXVsdGlNb250aCkge1xuICAgICAgc2hlZXRzLnNldChgU1IgYnkgUFNQICR7cmVwb3J0VHlwZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHJlcG9ydFR5cGUuc2xpY2UoMSl9YCwgYWRkTW9NQ2hhbmdlcyhwc3BUaW1lUm93cywgW3RpbWVDb2wsICd1cGlfcHNwJ10pKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2hlZXRzLnNldChgU1IgYnkgUFNQICR7cmVwb3J0VHlwZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHJlcG9ydFR5cGUuc2xpY2UoMSl9YCwgcHNwVGltZVJvd3MpO1xuICAgIH1cbiAgfVxuICBcbiAgLy8gVVBJLXNwZWNpZmljOiBIYW5kbGUgTGV2ZWxcbiAgY29uc3QgdXBpV2l0aEhhbmRsZXMgPSBmaWx0ZXJlZFR4cy5maWx0ZXIodHggPT4ge1xuICAgIGlmICghWydVUEknLCAnVVBJX0NSRURJVF9DQVJEJywgJ1VQSV9QUEknXS5pbmNsdWRlcyh0eC5wYXltZW50bW9kZSkpIHJldHVybiBmYWxzZTtcbiAgICBjb25zdCBoYW5kbGUgPSBleHRyYWN0VVBJSGFuZGxlKHR4LmNhcmRtYXNrZWQpO1xuICAgIHJldHVybiBoYW5kbGUgIT09IG51bGw7XG4gIH0pO1xuICBpZiAodXBpV2l0aEhhbmRsZXMubGVuZ3RoID4gMCkge1xuICAgIGNvbnN0IGhhbmRsZVJvd3MgPSBjb21wdXRlU1JCcmVha2Rvd24odXBpV2l0aEhhbmRsZXMsIFsnaGFuZGxlJ10pO1xuICAgIC8vIFNvcnQgYnkgdm9sdW1lIGRlc2NlbmRpbmcgYW5kIHRha2UgdG9wIGhhbmRsZXNcbiAgICBoYW5kbGVSb3dzLnNvcnQoKGEsIGIpID0+IGIuVm9sdW1lIC0gYS5Wb2x1bWUpO1xuICAgIHNoZWV0cy5zZXQoJ1NSIGJ5IEhhbmRsZScsIGhhbmRsZVJvd3MpO1xuICAgIFxuICAgIC8vIEhhbmRsZSArIHRpbWUgYnJlYWtkb3duXG4gICAgY29uc3QgaGFuZGxlVGltZVJvd3MgPSBjb21wdXRlU1JCcmVha2Rvd24odXBpV2l0aEhhbmRsZXMsIFt0aW1lQ29sLCAnaGFuZGxlJ10pO1xuICAgIGhhbmRsZVRpbWVSb3dzLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgIGNvbnN0IHRpbWVDb21wYXJlID0gU3RyaW5nKGFbdGltZUNvbF0gfHwgJycpLmxvY2FsZUNvbXBhcmUoU3RyaW5nKGJbdGltZUNvbF0gfHwgJycpKTtcbiAgICAgIGlmICh0aW1lQ29tcGFyZSAhPT0gMCkgcmV0dXJuIHRpbWVDb21wYXJlO1xuICAgICAgcmV0dXJuIGIuVm9sdW1lIC0gYS5Wb2x1bWU7XG4gICAgfSk7XG4gICAgc2hlZXRzLnNldChgU1IgYnkgSGFuZGxlICR7cmVwb3J0VHlwZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHJlcG9ydFR5cGUuc2xpY2UoMSl9YCwgaGFuZGxlVGltZVJvd3MpO1xuICB9XG4gIFxuICAvLyBBZGQgZmFpbHVyZSBhbmFseXNpcyBzaGVldHNcbiAgY29uc3QgZmFpbHVyZVNoZWV0cyA9IGdlbmVyYXRlRmFpbHVyZUFuYWx5c2VzKGZpbHRlcmVkVHhzLCB0aW1lQ29sKTtcbiAgZmFpbHVyZVNoZWV0cy5mb3JFYWNoKChkYXRhLCBuYW1lKSA9PiB7XG4gICAgc2hlZXRzLnNldChuYW1lLCBkYXRhKTtcbiAgfSk7XG4gIFxuICByZXR1cm4gc2hlZXRzO1xufVxuIl0sIm5hbWVzIjpbImZvcm1hdCIsInN0YXJ0T2ZXZWVrIiwiZXh0cmFjdFVQSUhhbmRsZSIsImNvbXB1dGVTUk1ldHJpY3MiLCJ0cmFuc2FjdGlvbnMiLCJ0b3RhbFZvbHVtZSIsIm1lcmNoYW50VG90YWxzIiwidm9sdW1lIiwibGVuZ3RoIiwic3VjY2VzcyIsImZpbHRlciIsInR4IiwiaXNTdWNjZXNzIiwidXNlckRyb3BzIiwiaXNVc2VyRHJvcHBlZCIsInVuc3VjY2Vzc2Z1bCIsInRvdGFsVmFsdWUiLCJyZWR1Y2UiLCJzdW0iLCJ0eGFtb3VudCIsImdtdiIsInNyIiwiTnVtYmVyIiwidG9GaXhlZCIsIm5vblVzZXJEcm9wVHhzIiwic3JXaXRob3V0RHJvcHMiLCJwZXJjZW50R2xvYmFsIiwicmVzdWx0IiwiVm9sdW1lIiwiU3VjY2VzcyIsIlVzZXJEcm9wcyIsIkdNViIsIm1lcmNoYW50SWQiLCJTdHJpbmciLCJtZXJjaGFudGlkIiwidHJpbSIsIm1lcmNoYW50VG90YWwiLCJnZXQiLCJjb21wdXRlU1JCcmVha2Rvd24iLCJncm91cENvbHMiLCJNYXAiLCJmb3JFYWNoIiwic2V0IiwiZ3JvdXBzIiwia2V5UGFydHMiLCJjb2wiLCJ2YWx1ZSIsInR4dGltZSIsIndlZWtTdGFydCIsIndlZWtTdGFydHNPbiIsInBheW1lbnRtb2RlIiwiYmFua25hbWUiLCJjYXJkdHlwZSIsInVwaV9wc3AiLCJoYW5kbGUiLCJjYXJkbWFza2VkIiwicHVzaCIsImtleSIsImpvaW4iLCJoYXMiLCJyb3dzIiwiZ3JvdXBUeHMiLCJwYXJ0cyIsInNwbGl0Iiwicm93IiwiTWVyY2hhbnRJRCIsImlkeCIsIm1ldHJpY3MiLCJPYmplY3QiLCJhc3NpZ24iLCJzb3J0IiwiYSIsImIiLCJhVmFsIiwiYlZhbCIsImxvY2FsZUNvbXBhcmUiLCJhZGRNb01DaGFuZ2VzIiwiaW5jbHVkZXMiLCJrZXlDb2xzIiwicm93c0J5S2V5IiwibWFwIiwiZ3JvdXBSb3dzIiwiaSIsImN1cnJlbnQiLCJwcmV2aW91cyIsImdlbmVyYXRlRmFpbHVyZUFuYWx5c2VzIiwidGltZUNvbCIsInNoZWV0cyIsImZhaWx1cmVUcmFuc2FjdGlvbnMiLCJtb250aHMiLCJTZXQiLCJpc011bHRpTW9udGgiLCJzaXplIiwicmVhc29uR3JvdXBzIiwicGF5bWVudE1vZGUiLCJ0eG1zZyIsImZhaWx1cmVzQnlSZWFzb24iLCJ0eHMiLCJ0aW1lR3JvdXBzIiwidGltZVZhbHVlIiwiZmFpbHVyZXNCeVRpbWUiLCJwYXltb2RlVGltZUdyb3VwcyIsIm1vbnRoIiwicGF5bW9kZVRpbWVSb3dzIiwiTW9udGgiLCJnZW5lcmF0ZVJlcG9ydCIsInJlcG9ydFR5cGUiLCJwYXltZW50TW9kZXMiLCJmaWx0ZXJlZFR4cyIsInRpbWVSb3dzIiwiY2hhckF0IiwidG9VcHBlckNhc2UiLCJzbGljZSIsInNvbWUiLCJwYXltb2RlUm93cyIsImJhbmtSb3dzIiwicGF5bW9kZUJhbmtSb3dzIiwiY2FyZFRyYW5zYWN0aW9ucyIsInVwaVRyYW5zYWN0aW9ucyIsInBzcFJvd3MiLCJwc3BUaW1lUm93cyIsInVwaVdpdGhIYW5kbGVzIiwiaGFuZGxlUm93cyIsImhhbmRsZVRpbWVSb3dzIiwidGltZUNvbXBhcmUiLCJmYWlsdXJlU2hlZXRzIiwiZGF0YSIsIm5hbWUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./lib/report-generator.ts\n");

/***/ })

};
;